var Zepto=function(){function e(e){return null==e?String(e):V[U.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function a(e){return r(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function s(e){return"number"==typeof e.length}function o(e){return _.call(e,function(e){return null!=e})}function l(e){return e.length>0?S.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function p(e){return e in z?z[e]:z[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function u(e,t){return"number"!=typeof t||L[c(e)]?t:t+"px"}function d(e){var t,n;return I[e]||(t=D.createElement(e),D.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),I[e]=n),I[e]}function h(e){return"children"in e?P.call(e.children):S.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function f(e,t,n){for(T in t)n&&(a(t[T])||K(t[T]))?(a(t[T])&&!a(e[T])&&(e[T]={}),K(t[T])&&!K(e[T])&&(e[T]=[]),f(e[T],t[T],n)):t[T]!==x&&(e[T]=t[T])}function m(e,t){return null==t?S(e):S(e).filter(t)}function g(e,n,i,r){return t(n)?n.call(e,i,r):n}function v(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){var n=e.className||"",i=n&&n.baseVal!==x;return t===x?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function w(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?S.parseJSON(e):e):e}catch(t){return e}}function b(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)b(e.childNodes[n],t)}var x,T,S,C,k,E,M=[],P=M.slice,_=M.filter,D=window.document,I={},z={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},A=/^\s*<(\w+|!)[^>]*>/,R=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,O=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,H=/^(?:body|html)$/i,B=/([A-Z])/g,Y=["val","css","html","text","data","width","height","offset"],N=["after","prepend","before","append"],F=D.createElement("table"),X=D.createElement("tr"),W={tr:D.createElement("tbody"),tbody:F,thead:F,tfoot:F,td:X,th:X,"*":D.createElement("div")},q=/complete|loaded|interactive/,j=/^[\w-]*$/,V={},U=V.toString,G={},$=D.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},K=Array.isArray||function(e){return e instanceof Array};return G.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,a=!r;return a&&(r=$).appendChild(e),i=~G.qsa(r,t).indexOf(e),a&&$.removeChild(e),i},k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},E=function(e){return _.call(e,function(t,n){return e.indexOf(t)==n})},G.fragment=function(e,t,n){var i,r,s;return R.test(e)&&(i=S(D.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(O,"<$1></$2>")),t===x&&(t=A.test(e)&&RegExp.$1),t in W||(t="*"),s=W[t],s.innerHTML=""+e,i=S.each(P.call(s.childNodes),function(){s.removeChild(this)})),a(n)&&(r=S(i),S.each(n,function(e,t){Y.indexOf(e)>-1?r[e](t):r.attr(e,t)})),i},G.Z=function(e,t){return e=e||[],e.__proto__=S.fn,e.selector=t||"",e},G.isZ=function(e){return e instanceof G.Z},G.init=function(e,n){var i;if(!e)return G.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&A.test(e))i=G.fragment(e,RegExp.$1,n),e=null;else{if(n!==x)return S(n).find(e);i=G.qsa(D,e)}else{if(t(e))return S(D).ready(e);if(G.isZ(e))return e;if(K(e))i=o(e);else if(r(e))i=[e],e=null;else if(A.test(e))i=G.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==x)return S(n).find(e);i=G.qsa(D,e)}}return G.Z(i,e)},S=function(e,t){return G.init(e,t)},S.extend=function(e){var t,n=P.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){f(e,n,t)}),e},G.qsa=function(e,t){var n,r="#"==t[0],a=!r&&"."==t[0],s=r||a?t.slice(1):t,o=j.test(s);return i(e)&&o&&r?(n=e.getElementById(s))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:P.call(o&&!r?a?e.getElementsByClassName(s):e.getElementsByTagName(t):e.querySelectorAll(t))},S.contains=D.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},S.type=e,S.isFunction=t,S.isWindow=n,S.isArray=K,S.isPlainObject=a,S.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},S.inArray=function(e,t,n){return M.indexOf.call(t,e,n)},S.camelCase=k,S.trim=function(e){return null==e?"":String.prototype.trim.call(e)},S.uuid=0,S.support={},S.expr={},S.map=function(e,t){var n,i,r,a=[];if(s(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&a.push(n);else for(r in e)n=t(e[r],r),null!=n&&a.push(n);return l(a)},S.each=function(e,t){var n,i;if(s(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},S.grep=function(e,t){return _.call(e,t)},window.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()}),S.fn={forEach:M.forEach,reduce:M.reduce,push:M.push,sort:M.sort,indexOf:M.indexOf,concat:M.concat,map:function(e){return S(S.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return S(P.apply(this,arguments))},ready:function(e){return q.test(D.readyState)&&D.body?e(S):D.addEventListener("DOMContentLoaded",function(){e(S)},!1),this},get:function(e){return e===x?P.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return M.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):S(_.call(this,function(t){return G.matches(t,e)}))},add:function(e,t){return S(E(this.concat(S(e,t))))},is:function(e){return this.length>0&&G.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==x)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):s(e)&&t(e.item)?P.call(e):S(e);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return S(n)},has:function(e){return this.filter(function(){return r(e)?S.contains(this,e):S(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:S(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:S(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?S(e).filter(function(){var e=this;return M.some.call(n,function(t){return S.contains(t,e)})}):1==this.length?S(G.qsa(this[0],e)):this.map(function(){return G.qsa(this,e)}):S()},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=S(e));n&&!(r?r.indexOf(n)>=0:G.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return S(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=S.map(n,function(e){if((e=e.parentNode)&&!i(e)&&t.indexOf(e)<0)return t.push(e),e});return m(t,e)},parent:function(e){return m(E(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return h(this)}),e)},contents:function(){return this.map(function(){return P.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return _.call(h(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return S.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=S(e).get(0),r=i.parentNode||this.length>1;return this.each(function(t){S(this).wrapAll(n?e.call(this,t):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){S(this[0]).before(e=S(e));for(var t;(t=e.children()).length;)e=t.first();S(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=S(this),r=i.contents(),a=n?e.call(this,t):e;r.length?r.wrapAll(a):i.append(a)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=S(this);(e===x?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return S(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return S(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;S(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(e))for(T in e)v(this,T,e[T]);else v(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:x},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){v(this,e)},this)})},prop:function(e,t){return e=Z[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(B,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?w(i):x},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=S(this),i=g(this,e,t,n.offset()),r=n.offsetParent().offset(),a={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(a.position="relative"),n.css(a)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof t)return r.style[k(t)]||i.getPropertyValue(t);if(K(t)){var a={};return S.each(t,function(e,t){a[t]=r.style[k(t)]||i.getPropertyValue(t)}),a}}var s="";if("string"==e(t))n||0===n?s=c(t)+":"+u(t,n):this.each(function(){this.style.removeProperty(c(t))});else for(T in t)t[T]||0===t[T]?s+=c(T)+":"+u(T,t[T])+";":this.each(function(){this.style.removeProperty(c(T))});return this.each(function(){this.style.cssText+=";"+s})},index:function(e){return e?this.indexOf(S(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&M.some.call(this,function(e){return this.test(y(e))},p(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){C=[];var n=y(this),i=g(this,e,t,n);i.split(/\s+/g).forEach(function(e){S(this).hasClass(e)||C.push(e)},this),C.length&&y(this,n+(n?" ":"")+C.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===x)return y(this,"");C=y(this),g(this,e,t,C).split(/\s+/g).forEach(function(e){C=C.replace(p(e)," ")}),y(this,C.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=S(this),r=g(this,e,n,y(this));r.split(/\s+/g).forEach(function(e){(t===x?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===x?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===x?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=H.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(S(e).css("margin-top"))||0,n.left-=parseFloat(S(e).css("margin-left"))||0,i.top+=parseFloat(S(t[0]).css("border-top-width"))||0,i.left+=parseFloat(S(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||D.body;e&&!H.test(e.nodeName)&&"static"==S(e).css("position");)e=e.offsetParent;return e})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});S.fn[e]=function(r){var a,s=this[0];return r===x?n(s)?s["inner"+t]:i(s)?s.documentElement["scroll"+t]:(a=this.offset())&&a[e]:this.each(function(t){s=S(this),s.css(e,g(this,r,t,s[e]()))})}}),N.forEach(function(t,n){var i=n%2;S.fn[t]=function(){var t,r,a=S.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:G.fragment(n)}),s=this.length>1;return a.length<1?this:this.each(function(e,t){r=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var o=S.contains(D.documentElement,r);a.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!r)return S(e).remove();r.insertBefore(e,t),o&&b(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},S.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return S(e)[t](this),this}}),G.Z.prototype=S.fn,G.uniq=E,G.deserializeValue=w,S.zepto=G,S}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=d++)}function n(e,n,a,s){if(n=i(n),n.ns)var o=r(n.ns);return(g[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||o.test(e.ns))&&(!a||t(e.fn)===t(a))&&(!s||e.sel==s)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function a(e,t){return e.del&&!y&&e.e in w||!!t}function s(e){return b[e]||y&&w[e]||e}function o(n,r,o,l,p,d,h){var f=t(n),m=g[f]||(g[f]=[]);r.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(o);var r=i(t);r.fn=o,r.sel=p,r.e in b&&(o=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return r.fn.apply(this,arguments)}),r.del=d;var f=d||o;r.proxy=function(e){if(e=c(e),!e.isImmediatePropagationStopped()){e.data=l;var t=f.apply(n,e._args==u?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},r.i=m.length,m.push(r),"addEventListener"in n&&n.addEventListener(s(r.e),r.proxy,a(r,h))})}function l(e,i,r,o,l){var c=t(e);(i||"").split(/\s/).forEach(function(t){n(e,t,r,o).forEach(function(t){delete g[c][t.i],"removeEventListener"in e&&e.removeEventListener(s(t.e),t.proxy,a(t,l))})})}function c(t,n){return!n&&t.isDefaultPrevented||(n||(n=t),e.each(C,function(e,i){var r=n[e];t[e]=function(){return this[i]=x,r&&r.apply(n,arguments)},t[i]=T}),(n.defaultPrevented!==u?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=x)),t}function p(e){var t,n={originalEvent:e};for(t in e)S.test(t)||e[t]===u||(n[t]=e[t]);return c(n,e)}var u,d=1,h=Array.prototype.slice,f=e.isFunction,m=function(e){return"string"==typeof e},g={},v={},y="onfocusin"in window,w={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",e.event={add:o,remove:l},e.proxy=function(n,i){var r=2 in arguments&&h.call(arguments,2);if(f(n)){var a=function(){return n.apply(i,r?r.concat(h.call(arguments)):arguments)};return a._zid=t(n),a}if(m(i))return r?(r.unshift(n[i],n),e.proxy.apply(null,r)):e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var x=function(){return!0},T=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$)/,C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,r,a){var s,c,d=this;return t&&!m(t)?(e.each(t,function(e,t){d.on(e,n,i,t,a)}),d):(m(n)||f(r)||r===!1||(r=i,i=n,n=u),(f(i)||i===!1)&&(r=i,i=u),r===!1&&(r=T),d.each(function(u,d){a&&(s=function(e){return l(d,e.type,r),r.apply(this,arguments)}),n&&(c=function(t){var i,a=e(t.target).closest(n,d).get(0);if(a&&a!==d)return i=e.extend(p(t),{currentTarget:a,liveFired:d}),(s||r).apply(a,[i].concat(h.call(arguments,1)))}),o(d,t,r,i,n,c||s)}))},e.fn.off=function(t,n,i){var r=this;return t&&!m(t)?(e.each(t,function(e,t){r.off(e,n,t)}),r):(m(n)||f(i)||i===!1||(i=n,n=u),i===!1&&(i=T),r.each(function(){l(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):c(t),t._args=n,this.each(function(){t.type in w&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,i){var r,a;return this.each(function(s,o){r=p(m(t)?e.Event(t):t),r._args=i,r.target=o,e.each(n(o,t.type||t),function(e,t){if(a=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),a},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var n=document.createEvent(v[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),c(n)}}(Zepto),function(e){function t(t,n,i){var r=e.Event(n);return e(t).trigger(r,i),!r.isDefaultPrevented()}function n(e,n,i,r){if(e.global)return t(n||y,i,r)}function i(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function r(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function a(e,t){var i=t.context;return t.beforeSend.call(i,e,t)!==!1&&n(t,i,"ajaxBeforeSend",[e,t])!==!1&&void n(t,i,"ajaxSend",[e,t])}function s(e,t,i,r){var a=i.context,s="success";i.success.call(a,e,s,t),r&&r.resolveWith(a,[e,s,t]),n(i,a,"ajaxSuccess",[t,i,e]),l(s,t,i)}function o(e,t,i,r,a){var s=r.context;r.error.call(s,i,t,e),a&&a.rejectWith(s,[i,t,e]),n(r,s,"ajaxError",[i,r,e||t]),l(t,i,r)}function l(e,t,i){var a=i.context;i.complete.call(a,t,e),n(i,a,"ajaxComplete",[t,i]),r(i)}function c(){}function p(e){return e&&(e=e.split(";",2)[0]),e&&(e==S?"html":e==T?"json":b.test(e)?"script":x.test(e)&&"xml")||"text"}function u(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function d(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=u(t.url,t.data),t.data=void 0)}function h(t,n,i,r){return e.isFunction(n)&&(r=i,i=n,n=void 0),e.isFunction(i)||(r=i,i=void 0),{url:t,data:n,success:i,dataType:r}}function f(t,n,i,r){var a,s=e.isArray(n),o=e.isPlainObject(n);e.each(n,function(n,l){a=e.type(l),r&&(n=i?r:r+"["+(o||"object"==a||"array"==a?n:"")+"]"),!r&&s?t.add(l.name,l.value):"array"==a||!i&&"object"==a?f(t,l,i,n):t.add(n,l)})}var m,g,v=0,y=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,T="application/json",S="text/html",C=/^\s*$/,k=y.createElement("a");k.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var i,r,l=t.jsonpCallback,c=(e.isFunction(l)?l():l)||"jsonp"+ ++v,p=y.createElement("script"),u=window[c],d=function(t){e(p).triggerHandler("error",t||"abort")},h={abort:d};return n&&n.promise(h),e(p).on("load error",function(a,l){clearTimeout(r),e(p).off().remove(),"error"!=a.type&&i?s(i[0],h,t,n):o(null,l||"error",h,t,n),window[c]=u,i&&e.isFunction(u)&&u(i[0]),u=i=void 0}),a(h,t)===!1?(d("abort"),h):(window[c]=function(){i=arguments},p.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(p),t.timeout>0&&(r=setTimeout(function(){d("timeout")},t.timeout)),h)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:T,xml:"application/xml, text/xml",html:S,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,r=e.extend({},t||{}),l=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===r[m]&&(r[m]=e.ajaxSettings[m]);i(r),r.crossDomain||(n=y.createElement("a"),n.href=r.url,n.href=n.href,r.crossDomain=k.protocol+"//"+k.host!=n.protocol+"//"+n.host),r.url||(r.url=window.location.toString()),d(r);var h=r.dataType,f=/\?.+=\?/.test(r.url);if(f&&(h="jsonp"),r.cache!==!1&&(t&&t.cache===!0||"script"!=h&&"jsonp"!=h)||(r.url=u(r.url,"_="+Date.now())),"jsonp"==h)return f||(r.url=u(r.url,r.jsonp?r.jsonp+"=?":r.jsonp===!1?"":"callback=?")),e.ajaxJSONP(r,l);var v,w=r.accepts[h],b={},x=function(e,t){b[e.toLowerCase()]=[e,t]},T=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,S=r.xhr(),E=S.setRequestHeader;if(l&&l.promise(S),r.crossDomain||x("X-Requested-With","XMLHttpRequest"),x("Accept",w||"*/*"),(w=r.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(w)),(r.contentType||r.contentType!==!1&&r.data&&"GET"!=r.type.toUpperCase())&&x("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(g in r.headers)x(g,r.headers[g]);if(S.setRequestHeader=x,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=c,clearTimeout(v);var t,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==T){h=h||p(r.mimeType||S.getResponseHeader("content-type")),t=S.responseText;try{"script"==h?(0,eval)(t):"xml"==h?t=S.responseXML:"json"==h&&(t=C.test(t)?null:e.parseJSON(t))}catch(i){n=i}n?o(n,"parsererror",S,r,l):s(t,S,r,l)}else o(S.statusText||null,S.status?"error":"abort",S,r,l)}},a(S,r)===!1)return S.abort(),o(null,"abort",S,r,l),S;if(r.xhrFields)for(g in r.xhrFields)S[g]=r.xhrFields[g];var M=!("async"in r)||r.async;S.open(r.type,r.url,M,r.username,r.password);for(g in b)E.apply(S,b[g]);return r.timeout>0&&(v=setTimeout(function(){S.onreadystatechange=c,S.abort(),o(null,"timeout",S,r,l)},r.timeout)),S.send(r.data?r.data:null),S},e.get=function(){return e.ajax(h.apply(null,arguments))},e.post=function(){var t=h.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=h.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var r,a=this,s=t.split(/\s/),o=h(t,n,i),l=o.success;return s.length>1&&(o.url=s[0],r=s[1]),o.success=function(t){a.html(r?e("<div>").html(t.replace(w,"")).find(r):t),l&&l.apply(a,arguments)},e.ajax(o),this};var E=encodeURIComponent;e.param=function(t,n){var i=[];return i.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(E(t)+"="+E(n))},f(i,t,n),i.join("&").replace(/%20/g,"+")}}(Zepto),function(e){e.fn.serializeArray=function(){var t,n,i=[],r=function(e){return e.forEach?e.forEach(r):void i.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(i,a){n=a.type,t=a.name,t&&"fieldset"!=a.nodeName.toLowerCase()&&!a.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||a.checked)&&r(e(a).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;window.getComputedStyle=function(e){try{return n(e)}catch(t){return null}}}}(Zepto),$.smVersion="0.6.2",+function(e){"use strict";var t={autoInit:!1,showPageLoadingIndicator:!0,router:!0,swipePanel:"left",swipePanelOnlyClose:!0};e.smConfig=e.extend(t,e.config)}(Zepto),+function(e){"use strict";e.compareVersion=function(e,t){var n=e.split("."),i=t.split(".");if(e===t)return 0;for(var r=0;r<n.length;r++){var a=parseInt(n[r]);if(!i[r])return 1;var s=parseInt(i[r]);if(a<s)return-1;if(a>s)return 1}return-1},e.getCurrentPage=function(){return e(".page-current")[0]||e(".page")[0]||document.body}}(Zepto),function(e){"use strict";function t(e,t){function n(e){if(e.target===this)for(t.call(this,e),i=0;i<r.length;i++)a.off(r[i],n)}var i,r=e,a=this;if(t)for(i=0;i<r.length;i++)a.on(r[i],n)}["width","height"].forEach(function(t){var n=t.replace(/./,function(e){return e[0].toUpperCase()});e.fn["outer"+n]=function(e){var n=this;if(n){var i=n[t](),r={width:["left","right"],height:["top","bottom"]};return r[t].forEach(function(t){e&&(i+=parseInt(n.css("margin-"+t),10))}),i}return null}}),e.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return e}(),e.touchEvents={start:e.support.touch?"touchstart":"mousedown",move:e.support.touch?"touchmove":"mousemove",end:e.support.touch?"touchend":"mouseup"},e.getTranslate=function(e,t){var n,i,r,a;return"undefined"==typeof t&&(t="x"),r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?a=new WebKitCSSMatrix("none"===r.webkitTransform?"":r.webkitTransform):(a=r.MozTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=window.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0},e.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},e.fn.dataset=function(){var t={},n=this[0].dataset;for(var i in n){var r=t[i]=n[i];"false"===r?t[i]=!1:"true"===r?t[i]=!0:parseFloat(r)===1*r&&(t[i]=1*r)}return e.extend({},t,this[0].__eleData)},e.fn.data=function(t,n){var i=e(this).dataset();if(!t)return i;if("undefined"==typeof n){var r=i[t],a=this[0].__eleData;return a&&t in a?a[t]:r}for(var s=0;s<this.length;s++){var o=this[s];t in i&&delete o.dataset[t],o.__eleData||(o.__eleData={}),o.__eleData[t]=n}return this},e.fn.animationEnd=function(e){return t.call(this,["webkitAnimationEnd","animationend"],e),this},e.fn.transitionEnd=function(e){return t.call(this,["webkitTransitionEnd","transitionend"],e),this},e.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MozTransitionDuration=n.transitionDuration=e}return this},e.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MozTransform=n.transform=e}return this},e.fn.prevAll=function(t){var n=[],i=this[0];if(!i)return e([]);for(;i.previousElementSibling;){var r=i.previousElementSibling;t?e(r).is(t)&&n.push(r):n.push(r),i=r}return e(n)},e.fn.nextAll=function(t){var n=[],i=this[0];if(!i)return e([]);for(;i.nextElementSibling;){var r=i.nextElementSibling;t?e(r).is(t)&&n.push(r):n.push(r),i=r}return e(n)},e.fn.show=function(){function e(e){var n,i;return t[e]||(n=document.createElement(e),document.body.appendChild(n),i=getComputedStyle(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),"none"===i&&(i="block"),t[e]=i),t[e]}var t={};return this.each(function(){"none"===this.style.display&&(this.style.display=""),"none"===getComputedStyle(this,"").getPropertyValue("display"),this.style.display=e(this.nodeName)})}}(Zepto),function(e){"use strict";var t={},n=navigator.userAgent,i=n.match(/(Android);?[\s\/]+([\d.]+)?/),r=n.match(/(iPad).*OS\s([\d_]+)/),a=n.match(/(iPod)(.*OS\s([\d_]+))?/),s=!r&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,i&&(t.os="android",t.osVersion=i[2],t.android=!0,t.androidChrome=n.toLowerCase().indexOf("chrome")>=0),(r||s||a)&&(t.os="ios",t.ios=!0),s&&!a&&(t.osVersion=s[2].replace(/_/g,"."),t.iphone=!0),r&&(t.osVersion=r[2].replace(/_/g,"."),t.ipad=!0),a&&(t.osVersion=a[3]?a[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&n.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(s||r||a)&&n.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var o=t.osVersion.split(".");t.minimalUi=!t.webView&&(a||s)&&(1*o[0]===7?1*o[1]>=1:1*o[0]>7)&&e('meta[name="viewport"]').length>0&&e('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var l=e(window).width(),c=e(window).height();t.statusBar=!1,t.webView&&l*c===screen.width*screen.height?t.statusBar=!0:t.statusBar=!1;var p=[];if(t.pixelRatio=window.devicePixelRatio||1,p.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&p.push("retina"),t.os&&(p.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var u=parseInt(t.osVersion.split(".")[0],10),d=u-1;d>=6;d--)p.push("ios-gt-"+d);t.statusBar?p.push("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay"),p.length>0&&e("html").addClass(p.join(" ")),t.isWeixin=/MicroMessenger/i.test(n),e.device=t}(Zepto),function(){"use strict";function e(t,i){function r(e,t){return function(){return e.apply(t,arguments)}}var a;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=this,l=0,c=s.length;l<c;l++)o[s[l]]=r(o[s[l]],o);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;
"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(a=t.onclick,t.addEventListener("click",function(e){a(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0,o=!1;e.prototype.needsClick=function(e){for(var t=e;t&&"BODY"!==t.tagName.toUpperCase();){if("LABEL"===t.tagName.toUpperCase()&&(o=!0,/\bneedsclick\b/.test(t.className)))return!0;t=t.parentNode}switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t,n=["date","time","month","number","email"];i&&e.setSelectionRange&&n.indexOf(e.type)===-1?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,s,o,l,c,p=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;var u=["date","time","month"];if(u.indexOf(e.target.type)!==-1)return!1;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(c=e.changedTouches[0],p=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||p,p.fastClickScrollParent=this.targetElement.fastClickScrollParent),o=p.tagName.toLowerCase(),"label"===o){if(t=this.findControl(p)){if(this.focus(p),n)return!1;p=t}}else if(this.needsFocus(p))return e.timeStamp-s>100||i&&window.top!==window&&"input"===o?(this.targetElement=null,!1):(this.focus(p),this.sendClick(p,e),i&&"select"===o||(this.targetElement=null,e.preventDefault()),!1);return!(!i||r||(l=p.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(p)||(e.preventDefault(),this.sendClick(p,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),o||e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,r,a;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(a>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},window.FastClick=e}(),+function(e){"use strict";function t(t){var n,r=e(this),a=(r.attr("href"),r.dataset());r.hasClass("open-popup")&&(n=a.popup?a.popup:".popup",e.popup(n)),r.hasClass("close-popup")&&(n=a.popup?a.popup:".popup.modal-in",e.closeModal(n)),r.hasClass("modal-overlay")&&(e(".modal.modal-in").length>0&&i.modalCloseByOutside&&e.closeModal(".modal.modal-in"),e(".actions-modal.modal-in").length>0&&i.actionsCloseByOutside&&e.closeModal(".actions-modal.modal-in")),r.hasClass("popup-overlay")&&e(".popup.modal-in").length>0&&i.popupCloseByOutside&&e.closeModal(".popup.modal-in")}var n=document.createElement("div");e.modalStack=[],e.modalStackClearQueue=function(){e.modalStack.length&&e.modalStack.shift()()},e.modal=function(t){t=t||{};var r="",a="";if(t.buttons&&t.buttons.length>0)for(var s=0;s<t.buttons.length;s++)a+='<span class="modal-button'+(t.buttons[s].bold?" modal-button-bold":"")+'">'+t.buttons[s].text+"</span>";var o=t.extraClass||"",l=t.title?'<div class="modal-title">'+t.title+"</div>":"",c=t.text?'<div class="modal-text">'+t.text+"</div>":"",p=t.afterText?t.afterText:"",u=t.buttons&&0!==t.buttons.length?"":"modal-no-buttons",d=t.verticalButtons?"modal-buttons-vertical":"";r='<div class="modal '+o+" "+u+'"><div class="modal-inner">'+(l+c+p)+'</div><div class="modal-buttons '+d+'">'+a+"</div></div>",n.innerHTML=r;var h=e(n).children();return e(i.modalContainer).append(h[0]),h.find(".modal-button").each(function(n,i){e(i).on("click",function(i){t.buttons[n].close!==!1&&e.closeModal(h),t.buttons[n].onClick&&t.buttons[n].onClick(h,i),t.onClick&&t.onClick(h,n)})}),e.openModal(h),h[0]},e.alert=function(t,n,r){return"function"==typeof n&&(r=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?i.modalTitle:n,buttons:[{text:i.modalButtonOk,bold:!0,onClick:r}]})},e.confirm=function(t,n,r,a){return"function"==typeof n&&(a=arguments[2],r=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?i.modalTitle:n,buttons:[{text:i.modalButtonCancel,onClick:a},{text:i.modalButtonOk,bold:!0,onClick:r}]})},e.prompt=function(t,n,r,a){return"function"==typeof n&&(a=arguments[2],r=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?i.modalTitle:n,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:i.modalButtonCancel},{text:i.modalButtonOk,bold:!0}],onClick:function(t,n){0===n&&a&&a(e(t).find(".modal-text-input").val()),1===n&&r&&r(e(t).find(".modal-text-input").val())}})},e.modalLogin=function(t,n,r,a){return"function"==typeof n&&(a=arguments[2],r=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?i.modalTitle:n,afterText:'<input type="text" name="modal-username" placeholder="'+i.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+i.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:i.modalButtonCancel},{text:i.modalButtonOk,bold:!0}],onClick:function(t,n){var i=e(t).find('.modal-text-input[name="modal-username"]').val(),s=e(t).find('.modal-text-input[name="modal-password"]').val();0===n&&a&&a(i,s),1===n&&r&&r(i,s)}})},e.modalPassword=function(t,n,r,a){return"function"==typeof n&&(a=arguments[2],r=arguments[1],n=void 0),e.modal({text:t||"",title:"undefined"==typeof n?i.modalTitle:n,afterText:'<input type="password" name="modal-password" placeholder="'+i.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:i.modalButtonCancel},{text:i.modalButtonOk,bold:!0}],onClick:function(t,n){var i=e(t).find('.modal-text-input[name="modal-password"]').val();0===n&&a&&a(i),1===n&&r&&r(i)}})},e.showPreloader=function(t){return e.hidePreloader(),e.showPreloader.preloaderModal=e.modal({title:t||i.modalPreloaderTitle,text:'<div class="preloader"></div>'}),e.showPreloader.preloaderModal},e.hidePreloader=function(){e.showPreloader.preloaderModal&&e.closeModal(e.showPreloader.preloaderModal)},e.showIndicator=function(){e(".preloader-indicator-modal")[0]||e(i.modalContainer).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},e.hideIndicator=function(){e(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},e.actions=function(t){var r,a,s;t=t||[],t.length>0&&!e.isArray(t[0])&&(t=[t]);for(var o,l="",c=0;c<t.length;c++)for(var p=0;p<t[c].length;p++){0===p&&(l+='<div class="actions-modal-group">');var u=t[c][p],d=u.label?"actions-modal-label":"actions-modal-button";u.bold&&(d+=" actions-modal-button-bold"),u.color&&(d+=" color-"+u.color),u.bg&&(d+=" bg-"+u.bg),u.disabled&&(d+=" disabled"),l+='<span class="'+d+'">'+u.text+"</span>",p===t[c].length-1&&(l+="</div>")}o='<div class="actions-modal">'+l+"</div>",n.innerHTML=o,r=e(n).children(),e(i.modalContainer).append(r[0]),a=".actions-modal-group",s=".actions-modal-button";var h=r.find(a);return h.each(function(n,i){var a=n;e(i).children().each(function(n,i){var o,l=n,c=t[a][l];e(i).is(s)&&(o=e(i)),o&&o.on("click",function(t){c.close!==!1&&e.closeModal(r),c.onClick&&c.onClick(r,t)})})}),e.openModal(r),r[0]},e.popup=function(t,n){if("undefined"==typeof n&&(n=!0),"string"==typeof t&&t.indexOf("<")>=0){var r=document.createElement("div");if(r.innerHTML=t.trim(),!(r.childNodes.length>0))return!1;t=r.childNodes[0],n&&t.classList.add("remove-on-close"),e(i.modalContainer).append(t)}return t=e(t),0!==t.length&&(t.show(),t.find(".content").scroller("refresh"),t.find("."+i.viewClass).length>0&&e.sizeNavbars(t.find("."+i.viewClass)[0]),e.openModal(t),t[0])},e.pickerModal=function(t,n){if("undefined"==typeof n&&(n=!0),"string"==typeof t&&t.indexOf("<")>=0){if(t=e(t),!(t.length>0))return!1;n&&t.addClass("remove-on-close"),e(i.modalContainer).append(t[0])}return t=e(t),0!==t.length&&(t.show(),e.openModal(t),t[0])},e.loginScreen=function(t){return t||(t=".login-screen"),t=e(t),0!==t.length&&(t.show(),t.find("."+i.viewClass).length>0&&e.sizeNavbars(t.find("."+i.viewClass)[0]),e.openModal(t),t[0])},e.toast=function(t,n,i){var r=e('<div class="modal toast '+(i||"")+'">'+t+"</div>").appendTo(document.body);e.openModal(r,function(){setTimeout(function(){e.closeModal(r)},n||2e3)})},e.openModal=function(t,n){t=e(t);var r=t.hasClass("modal"),a=!t.hasClass("toast");if(e(".modal.modal-in:not(.modal-out)").length&&i.modalStack&&r&&a)return void e.modalStack.push(function(){e.openModal(t,n)});var s=t.hasClass("popup"),o=t.hasClass("login-screen"),l=t.hasClass("picker-modal"),c=t.hasClass("toast");r&&(t.show(),t.css({marginTop:-Math.round(t.outerHeight()/2)+"px"})),c&&t.css({marginLeft:-Math.round(t.outerWidth()/2/1.185)+"px"});var p;o||l||c||(0!==e(".modal-overlay").length||s||e(i.modalContainer).append('<div class="modal-overlay"></div>'),0===e(".popup-overlay").length&&s&&e(i.modalContainer).append('<div class="popup-overlay"></div>'),p=e(s?".popup-overlay":".modal-overlay"));t[0].clientLeft;return t.trigger("open"),l&&e(i.modalContainer).addClass("with-picker-modal"),o||l||c||p.addClass("modal-overlay-visible"),t.removeClass("modal-out").addClass("modal-in").transitionEnd(function(e){t.hasClass("modal-out")?t.trigger("closed"):t.trigger("opened")}),"function"==typeof n&&n.call(this),!0},e.closeModal=function(t){if(t=e(t||".modal-in"),"undefined"==typeof t||0!==t.length){var n=t.hasClass("modal"),r=t.hasClass("popup"),a=t.hasClass("toast"),s=t.hasClass("login-screen"),o=t.hasClass("picker-modal"),l=t.hasClass("remove-on-close"),c=e(r?".popup-overlay":".modal-overlay");return r?t.length===e(".popup.modal-in").length&&c.removeClass("modal-overlay-visible"):o||a||c.removeClass("modal-overlay-visible"),t.trigger("close"),o&&(e(i.modalContainer).removeClass("with-picker-modal"),e(i.modalContainer).addClass("picker-modal-closing")),t.removeClass("modal-in").addClass("modal-out").transitionEnd(function(n){t.hasClass("modal-out")?t.trigger("closed"):t.trigger("opened"),o&&e(i.modalContainer).removeClass("picker-modal-closing"),r||s||o?(t.removeClass("modal-out").hide(),l&&t.length>0&&t.remove()):t.remove()}),n&&i.modalStack&&e.modalStackClearQueue(),!0}},e(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .close-picker",t);var i=e.modal.prototype.defaults={modalStack:!0,modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"加载中",modalContainer:document.body?document.body:"body"}}(Zepto),+function(e){"use strict";var t=!1,n=function(n){function i(e){e=new Date(e);var t=e.getFullYear(),n=e.getMonth(),i=n+1,r=e.getDate(),a=e.getDay();return o.params.dateFormat.replace(/yyyy/g,t).replace(/yy/g,(t+"").substring(2)).replace(/mm/g,i<10?"0"+i:i).replace(/m/g,i).replace(/MM/g,o.params.monthNames[n]).replace(/M/g,o.params.monthNamesShort[n]).replace(/dd/g,r<10?"0"+r:r).replace(/d/g,r).replace(/DD/g,o.params.dayNames[a]).replace(/D/g,o.params.dayNamesShort[a])}function r(t){if(t.preventDefault(),e.device.isWeixin&&e.device.android&&o.params.inputReadOnly&&(this.focus(),this.blur()),!o.opened&&(o.open(),o.params.scrollToInput)){var n=o.input.parents(".content");if(0===n.length)return;var i,r=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10),s=n[0].offsetHeight-r-o.container.height(),l=n[0].scrollHeight-r-o.container.height(),c=o.input.offset().top-r+o.input[0].offsetHeight;if(c>s){var p=n.scrollTop()+c-s;p+s>l&&(i=p+s-l+a,s===l&&(i=o.container.height()),n.css({"padding-bottom":i+"px"})),n.scrollTop(p,300)}}}function a(t){o.input&&o.input.length>0?t.target!==o.input[0]&&0===e(t.target).parents(".picker-modal").length&&o.close():0===e(t.target).parents(".picker-modal").length&&o.close()}function s(){o.opened=!1,o.input&&o.input.length>0&&o.input.parents(".content").css({"padding-bottom":""}),o.params.onClose&&o.params.onClose(o),o.destroyCalendarEvents()}var o=this,l={monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>'};n=n||{};for(var c in l)"undefined"==typeof n[c]&&(n[c]=l[c]);o.params=n,o.initialized=!1,o.inline=!!o.params.container,o.isH="horizontal"===o.params.direction;var p=o.isH&&t?-1:1;return o.animating=!1,o.addValue=function(e){if(o.params.multiple){o.value||(o.value=[]);for(var t,n=0;n<o.value.length;n++)new Date(e).getTime()===new Date(o.value[n]).getTime()&&(t=n);"undefined"==typeof t?o.value.push(e):o.value.splice(t,1),o.updateValue()}else o.value=[e],o.updateValue()},o.setValue=function(e){o.value=e,o.updateValue()},o.updateValue=function(){o.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var t,n;for(t=0;t<o.value.length;t++){var r=new Date(o.value[t]);o.wrapper.find('.picker-calendar-day[data-date="'+r.getFullYear()+"-"+r.getMonth()+"-"+r.getDate()+'"]').addClass("picker-calendar-day-selected")}if(o.params.onChange&&o.params.onChange(o,o.value,o.value.map(i)),o.input&&o.input.length>0){if(o.params.formatValue)n=o.params.formatValue(o,o.value);else{for(n=[],t=0;t<o.value.length;t++)n.push(i(o.value[t]));n=n.join(", ")}e(o.input).val(n),e(o.input).trigger("change")}},o.initCalendarEvents=function(){function n(e){f||h||(h=!0,m=y="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,g=y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,w=(new Date).getTime(),k=0,P=!0,M=void 0,x=T=o.monthsTranslate)}function i(e){if(h){if(v="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof M&&(M=!!(M||Math.abs(y-g)>Math.abs(v-m))),o.isH&&M)return void(h=!1);if(e.preventDefault(),o.animating)return void(h=!1);P=!1,f||(f=!0,S=o.wrapper[0].offsetWidth,C=o.wrapper[0].offsetHeight,o.wrapper.transition(0)),e.preventDefault(),E=o.isH?v-m:y-g,k=E/(o.isH?S:C),T=100*(o.monthsTranslate*p+k),o.wrapper.transform("translate3d("+(o.isH?T:0)+"%, "+(o.isH?0:T)+"%, 0)")}}function r(e){return h&&f?(h=f=!1,b=(new Date).getTime(),b-w<300?Math.abs(E)<10?o.resetMonth():E>=10?t?o.nextMonth():o.prevMonth():t?o.prevMonth():o.nextMonth():k<=-.5?t?o.prevMonth():o.nextMonth():k>=.5?t?o.nextMonth():o.prevMonth():o.resetMonth(),void setTimeout(function(){P=!0},100)):void(h=f=!1)}function a(t){if(P){var n=e(t.target).parents(".picker-calendar-day");if(0===n.length&&e(t.target).hasClass("picker-calendar-day")&&(n=e(t.target)),0!==n.length&&(!n.hasClass("picker-calendar-day-selected")||o.params.multiple)&&!n.hasClass("picker-calendar-day-disabled")){n.hasClass("picker-calendar-day-next")&&o.nextMonth(),n.hasClass("picker-calendar-day-prev")&&o.prevMonth();var i=n.attr("data-year"),r=n.attr("data-month"),a=n.attr("data-day");o.params.onDayClick&&o.params.onDayClick(o,n[0],i,r,a),o.addValue(new Date(i,r,a).getTime()),o.params.closeOnSelect&&o.close()}}}function s(e){f||h||(h=!0,m=y="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,g=y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,w=(new Date).getTime(),k=0,P=!0,M=void 0,x=T=o.yearsTranslate)}function l(e){if(h){if(v="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof M&&(M=!!(M||Math.abs(y-g)>Math.abs(v-m))),o.isH&&M)return void(h=!1);if(e.preventDefault(),o.animating)return void(h=!1);P=!1,f||(f=!0,S=o.yearsPickerWrapper[0].offsetWidth,C=o.yearsPickerWrapper[0].offsetHeight,o.yearsPickerWrapper.transition(0)),e.preventDefault(),E=o.isH?v-m:y-g,k=E/(o.isH?S:C),T=100*(o.yearsTranslate*p+k),o.yearsPickerWrapper.transform("translate3d("+(o.isH?T:0)+"%, "+(o.isH?0:T)+"%, 0)")}}function c(e){return h&&f?(h=f=!1,b=(new Date).getTime(),b-w<300?Math.abs(E)<10?o.resetYearsGroup():E>=10?t?o.nextYearsGroup():o.prevYearsGroup():t?o.prevYearsGroup():o.nextYearsGroup():k<=-.5?t?o.prevYearsGroup():o.nextYearsGroup():k>=.5?t?o.nextYearsGroup():o.prevYearsGroup():o.resetYearsGroup(),void setTimeout(function(){P=!0},100)):void(h=f=!1)}function u(){var t=(e(this).text(),o.container.find(".picker-calendar-years-picker"));t.show().transform("translate3d(0, 0, 0)"),o.updateSelectedInPickers(),t.on("click",".picker-calendar-year-unit",o.pickYear)}function d(){var e=o.container.find(".picker-calendar-months-picker");e.show().transform("translate3d(0, 0, 0)"),o.updateSelectedInPickers(),e.on("click",".picker-calendar-month-unit",o.pickMonth)}var h,f,m,g,v,y,w,b,x,T,S,C,k,E,M,P=!0;o.container.find(".picker-calendar-prev-month").on("click",o.prevMonth),o.container.find(".picker-calendar-next-month").on("click",o.nextMonth),o.container.find(".picker-calendar-prev-year").on("click",o.prevYear),o.container.find(".picker-calendar-next-year").on("click",o.nextYear),o.container.find(".current-year-value").on("click",u),o.container.find(".current-month-value").on("click",d),o.wrapper.on("click",a),o.params.touchMove&&(o.yearsPickerWrapper.on(e.touchEvents.start,s),o.yearsPickerWrapper.on(e.touchEvents.move,l),o.yearsPickerWrapper.on(e.touchEvents.end,c),o.wrapper.on(e.touchEvents.start,n),o.wrapper.on(e.touchEvents.move,i),o.wrapper.on(e.touchEvents.end,r)),o.container[0].f7DestroyCalendarEvents=function(){o.container.find(".picker-calendar-prev-month").off("click",o.prevMonth),o.container.find(".picker-calendar-next-month").off("click",o.nextMonth),o.container.find(".picker-calendar-prev-year").off("click",o.prevYear),o.container.find(".picker-calendar-next-year").off("click",o.nextYear),o.wrapper.off("click",a),o.params.touchMove&&(o.wrapper.off(e.touchEvents.start,n),o.wrapper.off(e.touchEvents.move,i),o.wrapper.off(e.touchEvents.end,r))}},o.destroyCalendarEvents=function(e){"f7DestroyCalendarEvents"in o.container[0]&&o.container[0].f7DestroyCalendarEvents()},o.yearsGroupHTML=function(e,t){e=new Date(e);var n=e.getFullYear(),i=(new Date).getFullYear(),r=25,a=n-Math.floor(r/2),s="";"next"===t&&(a+=r),"prev"===t&&(a-=r);for(var o=0;o<5;o+=1){var l="";l+='<div class="picker-calendar-row">';for(var c=0;c<5;c+=1)l+=a===i?'<div class="picker-calendar-year-unit current-calendar-year-unit" data-year="'+a+'"><span>'+a+"</span></div>":a===n?'<div class="picker-calendar-year-unit picker-calendar-year-unit-selected" data-year="'+a+'"><span>'+a+"</span></div>":'<div class="picker-calendar-year-unit" data-year="'+a+'"><span>'+a+"</span></div>",a+=1;l+="</div>",s+=l}return s='<div class="picker-calendar-years-group">'+s+"</div>"},o.pickYear=function(){var t=e(this).text(),n=o.wrapper.find(".picker-calendar-month-current").attr("data-year");o.yearsPickerWrapper.find(".picker-calendar-year-unit").removeClass("picker-calendar-year-unit-selected"),e(this).addClass("picker-calendar-year-unit-selected"),n!==t?(o.setYearMonth(t),o.container.find(".picker-calendar-years-picker").hide().transform("translate3d(0, 100%, 0)")):o.container.find(".picker-calendar-years-picker").transform("translate3d(0, 100%, 0)")},o.onYearsChangeEnd=function(e){o.animating=!1;var t,n,i,r=o.yearsPickerWrapper.children(".picker-calendar-years-next").find(".picker-calendar-year-unit").length;if("next"===e){var i=parseInt(o.yearsPickerWrapper.children(".picker-calendar-years-next").find(".picker-calendar-year-unit").eq(Math.floor(r/2)).text());t=o.yearsGroupHTML(new Date(i,o.currentMonth),"next"),o.yearsPickerWrapper.append(t),o.yearsPickerWrapper.children().first().remove(),o.yearsGroups=o.container.find(".picker-calendar-years-group")}if("prev"===e){var i=parseInt(o.yearsPickerWrapper.children(".picker-calendar-years-prev").find(".picker-calendar-year-unit").eq(Math.floor(r/2)).text());n=o.yearsGroupHTML(new Date(i,o.currentMonth),"prev"),o.yearsPickerWrapper.prepend(n),o.yearsPickerWrapper.children().last().remove(),o.yearsGroups=o.container.find(".picker-calendar-years-group")}o.setYearsTranslate(o.yearsTranslate)},o.monthsGroupHTML=function(e){e=new Date(e);for(var t=e.getMonth()+1,n=(new Date).getMonth()+1,i=1,r="",a=0;a<3;a+=1){var s="";s+='<div class="picker-calendar-row">';for(var l=0;l<4;l+=1)s+=i===n?'<div class="picker-calendar-month-unit current-calendar-month-unit" data-month="'+(i-1)+'"><span>'+o.params.monthNames[i-1]+"</span></div>":i===t?'<div class="picker-calendar-month-unit picker-calendar-month-selected" data-month="'+(i-1)+'"><span>'+o.params.monthNames[i-1]+"</span></div>":'<div class="picker-calendar-month-unit" data-month="'+(i-1)+'"><span>'+o.params.monthNames[i-1]+"</span></div>",i+=1;s+="</div>",r+=s}return r='<div class="picker-calendar-months-group">'+r+"</div>"},o.pickMonth=function(){var t=e(this).attr("data-month"),n=o.wrapper.find(".picker-calendar-month-current").attr("data-year"),i=o.wrapper.find(".picker-calendar-month-current").attr("data-month");o.monthsPickerWrapper.find(".picker-calendar-month-unit").removeClass("picker-calendar-month-unit-selected"),e(this).addClass("picker-calendar-month-unit-selected"),i!==t?(o.setYearMonth(n,t),o.container.find(".picker-calendar-months-picker").hide().transform("translate3d(0, 100%, 0)")):o.container.find(".picker-calendar-months-picker").transform("translate3d(0, 100%, 0)")},o.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},o.monthHTML=function(e,t){e=new Date(e);var n=e.getFullYear(),i=e.getMonth();e.getDate();"next"===t&&(e=11===i?new Date(n+1,0):new Date(n,i+1,1)),"prev"===t&&(e=0===i?new Date(n-1,11):new Date(n,i-1,1)),"next"!==t&&"prev"!==t||(i=e.getMonth(),n=e.getFullYear());var r=o.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),a=o.daysInMonth(e),s=new Date(e.getFullYear(),e.getMonth()).getDay();0===s&&(s=7);var l,c,p,u=[],d=6,h=7,f="",m=0+(o.params.firstDay-1),g=(new Date).setHours(0,0,0,0),v=o.params.minDate?new Date(o.params.minDate).getTime():null,y=o.params.maxDate?new Date(o.params.maxDate).getTime():null;if(o.value&&o.value.length)for(c=0;c<o.value.length;c++)u.push(new Date(o.value[c]).setHours(0,0,0,0));for(c=1;c<=d;c++){var w="";for(p=1;p<=h;p++){var b=p;m++;var x=m-s,T="";x<0?(x=r+x+1,T+=" picker-calendar-day-prev",l=new Date(i-1<0?n-1:n,i-1<0?11:i-1,x).getTime()):(x+=1,x>a?(x-=a,T+=" picker-calendar-day-next",l=new Date(i+1>11?n+1:n,i+1>11?0:i+1,x).getTime()):l=new Date(n,i,x).getTime()),l===g&&(T+=" picker-calendar-day-today"),u.indexOf(l)>=0&&(T+=" picker-calendar-day-selected"),o.params.weekendDays.indexOf(b-1)>=0&&(T+=" picker-calendar-day-weekend"),(v&&l<v||y&&l>y)&&(T+=" picker-calendar-day-disabled"),l=new Date(l);var S=l.getFullYear(),C=l.getMonth();w+='<div data-year="'+S+'" data-month="'+C+'" data-day="'+x+'" class="picker-calendar-day'+T+'" data-date="'+(S+"-"+C+"-"+x)+'"><span>'+x+"</span></div>"}f+='<div class="picker-calendar-row">'+w+"</div>"}return f='<div class="picker-calendar-month" data-year="'+n+'" data-month="'+i+'">'+f+"</div>"},o.animating=!1,o.updateCurrentMonthYear=function(e){"undefined"==typeof e?(o.currentMonth=parseInt(o.months.eq(1).attr("data-month"),10),o.currentYear=parseInt(o.months.eq(1).attr("data-year"),10)):(o.currentMonth=parseInt(o.months.eq("next"===e?o.months.length-1:0).attr("data-month"),10),o.currentYear=parseInt(o.months.eq("next"===e?o.months.length-1:0).attr("data-year"),10)),o.container.find(".current-month-value").text(o.params.monthNames[o.currentMonth]),o.container.find(".current-year-value").text(o.currentYear)},o.onMonthChangeStart=function(e){o.updateCurrentMonthYear(e),o.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?o.months.length-1:0;o.months.eq(t).addClass("picker-calendar-month-current"),o.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),o.params.onMonthYearChangeStart&&o.params.onMonthYearChangeStart(o,o.currentYear,o.currentMonth)},o.onMonthChangeEnd=function(e,t){o.animating=!1;var n,i,r;o.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof e&&(e="next",t=!0),t?(o.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),i=o.monthHTML(new Date(o.currentYear,o.currentMonth),"prev"),n=o.monthHTML(new Date(o.currentYear,o.currentMonth),"next")):r=o.monthHTML(new Date(o.currentYear,o.currentMonth),e),("next"===e||t)&&o.wrapper.append(r||n),("prev"===e||t)&&o.wrapper.prepend(r||i),o.months=o.wrapper.find(".picker-calendar-month"),o.setMonthsTranslate(o.monthsTranslate),o.params.onMonthAdd&&o.params.onMonthAdd(o,"next"===e?o.months.eq(o.months.length-1)[0]:o.months.eq(0)[0]),o.params.onMonthYearChangeEnd&&o.params.onMonthYearChangeEnd(o,o.currentYear,o.currentMonth),o.updateSelectedInPickers()},o.updateSelectedInPickers=function(){var e=parseInt(o.wrapper.find(".picker-calendar-month-current").attr("data-year"),10),t=(new Date).getFullYear(),n=parseInt(o.wrapper.find(".picker-calendar-month-current").attr("data-month"),10),i=(new Date).getMonth(),r=parseInt(o.yearsPickerWrapper.find(".picker-calendar-year-unit-selected").attr("data-year"),10),a=parseInt(o.monthsPickerWrapper.find(".picker-calendar-month-unit-selected").attr("data-month"),10);r!==e&&(o.yearsPickerWrapper.find(".picker-calendar-year-unit").removeClass("picker-calendar-year-unit-selected"),o.yearsPickerWrapper.find('.picker-calendar-year-unit[data-year="'+e+'"]').addClass("picker-calendar-year-unit-selected")),a!==n&&(o.monthsPickerWrapper.find(".picker-calendar-month-unit").removeClass("picker-calendar-month-unit-selected"),o.monthsPickerWrapper.find('.picker-calendar-month-unit[data-month="'+n+'"]').addClass("picker-calendar-month-unit-selected")),t!==e?o.monthsPickerWrapper.find(".picker-calendar-month-unit").removeClass("current-calendar-month-unit"):o.monthsPickerWrapper.find('.picker-calendar-month-unit[data-month="'+i+'"]').addClass("current-calendar-month-unit")},o.setYearsTranslate=function(e){e=e||o.yearsTranslate||0,"undefined"==typeof o.yearsTranslate&&(o.yearsTranslate=e),o.yearsGroups.removeClass("picker-calendar-years-current picker-calendar-years-prev picker-calendar-years-next");var t=100*-(e+1)*p,n=100*-e*p,i=100*-(e-1)*p;o.yearsGroups.eq(0).transform("translate3d("+(o.isH?t:0)+"%, "+(o.isH?0:t)+"%, 0)").addClass("picker-calendar-years-prev"),o.yearsGroups.eq(1).transform("translate3d("+(o.isH?n:0)+"%, "+(o.isH?0:n)+"%, 0)").addClass("picker-calendar-years-current"),o.yearsGroups.eq(2).transform("translate3d("+(o.isH?i:0)+"%, "+(o.isH?0:i)+"%, 0)").addClass("picker-calendar-years-next");
},o.nextYearsGroup=function(e){"undefined"!=typeof e&&"object"!=typeof e||(e="",o.params.animate||(e=0));var t=!o.animating;o.yearsTranslate--,o.animating=!0;var n=100*o.yearsTranslate*p;o.yearsPickerWrapper.transition(e).transform("translate3d("+(o.isH?n:0)+"%, "+(o.isH?0:n)+"%, 0)"),t&&o.yearsPickerWrapper.transitionEnd(function(){o.onYearsChangeEnd("next")}),o.params.animate||o.onYearsChangeEnd("next")},o.prevYearsGroup=function(e){"undefined"!=typeof e&&"object"!=typeof e||(e="",o.params.animate||(e=0));var t=!o.animating;o.yearsTranslate++,o.animating=!0;var n=100*o.yearsTranslate*p;o.yearsPickerWrapper.transition(e).transform("translate3d("+(o.isH?n:0)+"%, "+(o.isH?0:n)+"%, 0)"),t&&o.yearsPickerWrapper.transitionEnd(function(){o.onYearsChangeEnd("prev")}),o.params.animate||o.onYearsChangeEnd("prev")},o.resetYearsGroup=function(e){"undefined"==typeof e&&(e="");var t=100*o.yearsTranslate*p;o.yearsPickerWrapper.transition(e).transform("translate3d("+(o.isH?t:0)+"%, "+(o.isH?0:t)+"%, 0)")},o.setMonthsTranslate=function(e){e=e||o.monthsTranslate||0,"undefined"==typeof o.monthsTranslate&&(o.monthsTranslate=e),o.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*p,n=100*-e*p,i=100*-(e-1)*p;o.months.eq(0).transform("translate3d("+(o.isH?t:0)+"%, "+(o.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),o.months.eq(1).transform("translate3d("+(o.isH?n:0)+"%, "+(o.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),o.months.eq(2).transform("translate3d("+(o.isH?i:0)+"%, "+(o.isH?0:i)+"%, 0)").addClass("picker-calendar-month-next")},o.nextMonth=function(t){"undefined"!=typeof t&&"object"!=typeof t||(t="",o.params.animate||(t=0));var n=parseInt(o.months.eq(o.months.length-1).attr("data-month"),10),i=parseInt(o.months.eq(o.months.length-1).attr("data-year"),10),r=new Date(i,n),a=r.getTime(),s=!o.animating;if(o.params.maxDate&&a>new Date(o.params.maxDate).getTime())return o.resetMonth();if(o.monthsTranslate--,n===o.currentMonth){var l=100*-o.monthsTranslate*p,c=e(o.monthHTML(a,"next")).transform("translate3d("+(o.isH?l:0)+"%, "+(o.isH?0:l)+"%, 0)").addClass("picker-calendar-month-next");o.wrapper.append(c[0]),o.months=o.wrapper.find(".picker-calendar-month"),o.params.onMonthAdd&&o.params.onMonthAdd(o,o.months.eq(o.months.length-1)[0])}o.animating=!0,o.onMonthChangeStart("next");var u=100*o.monthsTranslate*p;o.wrapper.transition(t).transform("translate3d("+(o.isH?u:0)+"%, "+(o.isH?0:u)+"%, 0)"),s&&o.wrapper.transitionEnd(function(){o.onMonthChangeEnd("next")}),o.params.animate||o.onMonthChangeEnd("next")},o.prevMonth=function(t){"undefined"!=typeof t&&"object"!=typeof t||(t="",o.params.animate||(t=0));var n=parseInt(o.months.eq(0).attr("data-month"),10),i=parseInt(o.months.eq(0).attr("data-year"),10),r=new Date(i,n+1,(-1)),a=r.getTime(),s=!o.animating;if(o.params.minDate&&a<new Date(o.params.minDate).getTime())return o.resetMonth();if(o.monthsTranslate++,n===o.currentMonth){var l=100*-o.monthsTranslate*p,c=e(o.monthHTML(a,"prev")).transform("translate3d("+(o.isH?l:0)+"%, "+(o.isH?0:l)+"%, 0)").addClass("picker-calendar-month-prev");o.wrapper.prepend(c[0]),o.months=o.wrapper.find(".picker-calendar-month"),o.params.onMonthAdd&&o.params.onMonthAdd(o,o.months.eq(0)[0])}o.animating=!0,o.onMonthChangeStart("prev");var u=100*o.monthsTranslate*p;o.wrapper.transition(t).transform("translate3d("+(o.isH?u:0)+"%, "+(o.isH?0:u)+"%, 0)"),s&&o.wrapper.transitionEnd(function(){o.onMonthChangeEnd("prev")}),o.params.animate||o.onMonthChangeEnd("prev")},o.resetMonth=function(e){"undefined"==typeof e&&(e="");var t=100*o.monthsTranslate*p;o.wrapper.transition(e).transform("translate3d("+(o.isH?t:0)+"%, "+(o.isH?0:t)+"%, 0)")},o.setYearMonth=function(e,t,n){"undefined"==typeof e&&(e=o.currentYear),"undefined"==typeof t&&(t=o.currentMonth),"undefined"!=typeof n&&"object"!=typeof n||(n="",o.params.animate||(n=0));var i;if(i=e<o.currentYear?new Date(e,t+1,(-1)).getTime():new Date(e,t).getTime(),o.params.maxDate&&i>new Date(o.params.maxDate).getTime())return!1;if(o.params.minDate&&i<new Date(o.params.minDate).getTime())return!1;var r=new Date(o.currentYear,o.currentMonth).getTime(),a=i>r?"next":"prev",s=o.monthHTML(new Date(e,t));o.monthsTranslate=o.monthsTranslate||0;var l,c,u=o.monthsTranslate,d=!o.animating;i>r?(o.monthsTranslate--,o.animating||o.months.eq(o.months.length-1).remove(),o.wrapper.append(s),o.months=o.wrapper.find(".picker-calendar-month"),l=100*-(u-1)*p,o.months.eq(o.months.length-1).transform("translate3d("+(o.isH?l:0)+"%, "+(o.isH?0:l)+"%, 0)").addClass("picker-calendar-month-next")):(o.monthsTranslate++,o.animating||o.months.eq(0).remove(),o.wrapper.prepend(s),o.months=o.wrapper.find(".picker-calendar-month"),l=100*-(u+1)*p,o.months.eq(0).transform("translate3d("+(o.isH?l:0)+"%, "+(o.isH?0:l)+"%, 0)").addClass("picker-calendar-month-prev")),o.params.onMonthAdd&&o.params.onMonthAdd(o,"next"===a?o.months.eq(o.months.length-1)[0]:o.months.eq(0)[0]),o.animating=!0,o.onMonthChangeStart(a),c=100*o.monthsTranslate*p,o.wrapper.transition(n).transform("translate3d("+(o.isH?c:0)+"%, "+(o.isH?0:c)+"%, 0)"),d&&o.wrapper.transitionEnd(function(){o.onMonthChangeEnd(a,!0)}),o.params.animate||o.onMonthChangeEnd(a)},o.nextYear=function(){o.setYearMonth(o.currentYear+1)},o.prevYear=function(){o.setYearMonth(o.currentYear-1)},o.layout=function(){var e,t="",n="",i=o.value&&o.value.length?o.value[0]:(new Date).setHours(0,0,0,0),r=o.yearsGroupHTML(i,"prev"),a=o.yearsGroupHTML(i),s=o.yearsGroupHTML(i,"next"),l='<div class="picker-calendar-years-picker"><div class="picker-calendar-years-picker-wrapper">'+(r+a+s)+"</div></div>",c='<div class="picker-calendar-months-picker"><div class="picker-calendar-months-picker-wrapper">'+o.monthsGroupHTML(i)+"</div></div>",p=o.monthHTML(i,"prev"),u=o.monthHTML(i),d=o.monthHTML(i,"next"),h='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(p+u+d)+"</div></div>",f="";if(o.params.weekHeader){for(e=0;e<7;e++){var m=e+o.params.firstDay>6?e-7+o.params.firstDay:e+o.params.firstDay,g=o.params.dayNamesShort[m];f+='<div class="picker-calendar-week-day '+(o.params.weekendDays.indexOf(m)>=0?"picker-calendar-week-day-weekend":"")+'"> '+g+"</div>"}f='<div class="picker-calendar-week-days">'+f+"</div>"}n="picker-modal picker-calendar "+(o.params.cssClass||"");var v=o.params.toolbar?o.params.toolbarTemplate.replace(/{{closeText}}/g,o.params.toolbarCloseText):"";o.params.toolbar&&(v=o.params.toolbarTemplate.replace(/{{closeText}}/g,o.params.toolbarCloseText).replace(/{{monthPicker}}/g,o.params.monthPicker?o.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,o.params.yearPicker?o.params.yearPickerTemplate:"")),t='<div class="'+n+'">'+v+'<div class="picker-modal-inner">'+f+h+"</div>"+c+l+"</div>",o.pickerHTML=t},o.params.input&&(o.input=e(o.params.input),o.input.length>0&&(o.params.inputReadOnly&&o.input.prop("readOnly",!0),o.inline||o.input.on("click",r),e(document).on("beforePageSwitch",function(){o.input.off("click",r),e(document).off("beforePageSwitch")}))),o.inline||e("html").on("click",a),o.opened=!1,o.open=function(){var t=!1;o.opened||(o.value||o.params.value&&(o.value=o.params.value,t=!0),o.layout(),o.inline?(o.container=e(o.pickerHTML),o.container.addClass("picker-modal-inline"),e(o.params.container).append(o.container)):(o.container=e(e.pickerModal(o.pickerHTML)),e(o.container).on("close",function(){s()})),o.container[0].f7Calendar=o,o.wrapper=o.container.find(".picker-calendar-months-wrapper"),o.yearsPickerWrapper=o.container.find(".picker-calendar-years-picker-wrapper"),o.yearsGroups=o.yearsPickerWrapper.find(".picker-calendar-years-group"),o.monthsPickerWrapper=o.container.find(".picker-calendar-months-picker-wrapper"),o.months=o.wrapper.find(".picker-calendar-month"),o.updateCurrentMonthYear(),o.yearsTranslate=0,o.setYearsTranslate(),o.monthsTranslate=0,o.setMonthsTranslate(),o.initCalendarEvents(),t&&o.updateValue()),o.opened=!0,o.initialized=!0,o.params.onMonthAdd&&o.months.each(function(){o.params.onMonthAdd(o,this)}),o.params.onOpen&&o.params.onOpen(o)},o.close=function(){o.opened&&!o.inline&&e.closeModal(o.container)},o.destroy=function(){o.close(),o.params.input&&o.input.length>0&&o.input.off("click",r),e("html").off("click",a)},o.inline&&o.open(),o};e.fn.calendar=function(t){return this.each(function(){var i=e(this);if(i[0]){var r={};"INPUT"===i[0].tagName.toUpperCase()?r.input=i:r.container=i,new n(e.extend(r,t))}})},e.initCalendar=function(t){var n=e(t?t:document.body);n.find("[data-toggle='date']").each(function(){e(this).calendar()})}}(Zepto),+function(e){"use strict";var t=function(t){function n(){if(s.opened)for(var e=0;e<s.cols.length;e++)s.cols[e].divider||(s.cols[e].calcSize(),s.cols[e].setValue(s.cols[e].value,0,!1))}function i(t){if(t.preventDefault(),e.device.isWeixin&&e.device.android&&s.params.inputReadOnly&&(this.focus(),this.blur()),!s.opened){if(e.closeModal(e(".picker-modal")),s.open(),s.params.scrollToInput){var n=s.input.parents(".content");if(0===n.length)return;var i,r=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10),o=n[0].offsetHeight-r-s.container.height(),l=n[0].scrollHeight-r-s.container.height(),c=s.input.offset().top-r+s.input[0].offsetHeight;if(c>o){var p=n.scrollTop()+c-o;p+o>l&&(i=p+o-l+a,o===l&&(i=s.container.height()),n.css({"padding-bottom":i+"px"})),n.scrollTop(p,300)}}t.stopPropagation()}}function r(t){s.opened&&(s.input&&s.input.length>0?t.target!==s.input[0]&&0===e(t.target).parents(".picker-modal").length&&s.close():0===e(t.target).parents(".picker-modal").length&&s.close())}function a(){s.opened=!1,s.input&&s.input.length>0&&s.input.parents(".content").css({"padding-bottom":""}),s.params.onClose&&s.params.onClose(s),s.container.find(".picker-items-col").each(function(){s.destroyPickerCol(this)})}var s=this,o={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"确定",toolbarTemplate:'<header class="bar bar-nav">                <button class="button button-link pull-right close-picker">确定</button>                <h1 class="title">请选择</h1>                </header>'};t=t||{};for(var l in o)"undefined"==typeof t[l]&&(t[l]=o[l]);s.params=t,s.cols=[],s.initialized=!1,s.inline=!!s.params.container;var c=e.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!e.device.android;return s.setValue=function(e,t){for(var n=0,i=0;i<s.cols.length;i++)s.cols[i]&&!s.cols[i].divider&&(s.cols[i].setValue(e[n],t),n++)},s.updateValue=function(){for(var t=[],n=[],i=0;i<s.cols.length;i++)s.cols[i].divider||(t.push(s.cols[i].value),n.push(s.cols[i].displayValue));t.indexOf(void 0)>=0||(s.value=t,s.displayValue=n,s.params.onChange&&s.params.onChange(s,s.value,s.displayValue),s.input&&s.input.length>0&&(e(s.input).val(s.params.formatValue?s.params.formatValue(s,s.value,s.displayValue):s.value.join(" ")),e(s.input).trigger("change")))},s.initPickerCol=function(t,n){function i(){y=e.requestAnimationFrame(function(){d.updateItems(void 0,void 0,0),i()})}function r(t){b||w||(t.preventDefault(),w=!0,x=T="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,S=(new Date).getTime(),I=!0,k=M=e.getTranslate(d.wrapper[0],"y"))}function a(t){if(w){t.preventDefault(),I=!1,T="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,b||(e.cancelAnimationFrame(y),b=!0,k=M=e.getTranslate(d.wrapper[0],"y"),d.wrapper.transition(0)),t.preventDefault();var n=T-x;M=k+n,E=void 0,M<g&&(M=g-Math.pow(g-M,.8),E="min"),M>v&&(M=v+Math.pow(M-v,.8),E="max"),d.wrapper.transform("translate3d(0,"+M+"px,0)"),d.updateItems(void 0,M,0,s.params.updateValuesOnTouchmove),_=M-P||M,D=(new Date).getTime(),P=M}}function o(t){if(!w||!b)return void(w=b=!1);w=b=!1,d.wrapper.transition(""),E&&("min"===E?d.wrapper.transform("translate3d(0,"+g+"px,0)"):d.wrapper.transform("translate3d(0,"+v+"px,0)")),C=(new Date).getTime();var n,r;C-S>300?r=M:(n=Math.abs(_/(C-D)),r=M+_*s.params.momentumRatio),r=Math.max(Math.min(r,v),g);var a=-Math.floor((r-v)/f);s.params.freeMode||(r=-a*f+v),d.wrapper.transform("translate3d(0,"+parseInt(r,10)+"px,0)"),d.updateItems(a,r,"",!0),s.params.updateValuesOnMomentum&&(i(),d.wrapper.transitionEnd(function(){e.cancelAnimationFrame(y)})),setTimeout(function(){I=!0},100)}function l(t){if(I){e.cancelAnimationFrame(y);var n=e(this).attr("data-picker-value");d.setValue(n)}}var p=e(t),u=p.index(),d=s.cols[u];if(!d.divider){d.container=p,d.wrapper=d.container.find(".picker-items-col-wrapper"),d.items=d.wrapper.find(".picker-item");var h,f,m,g,v;d.replaceValues=function(e,t){d.destroyEvents(),d.values=e,d.displayValues=t;var n=s.columnHTML(d,!0);d.wrapper.html(n),d.items=d.wrapper.find(".picker-item"),d.calcSize(),d.setValue(d.values[0],0,!0),d.initEvents()},d.calcSize=function(){s.params.rotateEffect&&(d.container.removeClass("picker-items-col-absolute"),d.width||d.container.css({width:""}));var t,n;t=0,n=d.container[0].offsetHeight,h=d.wrapper[0].offsetHeight,f=d.items[0].offsetHeight,m=f*d.items.length,g=n/2-m+f/2,v=n/2-f/2,d.width&&(t=d.width,parseInt(t,10)===t&&(t+="px"),d.container.css({width:t})),s.params.rotateEffect&&(d.width||(d.items.each(function(){var n=e(this);n.css({width:"auto"}),t=Math.max(t,n[0].offsetWidth),n.css({width:""})}),d.container.css({width:t+2+"px"})),d.container.addClass("picker-items-col-absolute"))},d.calcSize(),d.wrapper.transform("translate3d(0,"+v+"px,0)").transition(0);var y;d.setValue=function(t,n,r){"undefined"==typeof n&&(n="");var a=d.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index();if("undefined"!=typeof a&&a!==-1){var o=-a*f+v;d.wrapper.transition(n),d.wrapper.transform("translate3d(0,"+o+"px,0)"),s.params.updateValuesOnMomentum&&d.activeIndex&&d.activeIndex!==a&&(e.cancelAnimationFrame(y),d.wrapper.transitionEnd(function(){e.cancelAnimationFrame(y)}),i()),d.updateItems(a,o,n,r)}},d.updateItems=function(t,n,i,r){"undefined"==typeof n&&(n=e.getTranslate(d.wrapper[0],"y")),"undefined"==typeof t&&(t=-Math.round((n-v)/f)),t<0&&(t=0),t>=d.items.length&&(t=d.items.length-1);var a=d.activeIndex;d.activeIndex=t,d.wrapper.find(".picker-selected").removeClass("picker-selected"),s.params.rotateEffect&&d.items.transition(i);var o=d.items.eq(t).addClass("picker-selected").transform("");if((r||"undefined"==typeof r)&&(d.value=o.attr("data-picker-value"),d.displayValue=d.displayValues?d.displayValues[t]:d.value,a!==t&&(d.onChange&&d.onChange(s,d.value,d.displayValue),s.updateValue())),s.params.rotateEffect){(n-(Math.floor((n-v)/f)*f+v))/f;d.items.each(function(){var t=e(this),i=t.index()*f,r=v-n,a=i-r,s=a/f,o=Math.ceil(d.height/f/2)+1,l=-18*s;l>180&&(l=180),l<-180&&(l=-180),Math.abs(s)>o?t.addClass("picker-item-far"):t.removeClass("picker-item-far"),t.transform("translate3d(0, "+(-n+v)+"px, "+(c?-110:0)+"px) rotateX("+l+"deg)")})}},n&&d.updateItems(0,v,0);var w,b,x,T,S,C,k,E,M,P,_,D,I=!0;d.initEvents=function(t){var n=t?"off":"on";d.container[n](e.touchEvents.start,r),d.container[n](e.touchEvents.move,a),d.container[n](e.touchEvents.end,o),d.items[n]("click",l)},d.destroyEvents=function(){d.initEvents(!0)},d.container[0].f7DestroyPickerCol=function(){d.destroyEvents()},d.initEvents()}},s.destroyPickerCol=function(t){t=e(t),"f7DestroyPickerCol"in t[0]&&t[0].f7DestroyPickerCol()},e(window).on("resize",n),s.columnHTML=function(e,t){var n="",i="";if(e.divider)i+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var r=0;r<e.values.length;r++)n+='<div class="picker-item" data-picker-value="'+e.values[r]+'">'+(e.displayValues?e.displayValues[r]:e.values[r])+"</div>";i+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+n+"</div></div>"}return t?n:i},s.layout=function(){var e,t="",n="";s.cols=[];var i="";for(e=0;e<s.params.cols.length;e++){var r=s.params.cols[e];i+=s.columnHTML(s.params.cols[e]),s.cols.push(r)}n="picker-modal picker-columns "+(s.params.cssClass||"")+(s.params.rotateEffect?" picker-3d":""),t='<div class="'+n+'">'+(s.params.toolbar?s.params.toolbarTemplate.replace(/{{closeText}}/g,s.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+i+'<div class="picker-center-highlight"></div></div></div>',s.pickerHTML=t},s.params.input&&(s.input=e(s.params.input),s.input.length>0&&(s.params.inputReadOnly&&s.input.prop("readOnly",!0),s.inline||s.input.on("click",i))),s.inline||e("html").on("click",r),s.opened=!1,s.open=function(){s.opened||(s.layout(),s.opened=!0,s.inline?(s.container=e(s.pickerHTML),s.container.addClass("picker-modal-inline"),e(s.params.container).append(s.container)):(s.container=e(e.pickerModal(s.pickerHTML)),e(s.container).on("close",function(){a()})),s.container[0].f7Picker=s,s.container.find(".picker-items-col").each(function(){var e=!0;(!s.initialized&&s.params.value||s.initialized&&s.value)&&(e=!1),s.initPickerCol(this,e)}),s.initialized?s.value&&s.setValue(s.value,0):s.params.value&&s.setValue(s.params.value,0)),s.initialized=!0,s.params.onOpen&&s.params.onOpen(s)},s.close=function(){s.opened&&!s.inline&&e.closeModal(s.container)},s.destroy=function(){s.close(),s.params.input&&s.input.length>0&&s.input.off("click",i),e("html").off("click",r),e(window).off("resize",n)},s.inline&&s.open(),s};e(document).on("click",".close-picker",function(){var t=e(".picker-modal.modal-in");e.closeModal(t)}),e.fn.picker=function(n){var i=arguments;return this.each(function(){if(this){var r=e(this),a=r.data("picker");if(!a){var s=e.extend({input:this,value:r.val()?r.val().split(" "):""},n);a=new t(s),r.data("picker",a)}"string"==typeof n&&a[n].apply(a,Array.prototype.slice.call(i,1))}})}}(Zepto),+function(e){"use strict";var t=new Date,n=function(e){for(var t=[],n=1;n<=(e||31);n++)t.push(n<10?"0"+n:n);return t},i=function(e,t){var i=new Date(t,parseInt(e)+1-1,1),r=new Date(i-1);return n(r.getDate())},r=function(e){return e<10?"0"+e:e},a="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),s=function(){for(var e=[],t=1950;t<=2030;t++)e.push(t);return e}(),o={rotateEffect:!1,value:[t.getFullYear(),r(t.getMonth()+1),r(t.getDate()),t.getHours(),r(t.getMinutes())],onChange:function(e,t,n){var r=i(e.cols[1].value,e.cols[0].value),a=e.cols[2].value;a>r.length&&(a=r.length),e.cols[2].setValue(a)},formatValue:function(e,t,n){return n[0]+"-"+t[1]+"-"+t[2]+" "+t[3]+":"+t[4]},cols:[{values:s},{values:a},{values:n()},{divider:!0,content:"  "},{values:function(){for(var e=[],t=0;t<=23;t++)e.push(t);return e}()},{divider:!0,content:":"},{values:function(){for(var e=[],t=0;t<=59;t+=15)e.push(t<10?"0"+t:t);return e}()}]};e.fn.datetimePicker=function(t){return this.each(function(){if(this){var n=e.extend(o,t);e(this).picker(n),t.value&&e(this).val(n.formatValue(n,n.value,n.value))}})}}(Zepto),+function(e){"use strict";function t(e,t){this.wrapper="string"==typeof e?document.querySelector(e):e,this.scroller=$(this.wrapper).find(".content-inner")[0],this.scrollerStyle=this.scroller&&this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,eventPassthrough:void 0};for(var n in t)this.options[n]=t[n];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"===this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3===this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function n(e,t,n){var i=document.createElement("div"),r=document.createElement("div");return n===!0&&(i.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"===e?(n===!0&&(i.style.cssText+=";height:5px;left:2px;right:2px;bottom:0",r.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(n===!0&&(i.style.cssText+=";width:5px;bottom:2px;top:2px;right:1px",r.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",t||(i.style.pointerEvents="none"),i.appendChild(r),i}function i(t,n){this.wrapper="string"==typeof n.el?document.querySelector(n.el):n.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in n)this.options[i]=n[i];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(e,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(e,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(e,"mouseup",this))),this.options.fade&&(this.wrapperStyle[a.style.transform]=this.scroller.translateZ,this.wrapperStyle[a.style.transitionDuration]=a.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},a=function(){function t(e){return a!==!1&&(""===a?e:a+e.charAt(0).toUpperCase()+e.substr(1))}var n={},i=document.createElement("div").style,a=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],n=0,r=t.length;n<r;n++)if(e=t[n]+"ransform",e in i)return t[n].substr(0,t[n].length-1);return!1}();n.getTime=Date.now||function(){return(new Date).getTime()},n.extend=function(e,t){for(var n in t)e[n]=t[n]},n.addEvent=function(e,t,n,i){e.addEventListener(t,n,!!i)},n.removeEvent=function(e,t,n,i){e.removeEventListener(t,n,!!i)},n.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},n.momentum=function(e,t,n,i,a,s,o){function l(){+new Date-f>50&&(o._execEvent("scroll"),f=+new Date),+new Date-h<p&&r(l)}var c,p,u=e-t,d=Math.abs(u)/n;d/=2,d=d>1.5?1.5:d,s=void 0===s?6e-4:s,c=e+d*d/(2*s)*(u<0?-1:1),p=d/s,c<i?(c=a?i-a/2.5*(d/8):i,u=Math.abs(c-e),p=u/d):c>0&&(c=a?a/2.5*(d/8):0,u=Math.abs(e)+c,p=u/d);var h=+new Date,f=h;return r(l),{destination:Math.round(c),duration:p}};var s=t("transform");return n.extend(n,{hasTransform:s!==!1,hasPerspective:t("perspective")in i,hasTouch:"ontouchstart"in e,hasPointer:e.PointerEvent||e.MSPointerEvent,hasTransition:t("transition")in i}),n.isBadAndroid=/Android /.test(e.navigator.appVersion)&&!/Chrome\/\d/.test(e.navigator.appVersion)&&!1,n.extend(n.style={},{transform:s,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),n.hasClass=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return n.test(e.className)},n.addClass=function(e,t){if(!n.hasClass(e,t)){var i=e.className.split(" ");i.push(t),e.className=i.join(" ")}},n.removeClass=function(e,t){if(n.hasClass(e,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(i," ")}},n.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},n.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return Math.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e-=1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){var t=.22,n=.4;return 0===e?0:1===e?1:n*Math.pow(2,-10*e)*Math.sin((e-t/4)*(2*Math.PI)/t)+1}}}),n.tap=function(e,t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},n.click=function(e){var t,n=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(t=document.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,n.dispatchEvent(t))},n}();t.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(e){e.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if((1===a.eventType[e.type]||0===e.button)&&this.enabled&&(!this.initiated||a.eventType[e.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,n=e.touches?e.touches[0]:e;this.initiated=a.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,t=this.getComputedPosition(),this._translate(Math.round(t.x),Math.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&a.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,i,r,s=e.touches?e.touches[0]:e,o=s.pageX-this.pointX,l=s.pageY-this.pointY,c=a.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=o,this.distY+=l,i=Math.abs(this.distX),r=Math.abs(this.distY),!(c-this.endTime>300&&i<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(i>r+this.options.directionLockThreshold?this.directionLocked="h":r>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)e.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)e.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);o=0}o=this.hasHorizontalScroll?o:0,l=this.hasVerticalScroll?l:0,t=this.x+o,n=this.y+l,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+o/3:t>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+l/3:n>0?0:this.maxScrollY),this.directionX=o>0?-1:o<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,n),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y,1===this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(e){if(this.enabled&&a.eventType[e.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t,n,i=a.getTime()-this.startTime,r=Math.round(this.x),s=Math.round(this.y),o=Math.abs(r-this.startX),l=Math.abs(s-this.startY),c=0,p="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,s),!this.moved)return this.options.tap&&a.tap(e,this.options.tap),this.options.click&&a.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&i<200&&o<100&&l<100)return void this._execEvent("flick");if(this.options.momentum&&i<300&&(t=this.hasHorizontalScroll?a.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration,this):{destination:r,duration:0},n=this.hasVerticalScroll?a.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration,this):{destination:s,duration:0},r=t.destination,s=n.destination,c=Math.max(t.duration,n.duration),this.isInTransition=1),this.options.snap){var u=this._nearestSnap(r,s);this.currentPage=u,c=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(r-u.x),1e3),Math.min(Math.abs(s-u.y),1e3)),300),r=u.x,s=u.y,this.directionX=0,this.directionY=0,p=this.options.bounceEasing}return r!==this.x||s!==this.y?((r>0||r<this.maxScrollX||s>0||s<this.maxScrollY)&&(p=a.ease.quadratic),void this.scrollTo(r,s,c,p)):void this._execEvent("scrollEnd")}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(t){var n=this.x,i=this.y;if(t=t||0,!this.hasHorizontalScroll||this.x>0?n=0:this.x<this.maxScrollX&&(n=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),n===this.x&&i===this.y)return!1;if(this.options.ptr&&this.y>44&&this.startY*-1<$(e).height()&&!this.ptrLock){i=this.options.ptrOffset||44,this._execEvent("ptr"),this.ptrLock=!0;var r=this;setTimeout(function(){r.ptrLock=!1},500)}return this.scrollTo(n,i,t,this.options.bounceEasing),!0},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,
this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,i){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,i)},scrollTo:function(e,t,n,i){i=i||a.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(e,t)):this._animate(e,t,n,i.fn)},scrollToElement:function(e,t,n,i,r){if(e=e.nodeType?e:this.scroller.querySelector(e)){var s=a.offset(e);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,n===!0&&(n=Math.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),i===!0&&(i=Math.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=n||0,s.top-=i||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,t=void 0===t||null===t||"auto"===t?Math.max(Math.abs(this.x-s.left),Math.abs(this.y-s.top)):t,this.scrollTo(s.left,s.top,t,r)}},_transitionTime:function(e){if(e=e||0,this.scrollerStyle[a.style.transitionDuration]=e+"ms",!e&&a.isBadAndroid&&(this.scrollerStyle[a.style.transitionDuration]="0.001s"),this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(e)},_transitionTimingFunction:function(e){if(this.scrollerStyle[a.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=Math.round(e),t=Math.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(t){var n=t?a.removeEvent:a.addEvent,i=this.options.bindToWrapper?this.wrapper:e;n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,a.prefixPointerEvent("pointerdown"),this),n(i,a.prefixPointerEvent("pointermove"),this),n(i,a.prefixPointerEvent("pointercancel"),this),n(i,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,i=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[a.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),n=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),n=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){function e(e){for(var t=o.indicators.length;t--;)e.call(o.indicators[t])}var t,r=this.options.interactiveScrollbars,a="string"!=typeof this.options.scrollbars,s=[],o=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:n("v",r,this.options.scrollbars),interactive:r,defaultScrollbars:!0,customStyle:a,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),s.push(t)),this.options.scrollX&&(t={el:n("h",r,this.options.scrollbars),interactive:r,defaultScrollbars:!0,customStyle:a,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),s.push(t))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var l=s.length;l--;)this.indicators.push(new i(this,s[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){e(function(){this.fade()})}),this.on("scrollCancel",function(){e(function(){this.fade()})}),this.on("scrollStart",function(){e(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){e(function(){this.fade(1,!0)})})),this.on("refresh",function(){e(function(){this.refresh()})}),this.on("destroy",function(){e(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var t,n,i,r,a=this;if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a._execEvent("scrollEnd"),a.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,n=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,n=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return i=this.currentPage.pageX,r=this.currentPage.pageY,t>0?i--:t<0&&i++,n>0?r--:n<0&&r++,void this.goToPage(i,r);i=this.x+Math.round(this.hasHorizontalScroll?t:0),r=this.y+Math.round(this.hasVerticalScroll?n:0),i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(i,r,0),this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e,t,n,i,r,a,s=0,o=0,l=0,c=this.options.snapStepX||this.wrapperWidth,p=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(n=Math.round(c/2),i=Math.round(p/2);l>-this.scrollerWidth;){for(this.pages[s]=[],e=0,r=0;r>-this.scrollerHeight;)this.pages[s][e]={x:Math.max(l,this.maxScrollX),y:Math.max(r,this.maxScrollY),width:c,height:p,cx:l-n,cy:r-i},r-=p,e++;l-=c,s++}else for(a=this.options.snap,e=a.length,t=-1;s<e;s++)(0===s||a[s].offsetLeft<=a[s-1].offsetLeft)&&(o=0,t++),this.pages[o]||(this.pages[o]=[]),l=Math.max(-a[s].offsetLeft,this.maxScrollX),r=Math.max(-a[s].offsetTop,this.maxScrollY),n=l-Math.round(a[s].offsetWidth/2),i=r-Math.round(a[s].offsetHeight/2),this.pages[o][t]={x:l,y:r,width:a[s].offsetWidth,height:a[s].offsetHeight,cx:n,cy:i},l>this.maxScrollX&&o++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,r=0;if(Math.abs(e-this.absStartX)<this.snapThresholdX&&Math.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<i;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(i=this.pages[n].length;r<i;r++)if(t>=this.pages[0][r].cy){t=this.pages[0][r].y;break}return n===this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),r===this.currentPage.pageY&&(r+=this.directionY,r<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),t=this.pages[0][r].y),{x:e,y:t,pageX:n,pageY:r}},goToPage:function(e,t,n,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var r=this.pages[e][t].x,a=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(r-this.x),1e3),Math.min(Math.abs(a-this.y),1e3)),300):n,this.currentPage={x:r,y:a,pageX:e,pageY:t},this.scrollTo(r,a,n,i)},next:function(e,t){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,e,t)},prev:function(e,t){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,e,t)},_initKeys:function(){var t,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(t in this.options.keyBindings)"string"==typeof this.options.keyBindings[t]&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in n)this.options.keyBindings[t]=this.options.keyBindings[t]||n[t];a.addEvent(e,"keydown",this),this.on("destroy",function(){a.removeEvent(e,"keydown",this)})},_key:function(e){if(this.enabled){var t,n=this.options.snap,i=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,s=a.getTime(),o=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(Math.round(t.x),Math.round(t.y)),this.isInTransition=!1),this.keyAcceleration=s-o<200?Math.min(this.keyAcceleration+l,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=0,r=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(i,r);i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,r,0),this.keyTime=s}},_animate:function(e,t,n,i){function s(){var d,h,f,m=a.getTime();return m>=u?(o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"))):(m=(m-p)/n,f=i(m),d=(e-l)*f+l,h=(t-c)*f+c,o._translate(d,h),o.isAnimating&&r(s),void(3===o.options.probeType&&o._execEvent("scroll")))}var o=this,l=this.x,c=this.y,p=a.getTime(),u=p+n;this.isAnimating=!0,s()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}}},i.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(e,"touchmove",this),a.removeEvent(e,a.prefixPointerEvent("pointermove"),this),a.removeEvent(e,"mousemove",this),a.removeEvent(e,"touchend",this),a.removeEvent(e,a.prefixPointerEvent("pointerup"),this),a.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(e,"touchmove",this),this.options.disablePointer||a.addEvent(e,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,i,r,s=e.touches?e.touches[0]:e,o=a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=s.pageX-this.lastPointX,this.lastPointX=s.pageX,n=s.pageY-this.lastPointY,this.lastPointY=s.pageY,i=this.x+t,r=this.y+n,this._pos(i,r),1===this.scroller.options.probeType&&o-this.startTime>300?(this.startTime=o,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),e.preventDefault(),e.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),a.removeEvent(e,"touchmove",this),a.removeEvent(e,a.prefixPointerEvent("pointermove"),this),a.removeEvent(e,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-n.x),1e3),Math.min(Math.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x===n.x&&this.scroller.y===n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0,this.indicatorStyle[a.style.transitionDuration]=e+"ms",!e&&a.isBadAndroid&&(this.indicatorStyle[a.style.transitionDuration]="0.001s")},transitionTimingFunction:function(e){this.indicatorStyle[a.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"===this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"===this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"===this.options.shrink&&(this.width=Math.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"===this.options.shrink?(this.width=Math.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"===this.options.shrink&&this.width!==this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"===this.options.shrink&&(this.height=Math.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"===this.options.shrink?(this.height=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"===this.options.shrink&&this.height!==this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?Math.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?Math.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,i=e?0:300;e=e?"1":"0",this.wrapperStyle[a.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),i)}}},t.utils=a,e.IScroll=t}(window),+function(e){"use strict";function t(t){var n=Array.apply(null,arguments);n.shift();var r;return this.each(function(){var a=e(this),s=e.extend({},a.dataset(),"object"==typeof t&&t),o=a.data("scroller");if(o||a.data("scroller",o=new i(this,s)),"string"==typeof t&&"function"==typeof o[t]&&(r=o[t].apply(o,n),void 0!==r))return!1}),void 0!==r?r:this}var n={scrollTop:e.fn.scrollTop,scrollLeft:e.fn.scrollLeft};!function(){e.extend(e.fn,{scrollTop:function(e,t){if(this.length){var i=this.data("scroller");return i&&i.scroller?i.scrollTop(e,t):n.scrollTop.apply(this,arguments)}}}),e.extend(e.fn,{scrollLeft:function(e,t){if(this.length){var i=this.data("scroller");return i&&i.scroller?i.scrollLeft(e,t):n.scrollLeft.apply(this,arguments)}}})}();var i=function(t,n){var i=this.$pageContent=e(t);this.options=e.extend({},this._defaults,n);var r=this.options.type,a="js"===r||"auto"===r&&e.device.android&&e.compareVersion("4.4.0",e.device.osVersion)>-1||"auto"===r&&e.device.ios&&e.compareVersion("6.0.0",e.device.osVersion)>-1;if(a){var s=i.find(".content-inner");if(!s[0]){var o=i.children();o.length<1?i.children().wrapAll('<div class="content-inner"></div>'):i.html('<div class="content-inner">'+i.html()+"</div>")}if(i.hasClass("pull-to-refresh-content")){var l=e(window).height()+(i.prev().hasClass(".bar")?1:61);i.find(".content-inner").css("min-height",l+"px")}var c=e(t).hasClass("pull-to-refresh-content"),p=0===i.find(".fixed-tab").length,u={probeType:1,mouseWheel:!0,click:e.device.androidChrome,useTransform:p,scrollX:!0};c&&(u.ptr=!0,u.ptrOffset=44),this.scroller=new IScroll(t,u),this._bindEventToDomWhenJs(),e.initPullToRefresh=e._pullToRefreshJSScroll.initPullToRefresh,e.pullToRefreshDone=e._pullToRefreshJSScroll.pullToRefreshDone,e.pullToRefreshTrigger=e._pullToRefreshJSScroll.pullToRefreshTrigger,e.destroyToRefresh=e._pullToRefreshJSScroll.destroyToRefresh,i.addClass("javascript-scroll"),p||i.find(".content-inner").css({width:"100%",position:"absolute"});var d=this.$pageContent[0].scrollTop;d&&(this.$pageContent[0].scrollTop=0,this.scrollTop(d))}else i.addClass("native-scroll")};i.prototype={_defaults:{type:"native"},_bindEventToDomWhenJs:function(){if(this.scroller){var e=this;this.scroller.on("scrollStart",function(){e.$pageContent.trigger("scrollstart")}),this.scroller.on("scroll",function(){e.$pageContent.trigger("scroll")}),this.scroller.on("scrollEnd",function(){e.$pageContent.trigger("scrollend")})}},scrollTop:function(e,t){return this.scroller?void 0===e?this.scroller.getComputedPosition().y*-1:(this.scroller.scrollTo(0,-1*e,t),this):this.$pageContent.scrollTop(e,t)},scrollLeft:function(e,t){return this.scroller?void 0===e?this.scroller.getComputedPosition().x*-1:(this.scroller.scrollTo(-1*e,0),this):this.$pageContent.scrollTop(e,t)},on:function(e,t){return this.scroller?this.scroller.on(e,function(){t.call(this.wrapper)}):this.$pageContent.on(e,t),this},off:function(e,t){return this.scroller?this.scroller.off(e,t):this.$pageContent.off(e,t),this},refresh:function(){return this.scroller&&this.scroller.refresh(),this},scrollHeight:function(){return this.scroller?this.scroller.scrollerHeight:this.$pageContent[0].scrollHeight}};var r=e.fn.scroller;e.fn.scroller=t,e.fn.scroller.Constructor=i,e.fn.scroller.noConflict=function(){return e.fn.scroller=r,this},e(function(){e('[data-toggle="scroller"]').scroller()}),e.refreshScroller=function(t){t?e(t).scroller("refresh"):e(".javascript-scroll").each(function(){e(this).scroller("refresh")})},e.initScroller=function(t){this.options=e.extend({},"object"==typeof t&&t),e('[data-toggle="scroller"],.content').scroller(t)},e.getScroller=function(t){return t=t.hasClass("content")?t:t.parents(".content"),t?e(t).data("scroller"):e(".content.javascript-scroll").data("scroller")},e.detectScrollerType=function(t){if(t)return e(t).data("scroller")&&e(t).data("scroller").scroller?"js":"native"}}(Zepto),+function(e){"use strict";var t=function(t,n,i){var r=e(t);if(2===arguments.length&&"boolean"==typeof n&&(i=n),0===r.length)return!1;if(r.hasClass("active"))return i&&r.trigger("show"),!1;var a=r.parent(".tabs");if(0===a.length)return!1;var s=a.children(".tab.active").removeClass("active");if(r.addClass("active"),r.trigger("show"),n?n=e(n):(n=e("string"==typeof t?'.tab-link[href="'+t+'"]':'.tab-link[href="#'+r.attr("id")+'"]'),(!n||n&&0===n.length)&&e("[data-tab]").each(function(){r.is(e(this).attr("data-tab"))&&(n=e(this))})),0!==n.length){var o;if(s&&s.length>0){var l=s.attr("id");l&&(o=e('.tab-link[href="#'+l+'"]')),(!o||o&&0===o.length)&&e("[data-tab]").each(function(){s.is(e(this).attr("data-tab"))&&(o=e(this))})}return n&&n.length>0&&n.addClass("active"),o&&o.length>0&&o.removeClass("active"),n.trigger("active"),!0}},n=e.showTab;e.showTab=t,e.showTab.noConflict=function(){return e.showTab=n,this},e(document).on("click",".tab-link",function(n){n.preventDefault();var i=e(this);t(i.data("tab")||i.attr("href"),i)})}(Zepto),+function(e){"use strict";function t(t){var i=Array.apply(null,arguments);i.shift(),this.each(function(){var i=e(this),r=e.extend({},i.dataset(),"object"==typeof t&&t),a=i.data("fixedtab");a||i.data("fixedtab",a=new n(this,r))})}e.initFixedTab=function(){var t=e(".fixed-tab");0!==t.length&&e(".fixed-tab").fixedTab()};var n=function(t,n){var i=this.$pageContent=e(t),r=i.clone(),a=i[0].getBoundingClientRect().top;r.css("visibility","hidden"),this.options=e.extend({},this._defaults,{fixedTop:a,shadow:r,offset:0},n),this._bindEvents()};n.prototype={_defaults:{offset:0},_bindEvents:function(){this.$pageContent.parents(".content").on("scroll",this._scrollHandler.bind(this)),this.$pageContent.on("active",".tab-link",this._tabLinkHandler.bind(this))},_tabLinkHandler:function(t){var n=e(t.target).parents(".buttons-fixed").length>0,i=this.options.fixedTop,r=this.options.offset;e.refreshScroller(),n&&this.$pageContent.parents(".content").scrollTop(i-r)},_scrollHandler:function(t){var n=e(t.target),i=this.$pageContent,r=this.options.shadow,a=this.options.offset,s=this.options.fixedTop,o=n.scrollTop(),l=o>=s-a;l?(r.insertAfter(i),i.addClass("buttons-fixed").css("top",a)):(r.remove(),i.removeClass("buttons-fixed").css("top",0))}},e.fn.fixedTab=t,e.fn.fixedTab.Constructor=n,e(document).on("pageInit",function(){e.initFixedTab()})}(Zepto),+function(e){"use strict";var t=0,n=function(n){function i(){c.hasClass("refreshing")||(l.scrollTop()*-1>=44?c.removeClass("pull-down").addClass("pull-up"):c.removeClass("pull-up").addClass("pull-down"))}function r(){c.hasClass("refreshing")||(c.removeClass("pull-down pull-up"),c.addClass("refreshing transitioning"),c.trigger("refresh"),t=+new Date)}function a(){l.off("scroll",i),l.scroller.off("ptr",r)}var s=e(n);if(s.hasClass("pull-to-refresh-content")||(s=s.find(".pull-to-refresh-content")),s&&0!==s.length){var o=s.hasClass("content")?s:s.parents(".content"),l=e.getScroller(o[0]);if(l){var c=s;l.on("scroll",i),l.scroller.on("ptr",r),s[0].destroyPullToRefresh=a}}},i=function(n){if(n=e(n),0===n.length&&(n=e(".pull-to-refresh-content.refreshing")),0!==n.length){var i=+new Date-t,r=i>1e3?0:1e3-i,a=e.getScroller(n);setTimeout(function(){a.refresh(),n.removeClass("refreshing"),n.transitionEnd(function(){n.removeClass("transitioning")})},r)}},r=function(t){if(t=e(t),0===t.length&&(t=e(".pull-to-refresh-content")),!t.hasClass("refreshing")){t.addClass("refreshing");var n=e.getScroller(t);n.scrollTop(45,200),t.trigger("refresh")}},a=function(t){t=e(t);var n=t.hasClass("pull-to-refresh-content")?t:t.find(".pull-to-refresh-content");0!==n.length&&n[0].destroyPullToRefresh&&n[0].destroyPullToRefresh()};e._pullToRefreshJSScroll={initPullToRefresh:n,pullToRefreshDone:i,pullToRefreshTrigger:r,destroyPullToRefresh:a}}(Zepto),+function(e){"use strict";e.initPullToRefresh=function(t){function n(t){if(o){if(!e.device.android)return;if("targetTouches"in t&&t.targetTouches.length>1)return}l=!1,o=!0,c=void 0,m=void 0,y.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,y.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,u=(new Date).getTime(),d=e(this)}function i(t){if(o){var n="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,i="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if("undefined"==typeof c&&(c=!!(c||Math.abs(i-y.y)>Math.abs(n-y.x))),!c)return void(o=!1);if(f=d[0].scrollTop,"undefined"==typeof m&&0!==f&&(m=!0),!l){if(d.removeClass("transitioning"),f>d[0].offsetHeight)return void(o=!1);v&&(g=d.attr("data-ptr-distance"),g.indexOf("%")>=0&&(g=d[0].offsetHeight*parseInt(g,10)/100)),x=d.hasClass("refreshing")?g:0,b=d[0].scrollHeight===d[0].offsetHeight||!e.device.ios,b=!0}return l=!0,p=i-y.y,p>0&&f<=0||f<0?(e.device.ios&&parseInt(e.device.osVersion.split(".")[0],10)>7&&0===f&&!m&&(b=!0),b&&(t.preventDefault(),h=Math.pow(p,.85)+x,d.transform("translate3d(0,"+h+"px,0)")),b&&Math.pow(p,.85)>g||!b&&p>=2*g?(w=!0,d.addClass("pull-up").removeClass("pull-down")):(w=!1,d.removeClass("pull-up").addClass("pull-down")),void 0):(d.removeClass("pull-up pull-down"),void(w=!1))}}function r(){if(!o||!l)return o=!1,void(l=!1);if(h&&(d.addClass("transitioning"),h=0),d.transform(""),w){if(d.hasClass("refreshing"))return;d.addClass("refreshing"),d.trigger("refresh")}else d.removeClass("pull-down");o=!1,l=!1}function a(){s.off(e.touchEvents.start,n),s.off(e.touchEvents.move,i),s.off(e.touchEvents.end,r)}var s=e(t);if(s.hasClass("pull-to-refresh-content")||(s=s.find(".pull-to-refresh-content")),s&&0!==s.length){var o,l,c,p,u,d,h,f,m,g,v,y={},w=!1,b=!1,x=0;d=s,d.attr("data-ptr-distance")?v=!0:g=44,s.on(e.touchEvents.start,n),s.on(e.touchEvents.move,i),s.on(e.touchEvents.end,r),s[0].destroyPullToRefresh=a}},e.pullToRefreshDone=function(t){e(window).scrollTop(0),t=e(t),0===t.length&&(t=e(".pull-to-refresh-content.refreshing")),t.removeClass("refreshing").addClass("transitioning"),t.transitionEnd(function(){t.removeClass("transitioning pull-up pull-down")})},e.pullToRefreshTrigger=function(t){t=e(t),0===t.length&&(t=e(".pull-to-refresh-content")),t.hasClass("refreshing")||(t.addClass("transitioning refreshing"),t.trigger("refresh"))},e.destroyPullToRefresh=function(t){t=e(t);var n=t.hasClass("pull-to-refresh-content")?t:t.find(".pull-to-refresh-content");0!==n.length&&n[0].destroyPullToRefresh&&n[0].destroyPullToRefresh()}}(Zepto),+function(e){"use strict";function t(){var t,n=e(this),i=e.getScroller(n),r=i.scrollTop(),a=i.scrollHeight(),s=n[0].offsetHeight,o=n[0].getAttribute("data-distance"),l=n.find(".virtual-list"),c=n.hasClass("infinite-scroll-top");if(o||(o=50),"string"==typeof o&&o.indexOf("%")>=0&&(o=parseInt(o,10)/100*s),o>s&&(o=s),c)r<o&&n.trigger("infinite");else if(r+s>=a-o){if(l.length>0&&(t=l[0].f7VirtualList,t&&!t.reachEnd))return;n.trigger("infinite")}}e.attachInfiniteScroll=function(n){e.getScroller(n).on("scroll",t)},e.detachInfiniteScroll=function(n){e.getScroller(n).off("scroll",t)},e.initInfiniteScroll=function(t){function n(){e.detachInfiniteScroll(i),t.off("pageBeforeRemove",n)}t=e(t);var i=t.hasClass("infinite-scroll")?t:t.find(".infinite-scroll");0!==i.length&&(e.attachInfiniteScroll(i),t.forEach(function(t){if(e(t).hasClass("infinite-scroll-top")){var n=t.scrollHeight-t.clientHeight;e(t).scrollTop(n)}}),t.on("pageBeforeRemove",n))}}(Zepto),+function(e){"use strict";e(function(){e(document).on("focus",".searchbar input",function(t){var n=e(t.target);n.parents(".searchbar").addClass("searchbar-active")}),e(document).on("click",".searchbar-cancel",function(t){var n=e(t.target);n.parents(".searchbar").removeClass("searchbar-active")}),e(document).on("blur",".searchbar input",function(t){var n=e(t.target);n.parents(".searchbar").removeClass("searchbar-active")})})}(Zepto),+function(e){"use strict";e.allowPanelOpen=!0,e.openPanel=function(t){function n(){a.transitionEnd(function(i){i.target===a[0]?(t.hasClass("active")?t.trigger("opened"):t.trigger("closed"),e.allowPanelOpen=!0):n()})}if(!e.allowPanelOpen)return!1;"left"!==t&&"right"!==t||(t=".panel-"+t),t=t?e(t):e(".panel").eq(0);var i=t.hasClass("panel-right")?"right":"left";if(0===t.length||t.hasClass("active"))return!1;
e.closePanel(),e.allowPanelOpen=!1;var r=t.hasClass("panel-reveal")?"reveal":"cover";t.css({display:"block"}).addClass("active"),t.trigger("open");var a=(t[0].clientLeft,"reveal"===r?e(e.getCurrentPage()):t);return n(),e(document.body).addClass("with-panel-"+i+"-"+r),!0},e.closePanel=function(){var t=e(".panel.active");if(0===t.length)return!1;var n=t.hasClass("panel-reveal")?"reveal":"cover",i=t.hasClass("panel-left")?"left":"right";t.removeClass("active");var r="reveal"===n?e(".page"):t;t.trigger("close"),e.allowPanelOpen=!1,r.transitionEnd(function(){t.hasClass("active")||(t.css({display:""}),t.trigger("closed"),e("body").removeClass("panel-closing"),e.allowPanelOpen=!0)}),e("body").addClass("panel-closing").removeClass("with-panel-"+i+"-"+n)},e(document).on("click",".open-panel",function(t){var n=e(t.target).data("panel");e.openPanel(n)}),e(document).on("click",".close-panel, .panel-overlay",function(t){e.closePanel()}),e.initSwipePanels=function(){function t(t){if(e.allowPanelOpen&&(s||o)&&!d&&!(e(".modal-in, .photo-browser-in").length>0)&&(l||o||!(e(".panel.active").length>0)||r.hasClass("active"))){if(S.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,S.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,l||o){if(e(".panel.active").length>0)a=e(".panel.active").hasClass("panel-left")?"left":"right";else{if(o)return;a=s}if(!a)return}if(r=e(".panel.panel-"+a),r[0]){if(y=r.hasClass("active"),c&&!y){if("left"===a&&S.x>c)return;if("right"===a&&S.x<window.innerWidth-c)return}h=!1,d=!0,f=void 0,m=(new Date).getTime(),x=void 0}}}function n(t){if(d&&r[0]&&!t.f7PreventPanelSwipe){var n="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,i="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if("undefined"==typeof f&&(f=!!(f||Math.abs(i-S.y)>Math.abs(n-S.x))),f)return void(d=!1);if(!x&&(x=n>S.x?"to-right":"to-left","left"===a&&"to-left"===x&&!r.hasClass("active")||"right"===a&&"to-right"===x&&!r.hasClass("active")))return void(d=!1);if(u){var s=(new Date).getTime()-m;return s<300&&("to-left"===x&&("right"===a&&e.openPanel(a),"left"===a&&r.hasClass("active")&&e.closePanel()),"to-right"===x&&("left"===a&&e.openPanel(a),"right"===a&&r.hasClass("active")&&e.closePanel())),d=!1,console.log(3),void(h=!1)}h||(b=r.hasClass("panel-cover")?"cover":"reveal",y||(r.show(),T.show()),w=r[0].offsetWidth,r.transition(0)),h=!0,t.preventDefault();var o=y?0:-p;"right"===a&&(o=-o),g=n-S.x+o,"right"===a?(v=g-(y?w:0),v>0&&(v=0),v<-w&&(v=-w)):(v=g+(y?w:0),v<0&&(v=0),v>w&&(v=w)),"reveal"===b?(C.transform("translate3d("+v+"px,0,0)").transition(0),T.transform("translate3d("+v+"px,0,0)")):r.transform("translate3d("+v+"px,0,0)").transition(0)}}function i(t){if(!d||!h)return d=!1,void(h=!1);d=!1,h=!1;var n,i=(new Date).getTime()-m,s=0===v||Math.abs(v)===w;if(n=y?v===-w?"reset":i<300&&Math.abs(v)>=0||i>=300&&Math.abs(v)<=w/2?"left"===a&&v===w?"reset":"swap":"reset":0===v?"reset":i<300&&Math.abs(v)>0||i>=300&&Math.abs(v)>=w/2?"swap":"reset","swap"===n&&(e.allowPanelOpen=!0,y?(e.closePanel(),s&&(r.css({display:""}),e("body").removeClass("panel-closing"))):e.openPanel(a),s&&(e.allowPanelOpen=!0)),"reset"===n)if(y)e.allowPanelOpen=!0,e.openPanel(a);else if(e.closePanel(),s)e.allowPanelOpen=!0,r.css({display:""});else{var o="reveal"===b?C:r;e("body").addClass("panel-closing"),o.transitionEnd(function(){e.allowPanelOpen=!0,r.css({display:""}),e("body").removeClass("panel-closing")})}"reveal"===b&&(C.transition(""),C.transform("")),r.transition("").transform(""),T.css({display:""}).transform("")}var r,a,s=e.smConfig.swipePanel,o=e.smConfig.swipePanelOnlyClose,l=!0,c=!1,p=2,u=!1;if(s||o){var d,h,f,m,g,v,y,w,b,x,T=e(".panel-overlay"),S={},C=e(".page");e(document).on(e.touchEvents.start,t),e(document).on(e.touchEvents.move,n),e(document).on(e.touchEvents.end,i)}},e.initSwipePanels()}(Zepto),+function(e){"use strict";function t(e){for(var t=["external","tab-link","open-popup","close-popup","open-panel","close-panel"],n=t.length-1;n>=0;n--)if(e.hasClass(t[n]))return!0;var i=e.get(0),r=i.getAttribute("href"),a=["http","https"];return!!(/^(\w+):/.test(r)&&a.indexOf(RegExp.$1)<0)||!!i.hasAttribute("external")}function n(t){var n=e.smConfig.routerFilter;if(e.isFunction(n)){var i=n(t);if("boolean"==typeof i)return i}return!0}window.CustomEvent||(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},window.CustomEvent.prototype=window.Event.prototype);var i={pageLoadStart:"pageLoadStart",pageLoadCancel:"pageLoadCancel",pageLoadError:"pageLoadError",pageLoadComplete:"pageLoadComplete",pageAnimationStart:"pageAnimationStart",pageAnimationEnd:"pageAnimationEnd",beforePageRemove:"beforePageRemove",pageRemoved:"pageRemoved",beforePageSwitch:"beforePageSwitch",pageInit:"pageInitInternal"},r={getUrlFragment:function(e){var t=e.indexOf("#");return t===-1?"":e.slice(t+1)},getAbsoluteUrl:function(e){var t=document.createElement("a");t.setAttribute("href",e);var n=t.href;return t=null,n},getBaseUrl:function(e){var t=e.indexOf("#");return t===-1?e.slice(0):e.slice(0,t)},toUrlObject:function(e){var t=this.getAbsoluteUrl(e),n=this.getBaseUrl(t),i=this.getUrlFragment(e);return{base:n,full:t,original:e,fragment:i}},supportStorage:function(){var e="sm.router.storage.ability";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}},a={sectionGroupClass:"page-group",curPageClass:"page-current",visiblePageClass:"page-visible",pageClass:"page"},s={leftToRight:"from-left-to-right",rightToLeft:"from-right-to-left"},o=window.history,l=function(){this.sessionNames={currentState:"sm.router.currentState",maxStateId:"sm.router.maxStateId"},this._init(),this.xhr=null,window.addEventListener("popstate",this._onPopState.bind(this))};l.prototype._init=function(){this.$view=e("body"),this.cache={};var t=e(document),n=location.href;this._saveDocumentIntoCache(t,n);var i,s,l=r.toUrlObject(n),c=t.find("."+a.pageClass),p=t.find("."+a.curPageClass),u=p.eq(0);if(l.fragment&&(s=t.find("#"+l.fragment)),s&&s.length?p=s.eq(0):p.length||(p=c.eq(0)),p.attr("id")||p.attr("id",this._generateRandomId()),u.length&&u.attr("id")!==p.attr("id")?(u.removeClass(a.curPageClass),p.addClass(a.curPageClass)):p.addClass(a.curPageClass),i=p.attr("id"),null===o.state){var d={id:this._getNextStateId(),url:r.toUrlObject(n),pageId:i};o.replaceState(d,"",n),this._saveAsCurrentState(d),this._incMaxStateId()}},l.prototype.load=function(t,n){void 0===n&&(n=!1),this._isTheSameDocument(location.href,t)?this._switchToSection(r.getUrlFragment(t)):(this._saveDocumentIntoCache(e(document),location.href),this._switchToDocument(t,n))},l.prototype.forward=function(){o.forward()},l.prototype.back=function(){o.back()},l.prototype.loadPage=l.prototype.load,l.prototype._switchToSection=function(t){if(t){var n=this._getCurrentSection(),i=e("#"+t);n!==i&&(this._animateSection(n,i,s.rightToLeft),this._pushNewState("#"+t,t))}},l.prototype._switchToDocument=function(e,t,n,i){var a=r.toUrlObject(e).base;t&&delete this.cache[a];var s=this.cache[a],o=this;s?this._doSwitchDocument(e,n,i):this._loadDocument(e,{success:function(t){try{o._parseDocument(e,t),o._doSwitchDocument(e,n,i)}catch(r){location.href=e}},error:function(){location.href=e}})},l.prototype._doSwitchDocument=function(t,n,s){"undefined"==typeof n&&(n=!0);var o,l=r.toUrlObject(t),c=this.$view.find("."+a.sectionGroupClass),p=e(e("<div></div>").append(this.cache[l.base].$content).html()),u=p.find("."+a.pageClass),d=p.find("."+a.curPageClass);l.fragment&&(o=p.find("#"+l.fragment)),o&&o.length?d=o.eq(0):d.length||(d=u.eq(0)),d.attr("id")||d.attr("id",this._generateRandomId());var h=this._getCurrentSection();h.trigger(i.beforePageSwitch,[h.attr("id"),h]),u.removeClass(a.curPageClass),d.addClass(a.curPageClass),this.$view.prepend(p),this._animateDocument(c,p,d,s),n&&this._pushNewState(t,d.attr("id"))},l.prototype._isTheSameDocument=function(e,t){return r.toUrlObject(e).base===r.toUrlObject(t).base},l.prototype._loadDocument=function(t,n){this.xhr&&this.xhr.readyState<4&&(this.xhr.onreadystatechange=function(){},this.xhr.abort(),this.dispatch(i.pageLoadCancel)),this.dispatch(i.pageLoadStart),n=n||{};var r=this;this.xhr=e.ajax({url:t,success:e.proxy(function(t,i,r){var a=e("<html></html>");a.append(t),n.success&&n.success.call(null,a,i,r)},this),error:function(e,t,a){n.error&&n.error.call(null,e,t,a),r.dispatch(i.pageLoadError)},complete:function(e,t){n.complete&&n.complete.call(null,e,t),r.dispatch(i.pageLoadComplete)}})},l.prototype._parseDocument=function(e,t){var n=t.find("."+a.sectionGroupClass);if(!n.length)throw new Error("missing router view mark: "+a.sectionGroupClass);this._saveDocumentIntoCache(t,e)},l.prototype._saveDocumentIntoCache=function(t,n){var i=r.toUrlObject(n).base,s=e(t);this.cache[i]={$doc:s,$content:s.find("."+a.sectionGroupClass)}},l.prototype._getLastState=function(){var e=sessionStorage.getItem(this.sessionNames.currentState);try{e=JSON.parse(e)}catch(t){e=null}return e},l.prototype._saveAsCurrentState=function(e){sessionStorage.setItem(this.sessionNames.currentState,JSON.stringify(e))},l.prototype._getNextStateId=function(){var e=sessionStorage.getItem(this.sessionNames.maxStateId);return e?parseInt(e,10)+1:1},l.prototype._incMaxStateId=function(){sessionStorage.setItem(this.sessionNames.maxStateId,this._getNextStateId())},l.prototype._animateDocument=function(t,n,r,s){var o=r.attr("id"),l=t.find("."+a.curPageClass);l.addClass(a.visiblePageClass).removeClass(a.curPageClass),r.trigger(i.pageAnimationStart,[o,r]),this._animateElement(t,n,s),t.animationEnd(function(){l.removeClass(a.visiblePageClass),e(window).trigger(i.beforePageRemove,[t]),t.remove(),e(window).trigger(i.pageRemoved)}),n.animationEnd(function(){r.trigger(i.pageAnimationEnd,[o,r]),r.trigger(i.pageInit,[o,r])})},l.prototype._animateSection=function(e,t,n){var r=t.attr("id");e.trigger(i.beforePageSwitch,[e.attr("id"),e]),e.removeClass(a.curPageClass),t.addClass(a.curPageClass),t.trigger(i.pageAnimationStart,[r,t]),this._animateElement(e,t,n),t.animationEnd(function(){t.trigger(i.pageAnimationEnd,[r,t]),t.trigger(i.pageInit,[r,t])})},l.prototype._animateElement=function(e,t,n){"undefined"==typeof n&&(n=s.rightToLeft);var i,r,a=["page-from-center-to-left","page-from-center-to-right","page-from-right-to-center","page-from-left-to-center"].join(" ");switch(n){case s.rightToLeft:i="page-from-center-to-left",r="page-from-right-to-center";break;case s.leftToRight:i="page-from-center-to-right",r="page-from-left-to-center";break;default:i="page-from-center-to-left",r="page-from-right-to-center"}e.removeClass(a).addClass(i),t.removeClass(a).addClass(r),e.animationEnd(function(){e.removeClass(a)}),t.animationEnd(function(){t.removeClass(a)})},l.prototype._getCurrentSection=function(){return this.$view.find("."+a.curPageClass).eq(0)},l.prototype._back=function(t,n){if(this._isTheSameDocument(t.url.full,n.url.full)){var i=e("#"+t.pageId);if(i.length){var r=this._getCurrentSection();this._animateSection(r,i,s.leftToRight),this._saveAsCurrentState(t)}else location.href=t.url.full}else this._saveDocumentIntoCache(e(document),n.url.full),this._switchToDocument(t.url.full,!1,!1,s.leftToRight),this._saveAsCurrentState(t)},l.prototype._forward=function(t,n){if(this._isTheSameDocument(t.url.full,n.url.full)){var i=e("#"+t.pageId);if(i.length){var r=this._getCurrentSection();this._animateSection(r,i,s.rightToLeft),this._saveAsCurrentState(t)}else location.href=t.url.full}else this._saveDocumentIntoCache(e(document),n.url.full),this._switchToDocument(t.url.full,!1,!1,s.rightToLeft),this._saveAsCurrentState(t)},l.prototype._onPopState=function(e){var t=e.state;if(t&&t.pageId){var n=this._getLastState();return n?void(t.id!==n.id&&(t.id<n.id?this._back(t,n):this._forward(t,n))):void(console.error&&console.error("Missing last state when backward or forward"))}},l.prototype._pushNewState=function(e,t){var n={id:this._getNextStateId(),pageId:t,url:r.toUrlObject(e)};o.pushState(n,"",e),this._saveAsCurrentState(n),this._incMaxStateId()},l.prototype._generateRandomId=function(){return"page-"+ +new Date},l.prototype.dispatch=function(e){var t=new CustomEvent(e,{bubbles:!0,cancelable:!0});window.dispatchEvent(t)},e(function(){if(e.smConfig.router&&r.supportStorage()){var i=e("."+a.pageClass);if(!i.length){var s="Disable router function because of no .page elements";return void(window.console&&window.console.warn&&console.warn(s))}var o=e.router=new l;e(document).on("click","a",function(i){var r=e(i.currentTarget),a=n(r);if(a&&!t(r))if(i.preventDefault(),r.hasClass("back"))o.back();else{var s=r.attr("href");if(!s||"#"===s)return;var l="true"===r.attr("data-no-cache");o.load(s,l)}})}})}(Zepto),+function(e){"use strict";e.lastPosition=function(t){function n(t,n){r.forEach(function(i,r){if(0!==e(i).length){var a=t,s=sessionStorage.getItem(a);n.find(i).scrollTop(parseInt(s))}})}function i(t,n){var i=t;r.forEach(function(t,r){0!==e(t).length&&sessionStorage.setItem(i,n.find(t).scrollTop())})}if(sessionStorage){var r=t.needMemoryClass||[];e(window).off("beforePageSwitch").on("beforePageSwitch",function(e,t,n){i(t,n)}),e(window).off("pageAnimationStart").on("pageAnimationStart",function(e,t,i){n(t,i)})}}}(Zepto),+function(e){"use strict";var t=function(){var t=e(".page-current");return t[0]||(t=e(".page").addClass("page-current")),t};e.initPage=function(n){var i=t();i[0]||(i=e(document.body));var r=i.hasClass("content")?i:i.find(".content");r.scroller(),e.initPullToRefresh(r),e.initInfiniteScroll(r),e.initCalendar(r),e.initSwiper&&e.initSwiper(r)},e.smConfig.showPageLoadingIndicator&&(e(window).on("pageLoadStart",function(){e.showIndicator()}),e(window).on("pageAnimationStart",function(){e.hideIndicator()}),e(window).on("pageLoadCancel",function(){e.hideIndicator()}),e(window).on("pageLoadComplete",function(){e.hideIndicator()}),e(window).on("pageLoadError",function(){e.hideIndicator(),e.toast("加载失败")})),e(window).on("pageAnimationStart",function(t,n,i){e.closeModal(),e.closePanel(),e("body").removeClass("panel-closing"),e.allowPanelOpen=!0}),e(window).on("pageInit",function(){e.hideIndicator(),e.lastPosition({needMemoryClass:[".content"]})}),window.addEventListener("pageshow",function(e){e.persisted&&location.reload()}),e.init=function(){var n=t(),i=n[0].id;e.initPage(),n.trigger("pageInit",[i,n])},e(function(){FastClick.attach(document.body),e.smConfig.autoInit&&e.init(),e(document).on("pageInitInternal",function(t,n,i){e.init()})})}(Zepto),+function(e){"use strict";if(e.device.ios){var t=function(e){var t,n;e=e||document.querySelector(e),e&&e.addEventListener("touchstart",function(i){t=i.touches[0].pageY,n=e.scrollTop,n<=0&&(e.scrollTop=1),n+e.offsetHeight>=e.scrollHeight&&(e.scrollTop=e.scrollHeight-e.offsetHeight-1)},!1)},n=function(){var n=e(".page-current").length>0?".page-current ":"",i=e(n+".content");new t(i[0])};e(document).on(e.touchEvents.move,".page-current .bar",function(){event.preventDefault()}),e(document).on("pageLoadComplete",function(){n()}),e(document).on("pageAnimationEnd",function(){n()}),n()}}(Zepto),function(){"use strict";function e(e){e.fn.swiper=function(t){var i;return e(this).each(function(){var e=new n(this,t);i||(i=e)}),i}}var t,n=function(e,r){function a(e){return Math.floor(e)}function s(){b.autoplayTimeoutId=setTimeout(function(){b.params.loop?(b.fixLoop(),b._slideNext(),b.emit("onAutoplay",b)):b.isEnd?r.autoplayStopOnLast?b.stopAutoplay():(b._slideTo(0),b.emit("onAutoplay",b)):(b._slideNext(),b.emit("onAutoplay",b))},b.params.autoplay)}function o(e,n){var i=t(e.target);if(!i.is(n))if("string"==typeof n)i=i.parents(n);else if(n.nodeType){var r;return i.parents().each(function(e,t){t===n&&(r=n)}),r?n:void 0}if(0!==i.length)return i[0]}function l(e,t){t=t||{};var n=window.MutationObserver||window.WebkitMutationObserver,i=new n(function(e){e.forEach(function(e){b.onResize(!0),b.emit("onObserverUpdate",b,e)})});i.observe(e,{attributes:"undefined"==typeof t.attributes||t.attributes,childList:"undefined"==typeof t.childList||t.childList,characterData:"undefined"==typeof t.characterData||t.characterData}),b.observers.push(i)}function c(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!b.params.allowSwipeToNext&&(b.isHorizontal()&&39===t||!b.isHorizontal()&&40===t))return!1;if(!b.params.allowSwipeToPrev&&(b.isHorizontal()&&37===t||!b.isHorizontal()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var n=!1;if(b.container.parents(".swiper-slide").length>0&&0===b.container.parents(".swiper-slide-active").length)return;var i={left:window.pageXOffset,top:window.pageYOffset},r=window.innerWidth,a=window.innerHeight,s=b.container.offset();b.rtl&&(s.left=s.left-b.container[0].scrollLeft);for(var o=[[s.left,s.top],[s.left+b.width,s.top],[s.left,s.top+b.height],[s.left+b.width,s.top+b.height]],l=0;l<o.length;l++){var c=o[l];c[0]>=i.left&&c[0]<=i.left+r&&c[1]>=i.top&&c[1]<=i.top+a&&(n=!0)}if(!n)return}b.isHorizontal()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===t&&!b.rtl||37===t&&b.rtl)&&b.slideNext(),(37===t&&!b.rtl||39===t&&b.rtl)&&b.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&b.slideNext(),38===t&&b.slidePrev())}}function p(e){e.originalEvent&&(e=e.originalEvent);var t=b.mousewheel.event,n=0,i=b.rtl?-1:1;if("mousewheel"===t)if(b.params.mousewheelForceToAxis)if(b.isHorizontal()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;n=e.wheelDeltaX*i}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;n=e.wheelDeltaY}else n=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*i:-e.wheelDeltaY;else if("DOMMouseScroll"===t)n=-e.detail;else if("wheel"===t)if(b.params.mousewheelForceToAxis)if(b.isHorizontal()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;n=-e.deltaX*i}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;n=-e.deltaY}else n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*i:-e.deltaY;if(0!==n){if(b.params.mousewheelInvert&&(n=-n),b.params.freeMode){var r=b.getWrapperTranslate()+n*b.params.mousewheelSensitivity,a=b.isBeginning,s=b.isEnd;if(r>=b.minTranslate()&&(r=b.minTranslate()),r<=b.maxTranslate()&&(r=b.maxTranslate()),b.setWrapperTransition(0),b.setWrapperTranslate(r),b.updateProgress(),b.updateActiveIndex(),(!a&&b.isBeginning||!s&&b.isEnd)&&b.updateClasses(),b.params.freeModeSticky?(clearTimeout(b.mousewheel.timeout),b.mousewheel.timeout=setTimeout(function(){b.slideReset()},300)):b.params.lazyLoading&&b.lazy&&b.lazy.load(),0===r||r===b.maxTranslate())return}else{if((new window.Date).getTime()-b.mousewheel.lastScrollTime>60)if(n<0)if(b.isEnd&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slideNext();else if(b.isBeginning&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slidePrev();b.mousewheel.lastScrollTime=(new window.Date).getTime()}return b.params.autoplay&&b.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function u(e,n){e=t(e);var i,r,a,s=b.rtl?-1:1;i=e.attr("data-swiper-parallax")||"0",r=e.attr("data-swiper-parallax-x"),a=e.attr("data-swiper-parallax-y"),r||a?(r=r||"0",a=a||"0"):b.isHorizontal()?(r=i,a="0"):(a=i,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*n*s+"%":r*n*s+"px",a=a.indexOf("%")>=0?parseInt(a,10)*n+"%":a*n+"px",e.transform("translate3d("+r+", "+a+",0px)")}function d(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof n))return new n(e,r);var h={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},f=r&&r.virtualTranslate;r=r||{};var m={};for(var g in r)if("object"!=typeof r[g]||null===r[g]||(r[g].nodeType||r[g]===window||r[g]===document||"undefined"!=typeof i&&r[g]instanceof i||"undefined"!=typeof jQuery&&r[g]instanceof jQuery))m[g]=r[g];else{m[g]={};for(var v in r[g])m[g][v]=r[g][v]}for(var y in h)if("undefined"==typeof r[y])r[y]=h[y];else if("object"==typeof r[y])for(var w in h[y])"undefined"==typeof r[y][w]&&(r[y][w]=h[y][w]);var b=this;if(b.params=r,b.originalParams=m,b.classNames=[],"undefined"!=typeof t&&"undefined"!=typeof i&&(t=i),("undefined"!=typeof t||(t="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i))&&(b.$=t,b.currentBreakpoint=void 0,b.getActiveBreakpoint=function(){if(!b.params.breakpoints)return!1;var e,t=!1,n=[];for(e in b.params.breakpoints)b.params.breakpoints.hasOwnProperty(e)&&n.push(e);n.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)});for(var i=0;i<n.length;i++)e=n[i],e>=window.innerWidth&&!t&&(t=e);return t||"max"},b.setBreakpoint=function(){var e=b.getActiveBreakpoint();if(e&&b.currentBreakpoint!==e){var t=e in b.params.breakpoints?b.params.breakpoints[e]:b.originalParams,n=b.params.loop&&t.slidesPerView!==b.params.slidesPerView;for(var i in t)b.params[i]=t[i];b.currentBreakpoint=e,n&&b.destroyLoop&&b.reLoop(!0)}},b.params.breakpoints&&b.setBreakpoint(),b.container=t(e),0!==b.container.length)){if(b.container.length>1){var x=[];return b.container.each(function(){x.push(new n(this,r))}),x}b.container[0].swiper=b,b.container.data("swiper",b),b.classNames.push("swiper-container-"+b.params.direction),b.params.freeMode&&b.classNames.push("swiper-container-free-mode"),b.support.flexbox||(b.classNames.push("swiper-container-no-flexbox"),b.params.slidesPerColumn=1),b.params.autoHeight&&b.classNames.push("swiper-container-autoheight"),(b.params.parallax||b.params.watchSlidesVisibility)&&(b.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(b.params.effect)>=0&&(b.support.transforms3d?(b.params.watchSlidesProgress=!0,b.classNames.push("swiper-container-3d")):b.params.effect="slide"),"slide"!==b.params.effect&&b.classNames.push("swiper-container-"+b.params.effect),"cube"===b.params.effect&&(b.params.resistanceRatio=0,b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.centeredSlides=!1,b.params.spaceBetween=0,b.params.virtualTranslate=!0,b.params.setWrapperSize=!1),"fade"!==b.params.effect&&"flip"!==b.params.effect||(b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.watchSlidesProgress=!0,b.params.spaceBetween=0,b.params.setWrapperSize=!1,"undefined"==typeof f&&(b.params.virtualTranslate=!0)),b.params.grabCursor&&b.support.touch&&(b.params.grabCursor=!1),b.wrapper=b.container.children("."+b.params.wrapperClass),b.params.pagination&&(b.paginationContainer=t(b.params.pagination),b.params.uniqueNavElements&&"string"==typeof b.params.pagination&&b.paginationContainer.length>1&&1===b.container.find(b.params.pagination).length&&(b.paginationContainer=b.container.find(b.params.pagination)),"bullets"===b.params.paginationType&&b.params.paginationClickable?b.paginationContainer.addClass("swiper-pagination-clickable"):b.params.paginationClickable=!1,b.paginationContainer.addClass("swiper-pagination-"+b.params.paginationType)),(b.params.nextButton||b.params.prevButton)&&(b.params.nextButton&&(b.nextButton=t(b.params.nextButton),b.params.uniqueNavElements&&"string"==typeof b.params.nextButton&&b.nextButton.length>1&&1===b.container.find(b.params.nextButton).length&&(b.nextButton=b.container.find(b.params.nextButton))),b.params.prevButton&&(b.prevButton=t(b.params.prevButton),b.params.uniqueNavElements&&"string"==typeof b.params.prevButton&&b.prevButton.length>1&&1===b.container.find(b.params.prevButton).length&&(b.prevButton=b.container.find(b.params.prevButton)))),b.isHorizontal=function(){return"horizontal"===b.params.direction},b.rtl=b.isHorizontal()&&("rtl"===b.container[0].dir.toLowerCase()||"rtl"===b.container.css("direction")),b.rtl&&b.classNames.push("swiper-container-rtl"),b.rtl&&(b.wrongRTL="-webkit-box"===b.wrapper.css("display")),b.params.slidesPerColumn>1&&b.classNames.push("swiper-container-multirow"),b.device.android&&b.classNames.push("swiper-container-android"),b.container.addClass(b.classNames.join(" ")),b.translate=0,b.progress=0,b.velocity=0,b.lockSwipeToNext=function(){b.params.allowSwipeToNext=!1},b.lockSwipeToPrev=function(){b.params.allowSwipeToPrev=!1},b.lockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!1},b.unlockSwipeToNext=function(){b.params.allowSwipeToNext=!0},b.unlockSwipeToPrev=function(){b.params.allowSwipeToPrev=!0},b.unlockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!0},b.params.grabCursor&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grab",b.container[0].style.cursor="-moz-grab",b.container[0].style.cursor="grab"),b.imagesToLoad=[],b.imagesLoaded=0,b.loadImage=function(e,t,n,i,r){function a(){r&&r()}var s;e.complete&&i?a():t?(s=new window.Image,s.onload=a,s.onerror=a,n&&(s.srcset=n),t&&(s.src=t)):a()},b.preloadImages=function(){function e(){"undefined"!=typeof b&&null!==b&&(void 0!==b.imagesLoaded&&b.imagesLoaded++,b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("onImagesReady",b)))}b.imagesToLoad=b.container.find("img");for(var t=0;t<b.imagesToLoad.length;t++)b.loadImage(b.imagesToLoad[t],b.imagesToLoad[t].currentSrc||b.imagesToLoad[t].getAttribute("src"),b.imagesToLoad[t].srcset||b.imagesToLoad[t].getAttribute("srcset"),!0,e)},b.autoplayTimeoutId=void 0,b.autoplaying=!1,b.autoplayPaused=!1,b.startAutoplay=function(){return"undefined"==typeof b.autoplayTimeoutId&&(!!b.params.autoplay&&(!b.autoplaying&&(b.autoplaying=!0,b.emit("onAutoplayStart",b),void s())))},b.stopAutoplay=function(e){b.autoplayTimeoutId&&(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplaying=!1,b.autoplayTimeoutId=void 0,b.emit("onAutoplayStop",b))},b.pauseAutoplay=function(e){b.autoplayPaused||(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplayPaused=!0,0===e?(b.autoplayPaused=!1,s()):b.wrapper.transitionEnd(function(){b&&(b.autoplayPaused=!1,b.autoplaying?s():b.stopAutoplay())}))},b.minTranslate=function(){return-b.snapGrid[0]},b.maxTranslate=function(){return-b.snapGrid[b.snapGrid.length-1]},b.updateAutoHeight=function(){var e=b.slides.eq(b.activeIndex)[0];if("undefined"!=typeof e){var t=e.offsetHeight;t&&b.wrapper.css("height",t+"px")}},b.updateContainerSize=function(){var e,t;e="undefined"!=typeof b.params.width?b.params.width:b.container[0].clientWidth,t="undefined"!=typeof b.params.height?b.params.height:b.container[0].clientHeight,0===e&&b.isHorizontal()||0===t&&!b.isHorizontal()||(e=e-parseInt(b.container.css("padding-left"),10)-parseInt(b.container.css("padding-right"),10),t=t-parseInt(b.container.css("padding-top"),10)-parseInt(b.container.css("padding-bottom"),10),b.width=e,b.height=t,b.size=b.isHorizontal()?b.width:b.height)},b.updateSlidesSize=function(){b.slides=b.wrapper.children("."+b.params.slideClass),b.snapGrid=[],b.slidesGrid=[],b.slidesSizesGrid=[];var e,t=b.params.spaceBetween,n=-b.params.slidesOffsetBefore,i=0,r=0;if("undefined"!=typeof b.size){"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*b.size),b.virtualSize=-t,b.rtl?b.slides.css({marginLeft:"",marginTop:""}):b.slides.css({marginRight:"",marginBottom:""});var s;b.params.slidesPerColumn>1&&(s=Math.floor(b.slides.length/b.params.slidesPerColumn)===b.slides.length/b.params.slidesPerColumn?b.slides.length:Math.ceil(b.slides.length/b.params.slidesPerColumn)*b.params.slidesPerColumn,"auto"!==b.params.slidesPerView&&"row"===b.params.slidesPerColumnFill&&(s=Math.max(s,b.params.slidesPerView*b.params.slidesPerColumn)));var o,l=b.params.slidesPerColumn,c=s/l,p=c-(b.params.slidesPerColumn*c-b.slides.length);for(e=0;e<b.slides.length;e++){o=0;var u=b.slides.eq(e);if(b.params.slidesPerColumn>1){var d,h,f;"column"===b.params.slidesPerColumnFill?(h=Math.floor(e/l),f=e-h*l,(h>p||h===p&&f===l-1)&&++f>=l&&(f=0,h++),d=h+f*s/l,u.css({"-webkit-box-ordinal-group":d,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})):(f=Math.floor(e/c),h=e-f*c),u.css({"margin-top":0!==f&&b.params.spaceBetween&&b.params.spaceBetween+"px"}).attr("data-swiper-column",h).attr("data-swiper-row",f)}"none"!==u.css("display")&&("auto"===b.params.slidesPerView?(o=b.isHorizontal()?u.outerWidth(!0):u.outerHeight(!0),b.params.roundLengths&&(o=a(o))):(o=(b.size-(b.params.slidesPerView-1)*t)/b.params.slidesPerView,b.params.roundLengths&&(o=a(o)),b.isHorizontal()?b.slides[e].style.width=o+"px":b.slides[e].style.height=o+"px"),b.slides[e].swiperSlideSize=o,b.slidesSizesGrid.push(o),b.params.centeredSlides?(n=n+o/2+i/2+t,0===e&&(n=n-b.size/2-t),Math.abs(n)<.001&&(n=0),r%b.params.slidesPerGroup===0&&b.snapGrid.push(n),b.slidesGrid.push(n)):(r%b.params.slidesPerGroup===0&&b.snapGrid.push(n),b.slidesGrid.push(n),n=n+o+t),b.virtualSize+=o+t,i=o,r++)}b.virtualSize=Math.max(b.virtualSize,b.size)+b.params.slidesOffsetAfter;var m;if(b.rtl&&b.wrongRTL&&("slide"===b.params.effect||"coverflow"===b.params.effect)&&b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"
}),b.support.flexbox&&!b.params.setWrapperSize||(b.isHorizontal()?b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}):b.wrapper.css({height:b.virtualSize+b.params.spaceBetween+"px"})),b.params.slidesPerColumn>1&&(b.virtualSize=(o+b.params.spaceBetween)*s,b.virtualSize=Math.ceil(b.virtualSize/b.params.slidesPerColumn)-b.params.spaceBetween,b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),b.params.centeredSlides)){for(m=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<b.virtualSize+b.snapGrid[0]&&m.push(b.snapGrid[e]);b.snapGrid=m}if(!b.params.centeredSlides){for(m=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<=b.virtualSize-b.size&&m.push(b.snapGrid[e]);b.snapGrid=m,Math.floor(b.virtualSize-b.size)-Math.floor(b.snapGrid[b.snapGrid.length-1])>1&&b.snapGrid.push(b.virtualSize-b.size)}0===b.snapGrid.length&&(b.snapGrid=[0]),0!==b.params.spaceBetween&&(b.isHorizontal()?b.rtl?b.slides.css({marginLeft:t+"px"}):b.slides.css({marginRight:t+"px"}):b.slides.css({marginBottom:t+"px"})),b.params.watchSlidesProgress&&b.updateSlidesOffset()}},b.updateSlidesOffset=function(){for(var e=0;e<b.slides.length;e++)b.slides[e].swiperSlideOffset=b.isHorizontal()?b.slides[e].offsetLeft:b.slides[e].offsetTop},b.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=b.translate||0),0!==b.slides.length){"undefined"==typeof b.slides[0].swiperSlideOffset&&b.updateSlidesOffset();var t=-e;b.rtl&&(t=e),b.slides.removeClass(b.params.slideVisibleClass);for(var n=0;n<b.slides.length;n++){var i=b.slides[n],r=(t-i.swiperSlideOffset)/(i.swiperSlideSize+b.params.spaceBetween);if(b.params.watchSlidesVisibility){var a=-(t-i.swiperSlideOffset),s=a+b.slidesSizesGrid[n],o=a>=0&&a<b.size||s>0&&s<=b.size||a<=0&&s>=b.size;o&&b.slides.eq(n).addClass(b.params.slideVisibleClass)}i.progress=b.rtl?-r:r}}},b.updateProgress=function(e){"undefined"==typeof e&&(e=b.translate||0);var t=b.maxTranslate()-b.minTranslate(),n=b.isBeginning,i=b.isEnd;0===t?(b.progress=0,b.isBeginning=b.isEnd=!0):(b.progress=(e-b.minTranslate())/t,b.isBeginning=b.progress<=0,b.isEnd=b.progress>=1),b.isBeginning&&!n&&b.emit("onReachBeginning",b),b.isEnd&&!i&&b.emit("onReachEnd",b),b.params.watchSlidesProgress&&b.updateSlidesProgress(e),b.emit("onProgress",b,b.progress)},b.updateActiveIndex=function(){var e,t,n,i=b.rtl?b.translate:-b.translate;for(t=0;t<b.slidesGrid.length;t++)"undefined"!=typeof b.slidesGrid[t+1]?i>=b.slidesGrid[t]&&i<b.slidesGrid[t+1]-(b.slidesGrid[t+1]-b.slidesGrid[t])/2?e=t:i>=b.slidesGrid[t]&&i<b.slidesGrid[t+1]&&(e=t+1):i>=b.slidesGrid[t]&&(e=t);(e<0||"undefined"==typeof e)&&(e=0),n=Math.floor(e/b.params.slidesPerGroup),n>=b.snapGrid.length&&(n=b.snapGrid.length-1),e!==b.activeIndex&&(b.snapIndex=n,b.previousIndex=b.activeIndex,b.activeIndex=e,b.updateClasses())},b.updateClasses=function(){b.slides.removeClass(b.params.slideActiveClass+" "+b.params.slideNextClass+" "+b.params.slidePrevClass);var e=b.slides.eq(b.activeIndex);e.addClass(b.params.slideActiveClass);var n=e.next("."+b.params.slideClass).addClass(b.params.slideNextClass);b.params.loop&&0===n.length&&b.slides.eq(0).addClass(b.params.slideNextClass);var i=e.prev("."+b.params.slideClass).addClass(b.params.slidePrevClass);if(b.params.loop&&0===i.length&&b.slides.eq(-1).addClass(b.params.slidePrevClass),b.paginationContainer&&b.paginationContainer.length>0){var r,a=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length;if(b.params.loop?(r=Math.ceil((b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup),r>b.slides.length-1-2*b.loopedSlides&&(r-=b.slides.length-2*b.loopedSlides),r>a-1&&(r-=a),r<0&&"bullets"!==b.params.paginationType&&(r=a+r)):r="undefined"!=typeof b.snapIndex?b.snapIndex:b.activeIndex||0,"bullets"===b.params.paginationType&&b.bullets&&b.bullets.length>0&&(b.bullets.removeClass(b.params.bulletActiveClass),b.paginationContainer.length>1?b.bullets.each(function(){t(this).index()===r&&t(this).addClass(b.params.bulletActiveClass)}):b.bullets.eq(r).addClass(b.params.bulletActiveClass)),"fraction"===b.params.paginationType&&(b.paginationContainer.find("."+b.params.paginationCurrentClass).text(r+1),b.paginationContainer.find("."+b.params.paginationTotalClass).text(a)),"progress"===b.params.paginationType){var s=(r+1)/a,o=s,l=1;b.isHorizontal()||(l=s,o=1),b.paginationContainer.find("."+b.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+o+") scaleY("+l+")").transition(b.params.speed)}"custom"===b.params.paginationType&&b.params.paginationCustomRender&&(b.paginationContainer.html(b.params.paginationCustomRender(b,r+1,a)),b.emit("onPaginationRendered",b,b.paginationContainer[0]))}b.params.loop||(b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.isBeginning?(b.prevButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.prevButton)):(b.prevButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.prevButton))),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.isEnd?(b.nextButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.nextButton)):(b.nextButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.nextButton))))},b.updatePagination=function(){if(b.params.pagination&&b.paginationContainer&&b.paginationContainer.length>0){var e="";if("bullets"===b.params.paginationType){for(var t=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length,n=0;n<t;n++)e+=b.params.paginationBulletRender?b.params.paginationBulletRender(n,b.params.bulletClass):"<"+b.params.paginationElement+' class="'+b.params.bulletClass+'"></'+b.params.paginationElement+">";b.paginationContainer.html(e),b.bullets=b.paginationContainer.find("."+b.params.bulletClass),b.params.paginationClickable&&b.params.a11y&&b.a11y&&b.a11y.initPagination()}"fraction"===b.params.paginationType&&(e=b.params.paginationFractionRender?b.params.paginationFractionRender(b,b.params.paginationCurrentClass,b.params.paginationTotalClass):'<span class="'+b.params.paginationCurrentClass+'"></span> / <span class="'+b.params.paginationTotalClass+'"></span>',b.paginationContainer.html(e)),"progress"===b.params.paginationType&&(e=b.params.paginationProgressRender?b.params.paginationProgressRender(b,b.params.paginationProgressbarClass):'<span class="'+b.params.paginationProgressbarClass+'"></span>',b.paginationContainer.html(e)),"custom"!==b.params.paginationType&&b.emit("onPaginationRendered",b,b.paginationContainer[0])}},b.update=function(e){function t(){i=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate()),b.setWrapperTranslate(i),b.updateActiveIndex(),b.updateClasses()}if(b.updateContainerSize(),b.updateSlidesSize(),b.updateProgress(),b.updatePagination(),b.updateClasses(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),e){var n,i;b.controller&&b.controller.spline&&(b.controller.spline=void 0),b.params.freeMode?(t(),b.params.autoHeight&&b.updateAutoHeight()):(n=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0),n||t())}else b.params.autoHeight&&b.updateAutoHeight()},b.onResize=function(e){b.params.breakpoints&&b.setBreakpoint();var t=b.params.allowSwipeToPrev,n=b.params.allowSwipeToNext;b.params.allowSwipeToPrev=b.params.allowSwipeToNext=!0,b.updateContainerSize(),b.updateSlidesSize(),("auto"===b.params.slidesPerView||b.params.freeMode||e)&&b.updatePagination(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),b.controller&&b.controller.spline&&(b.controller.spline=void 0);var i=!1;if(b.params.freeMode){var r=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate());b.setWrapperTranslate(r),b.updateActiveIndex(),b.updateClasses(),b.params.autoHeight&&b.updateAutoHeight()}else b.updateClasses(),i=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0);b.params.lazyLoading&&!i&&b.lazy&&b.lazy.load(),b.params.allowSwipeToPrev=t,b.params.allowSwipeToNext=n};var T=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?T=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(T=["MSPointerDown","MSPointerMove","MSPointerUp"]),b.touchEvents={start:b.support.touch||!b.params.simulateTouch?"touchstart":T[0],move:b.support.touch||!b.params.simulateTouch?"touchmove":T[1],end:b.support.touch||!b.params.simulateTouch?"touchend":T[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===b.params.touchEventsTarget?b.container:b.wrapper).addClass("swiper-wp8-"+b.params.direction),b.initEvents=function(e){var t=e?"off":"on",n=e?"removeEventListener":"addEventListener",i="container"===b.params.touchEventsTarget?b.container[0]:b.wrapper[0],a=b.support.touch?i:document,s=!!b.params.nested;b.browser.ie?(i[n](b.touchEvents.start,b.onTouchStart,!1),a[n](b.touchEvents.move,b.onTouchMove,s),a[n](b.touchEvents.end,b.onTouchEnd,!1)):(b.support.touch&&(i[n](b.touchEvents.start,b.onTouchStart,!1),i[n](b.touchEvents.move,b.onTouchMove,s),i[n](b.touchEvents.end,b.onTouchEnd,!1)),!r.simulateTouch||b.device.ios||b.device.android||(i[n]("mousedown",b.onTouchStart,!1),document[n]("mousemove",b.onTouchMove,s),document[n]("mouseup",b.onTouchEnd,!1))),window[n]("resize",b.onResize),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.nextButton[t]("click",b.onClickNext),b.params.a11y&&b.a11y&&b.nextButton[t]("keydown",b.a11y.onEnterKey)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.prevButton[t]("click",b.onClickPrev),b.params.a11y&&b.a11y&&b.prevButton[t]("keydown",b.a11y.onEnterKey)),b.params.pagination&&b.params.paginationClickable&&(b.paginationContainer[t]("click","."+b.params.bulletClass,b.onClickIndex),b.params.a11y&&b.a11y&&b.paginationContainer[t]("keydown","."+b.params.bulletClass,b.a11y.onEnterKey)),(b.params.preventClicks||b.params.preventClicksPropagation)&&i[n]("click",b.preventClicks,!0)},b.attachEvents=function(){b.initEvents()},b.detachEvents=function(){b.initEvents(!0)},b.allowClick=!0,b.preventClicks=function(e){b.allowClick||(b.params.preventClicks&&e.preventDefault(),b.params.preventClicksPropagation&&b.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},b.onClickNext=function(e){e.preventDefault(),b.isEnd&&!b.params.loop||b.slideNext()},b.onClickPrev=function(e){e.preventDefault(),b.isBeginning&&!b.params.loop||b.slidePrev()},b.onClickIndex=function(e){e.preventDefault();var n=t(this).index()*b.params.slidesPerGroup;b.params.loop&&(n+=b.loopedSlides),b.slideTo(n)},b.updateClickedSlide=function(e){var n=o(e,"."+b.params.slideClass),i=!1;if(n)for(var r=0;r<b.slides.length;r++)b.slides[r]===n&&(i=!0);if(!n||!i)return b.clickedSlide=void 0,void(b.clickedIndex=void 0);if(b.clickedSlide=n,b.clickedIndex=t(n).index(),b.params.slideToClickedSlide&&void 0!==b.clickedIndex&&b.clickedIndex!==b.activeIndex){var a,s=b.clickedIndex;if(b.params.loop){if(b.animating)return;a=t(b.clickedSlide).attr("data-swiper-slide-index"),b.params.centeredSlides?s<b.loopedSlides-b.params.slidesPerView/2||s>b.slides.length-b.loopedSlides+b.params.slidesPerView/2?(b.fixLoop(),s=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+a+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){b.slideTo(s)},0)):b.slideTo(s):s>b.slides.length-b.params.slidesPerView?(b.fixLoop(),s=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+a+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){b.slideTo(s)},0)):b.slideTo(s)}else b.slideTo(s)}};var S,C,k,E,M,P,_,D,I,z,L="input, select, textarea, button",A=Date.now(),R=[];b.animating=!1,b.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var O,H;if(b.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),O="touchstart"===e.type,O||!("which"in e)||3!==e.which){if(b.params.noSwiping&&o(e,"."+b.params.noSwipingClass))return void(b.allowClick=!0);if(!b.params.swipeHandler||o(e,b.params.swipeHandler)){var n=b.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,i=b.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(b.device.ios&&b.params.iOSEdgeSwipeDetection&&n<=b.params.iOSEdgeSwipeThreshold)){if(S=!0,C=!1,k=!0,M=void 0,H=void 0,b.touches.startX=n,b.touches.startY=i,E=Date.now(),b.allowClick=!0,b.updateContainerSize(),b.swipeDirection=void 0,b.params.threshold>0&&(D=!1),"touchstart"!==e.type){var r=!0;t(e.target).is(L)&&(r=!1),document.activeElement&&t(document.activeElement).is(L)&&document.activeElement.blur(),r&&e.preventDefault()}b.emit("onTouchStart",b,e)}}}},b.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!O||"mousemove"!==e.type){if(e.preventedByNestedSwiper)return b.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(b.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(b.params.onlyExternal)return b.allowClick=!1,void(S&&(b.touches.startX=b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.startY=b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,E=Date.now()));if(O&&document.activeElement&&e.target===document.activeElement&&t(e.target).is(L))return C=!0,void(b.allowClick=!1);if(k&&b.emit("onTouchMove",b,e),!(e.targetTouches&&e.targetTouches.length>1)){if(b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof M){var n=180*Math.atan2(Math.abs(b.touches.currentY-b.touches.startY),Math.abs(b.touches.currentX-b.touches.startX))/Math.PI;M=b.isHorizontal()?n>b.params.touchAngle:90-n>b.params.touchAngle}if(M&&b.emit("onTouchMoveOpposite",b,e),"undefined"==typeof H&&b.browser.ieTouch&&(b.touches.currentX===b.touches.startX&&b.touches.currentY===b.touches.startY||(H=!0)),S){if(M)return void(S=!1);if(H||!b.browser.ieTouch){b.allowClick=!1,b.emit("onSliderMove",b,e),e.preventDefault(),b.params.touchMoveStopPropagation&&!b.params.nested&&e.stopPropagation(),C||(r.loop&&b.fixLoop(),_=b.getWrapperTranslate(),b.setWrapperTransition(0),b.animating&&b.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),b.params.autoplay&&b.autoplaying&&(b.params.autoplayDisableOnInteraction?b.stopAutoplay():b.pauseAutoplay()),z=!1,b.params.grabCursor&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grabbing",b.container[0].style.cursor="-moz-grabbin",b.container[0].style.cursor="grabbing")),C=!0;var i=b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY;i*=b.params.touchRatio,b.rtl&&(i=-i),b.swipeDirection=i>0?"prev":"next",P=i+_;var a=!0;if(i>0&&P>b.minTranslate()?(a=!1,b.params.resistance&&(P=b.minTranslate()-1+Math.pow(-b.minTranslate()+_+i,b.params.resistanceRatio))):i<0&&P<b.maxTranslate()&&(a=!1,b.params.resistance&&(P=b.maxTranslate()+1-Math.pow(b.maxTranslate()-_-i,b.params.resistanceRatio))),a&&(e.preventedByNestedSwiper=!0),!b.params.allowSwipeToNext&&"next"===b.swipeDirection&&P<_&&(P=_),!b.params.allowSwipeToPrev&&"prev"===b.swipeDirection&&P>_&&(P=_),b.params.followFinger){if(b.params.threshold>0){if(!(Math.abs(i)>b.params.threshold||D))return void(P=_);if(!D)return D=!0,b.touches.startX=b.touches.currentX,b.touches.startY=b.touches.currentY,P=_,void(b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY)}(b.params.freeMode||b.params.watchSlidesProgress)&&b.updateActiveIndex(),b.params.freeMode&&(0===R.length&&R.push({position:b.touches[b.isHorizontal()?"startX":"startY"],time:E}),R.push({position:b.touches[b.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),b.updateProgress(P),b.setWrapperTranslate(P)}}}}}},b.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),k&&b.emit("onTouchEnd",b,e),k=!1,S){b.params.grabCursor&&C&&S&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grab",b.container[0].style.cursor="-moz-grab",b.container[0].style.cursor="grab");var n=Date.now(),i=n-E;if(b.allowClick&&(b.updateClickedSlide(e),b.emit("onTap",b,e),i<300&&n-A>300&&(I&&clearTimeout(I),I=setTimeout(function(){b&&(b.params.paginationHide&&b.paginationContainer.length>0&&!t(e.target).hasClass(b.params.bulletClass)&&b.paginationContainer.toggleClass(b.params.paginationHiddenClass),b.emit("onClick",b,e))},300)),i<300&&n-A<300&&(I&&clearTimeout(I),b.emit("onDoubleTap",b,e))),A=Date.now(),setTimeout(function(){b&&(b.allowClick=!0)},0),!S||!C||!b.swipeDirection||0===b.touches.diff||P===_)return void(S=C=!1);S=C=!1;var r;if(r=b.params.followFinger?b.rtl?b.translate:-b.translate:-P,b.params.freeMode){if(r<-b.minTranslate())return void b.slideTo(b.activeIndex);if(r>-b.maxTranslate())return void(b.slides.length<b.snapGrid.length?b.slideTo(b.snapGrid.length-1):b.slideTo(b.slides.length-1));if(b.params.freeModeMomentum){if(R.length>1){var a=R.pop(),s=R.pop(),o=a.position-s.position,l=a.time-s.time;b.velocity=o/l,b.velocity=b.velocity/2,Math.abs(b.velocity)<b.params.freeModeMinimumVelocity&&(b.velocity=0),(l>150||(new window.Date).getTime()-a.time>300)&&(b.velocity=0)}else b.velocity=0;R.length=0;var c=1e3*b.params.freeModeMomentumRatio,p=b.velocity*c,u=b.translate+p;b.rtl&&(u=-u);var d,h=!1,f=20*Math.abs(b.velocity)*b.params.freeModeMomentumBounceRatio;if(u<b.maxTranslate())b.params.freeModeMomentumBounce?(u+b.maxTranslate()<-f&&(u=b.maxTranslate()-f),d=b.maxTranslate(),h=!0,z=!0):u=b.maxTranslate();else if(u>b.minTranslate())b.params.freeModeMomentumBounce?(u-b.minTranslate()>f&&(u=b.minTranslate()+f),d=b.minTranslate(),h=!0,z=!0):u=b.minTranslate();else if(b.params.freeModeSticky){var m,g=0;for(g=0;g<b.snapGrid.length;g+=1)if(b.snapGrid[g]>-u){m=g;break}u=Math.abs(b.snapGrid[m]-u)<Math.abs(b.snapGrid[m-1]-u)||"next"===b.swipeDirection?b.snapGrid[m]:b.snapGrid[m-1],b.rtl||(u=-u)}if(0!==b.velocity)c=b.rtl?Math.abs((-u-b.translate)/b.velocity):Math.abs((u-b.translate)/b.velocity);else if(b.params.freeModeSticky)return void b.slideReset();b.params.freeModeMomentumBounce&&h?(b.updateProgress(d),b.setWrapperTransition(c),b.setWrapperTranslate(u),b.onTransitionStart(),b.animating=!0,b.wrapper.transitionEnd(function(){b&&z&&(b.emit("onMomentumBounce",b),b.setWrapperTransition(b.params.speed),b.setWrapperTranslate(d),b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))})):b.velocity?(b.updateProgress(u),b.setWrapperTransition(c),b.setWrapperTranslate(u),b.onTransitionStart(),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))):b.updateProgress(u),b.updateActiveIndex()}return void((!b.params.freeModeMomentum||i>=b.params.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex()))}var v,y=0,w=b.slidesSizesGrid[0];for(v=0;v<b.slidesGrid.length;v+=b.params.slidesPerGroup)"undefined"!=typeof b.slidesGrid[v+b.params.slidesPerGroup]?r>=b.slidesGrid[v]&&r<b.slidesGrid[v+b.params.slidesPerGroup]&&(y=v,w=b.slidesGrid[v+b.params.slidesPerGroup]-b.slidesGrid[v]):r>=b.slidesGrid[v]&&(y=v,w=b.slidesGrid[b.slidesGrid.length-1]-b.slidesGrid[b.slidesGrid.length-2]);var x=(r-b.slidesGrid[y])/w;if(i>b.params.longSwipesMs){if(!b.params.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&(x>=b.params.longSwipesRatio?b.slideTo(y+b.params.slidesPerGroup):b.slideTo(y)),"prev"===b.swipeDirection&&(x>1-b.params.longSwipesRatio?b.slideTo(y+b.params.slidesPerGroup):b.slideTo(y))}else{if(!b.params.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(y+b.params.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(y)}}},b._slideTo=function(e,t){return b.slideTo(e,t,!0,!0)},b.slideTo=function(e,t,n,i){"undefined"==typeof n&&(n=!0),"undefined"==typeof e&&(e=0),e<0&&(e=0),b.snapIndex=Math.floor(e/b.params.slidesPerGroup),b.snapIndex>=b.snapGrid.length&&(b.snapIndex=b.snapGrid.length-1);var r=-b.snapGrid[b.snapIndex];b.params.autoplay&&b.autoplaying&&(i||!b.params.autoplayDisableOnInteraction?b.pauseAutoplay(t):b.stopAutoplay()),b.updateProgress(r);for(var a=0;a<b.slidesGrid.length;a++)-Math.floor(100*r)>=Math.floor(100*b.slidesGrid[a])&&(e=a);return!(!b.params.allowSwipeToNext&&r<b.translate&&r<b.minTranslate())&&(!(!b.params.allowSwipeToPrev&&r>b.translate&&r>b.maxTranslate()&&(b.activeIndex||0)!==e)&&("undefined"==typeof t&&(t=b.params.speed),b.previousIndex=b.activeIndex||0,b.activeIndex=e,b.rtl&&-r===b.translate||!b.rtl&&r===b.translate?(b.params.autoHeight&&b.updateAutoHeight(),b.updateClasses(),"slide"!==b.params.effect&&b.setWrapperTranslate(r),!1):(b.updateClasses(),b.onTransitionStart(n),0===t?(b.setWrapperTranslate(r),b.setWrapperTransition(0),b.onTransitionEnd(n)):(b.setWrapperTranslate(r),b.setWrapperTransition(t),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd(n)}))),!0)))},b.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),b.params.autoHeight&&b.updateAutoHeight(),b.lazy&&b.lazy.onTransitionStart(),e&&(b.emit("onTransitionStart",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeStart",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextStart",b):b.emit("onSlidePrevStart",b)))},b.onTransitionEnd=function(e){b.animating=!1,b.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),b.lazy&&b.lazy.onTransitionEnd(),e&&(b.emit("onTransitionEnd",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeEnd",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextEnd",b):b.emit("onSlidePrevEnd",b))),b.params.hashnav&&b.hashnav&&b.hashnav.setHash()},b.slideNext=function(e,t,n){if(b.params.loop){if(b.animating)return!1;b.fixLoop();b.container[0].clientLeft;return b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,n)}return b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,n)},b._slideNext=function(e){return b.slideNext(!0,e,!0)},b.slidePrev=function(e,t,n){if(b.params.loop){if(b.animating)return!1;b.fixLoop();b.container[0].clientLeft;return b.slideTo(b.activeIndex-1,t,e,n)}return b.slideTo(b.activeIndex-1,t,e,n)},b._slidePrev=function(e){return b.slidePrev(!0,e,!0)},b.slideReset=function(e,t,n){return b.slideTo(b.activeIndex,t,e)},b.setWrapperTransition=function(e,t){b.wrapper.transition(e),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTransition(e),b.params.parallax&&b.parallax&&b.parallax.setTransition(e),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTransition(e),b.params.control&&b.controller&&b.controller.setTransition(e,t),b.emit("onSetTransition",b,e)},b.setWrapperTranslate=function(e,t,n){var i=0,r=0,s=0;b.isHorizontal()?i=b.rtl?-e:e:r=e,b.params.roundLengths&&(i=a(i),r=a(r)),b.params.virtualTranslate||(b.support.transforms3d?b.wrapper.transform("translate3d("+i+"px, "+r+"px, "+s+"px)"):b.wrapper.transform("translate("+i+"px, "+r+"px)")),b.translate=b.isHorizontal()?i:r;var o,l=b.maxTranslate()-b.minTranslate();o=0===l?0:(e-b.minTranslate())/l,o!==b.progress&&b.updateProgress(e),t&&b.updateActiveIndex(),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTranslate(b.translate),b.params.parallax&&b.parallax&&b.parallax.setTranslate(b.translate),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTranslate(b.translate),b.params.control&&b.controller&&b.controller.setTranslate(b.translate,n),b.emit("onSetTranslate",b,b.translate)},b.getTranslate=function(e,t){var n,i,r,a;return"undefined"==typeof t&&(t="x"),b.params.virtualTranslate?b.rtl?-b.translate:b.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(i=r.transform||r.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),a=new window.WebKitCSSMatrix("none"===i?"":i)):(a=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(i=window.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),b.rtl&&i&&(i=-i),i||0)},b.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=b.isHorizontal()?"x":"y"),b.getTranslate(b.wrapper[0],e)},b.observers=[],b.initObservers=function(){if(b.params.observeParents)for(var e=b.container.parents(),t=0;t<e.length;t++)l(e[t]);l(b.container[0],{childList:!1}),l(b.wrapper[0],{attributes:!1})},b.disconnectObservers=function(){for(var e=0;e<b.observers.length;e++)b.observers[e].disconnect();b.observers=[]},b.createLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove();var e=b.wrapper.children("."+b.params.slideClass);"auto"!==b.params.slidesPerView||b.params.loopedSlides||(b.params.loopedSlides=e.length),b.loopedSlides=parseInt(b.params.loopedSlides||b.params.slidesPerView,10),b.loopedSlides=b.loopedSlides+b.params.loopAdditionalSlides,b.loopedSlides>e.length&&(b.loopedSlides=e.length);var n,i=[],r=[];for(e.each(function(n,a){var s=t(this);n<b.loopedSlides&&r.push(a),n<e.length&&n>=e.length-b.loopedSlides&&i.push(a),s.attr("data-swiper-slide-index",n)}),n=0;n<r.length;n++)b.wrapper.append(t(r[n].cloneNode(!0)).addClass(b.params.slideDuplicateClass));for(n=i.length-1;n>=0;n--)b.wrapper.prepend(t(i[n].cloneNode(!0)).addClass(b.params.slideDuplicateClass))},b.destroyLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove(),b.slides.removeAttr("data-swiper-slide-index")},b.reLoop=function(e){var t=b.activeIndex-b.loopedSlides;b.destroyLoop(),b.createLoop(),b.updateSlidesSize(),e&&b.slideTo(t+b.loopedSlides,0,!1)},b.fixLoop=function(){var e;b.activeIndex<b.loopedSlides?(e=b.slides.length-3*b.loopedSlides+b.activeIndex,e+=b.loopedSlides,b.slideTo(e,0,!1,!0)):("auto"===b.params.slidesPerView&&b.activeIndex>=2*b.loopedSlides||b.activeIndex>b.slides.length-2*b.params.slidesPerView)&&(e=-b.slides.length+b.activeIndex+b.loopedSlides,e+=b.loopedSlides,b.slideTo(e,0,!1,!0))},b.appendSlide=function(e){if(b.params.loop&&b.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&b.wrapper.append(e[t]);else b.wrapper.append(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0)},b.prependSlide=function(e){b.params.loop&&b.destroyLoop();var t=b.activeIndex+1;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)e[n]&&b.wrapper.prepend(e[n]);t=b.activeIndex+e.length}else b.wrapper.prepend(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.slideTo(t,0,!1)},b.removeSlide=function(e){b.params.loop&&(b.destroyLoop(),b.slides=b.wrapper.children("."+b.params.slideClass));var t,n=b.activeIndex;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)t=e[i],b.slides[t]&&b.slides.eq(t).remove(),t<n&&n--;n=Math.max(n,0)}else t=e,b.slides[t]&&b.slides.eq(t).remove(),t<n&&n--,n=Math.max(n,0);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.params.loop?b.slideTo(n+b.loopedSlides,0,!1):b.slideTo(n,0,!1)},b.removeAllSlides=function(){for(var e=[],t=0;t<b.slides.length;t++)e.push(t);b.removeSlide(e)},b.effects={fade:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var t=b.slides.eq(e),n=t[0].swiperSlideOffset,i=-n;b.params.virtualTranslate||(i-=b.translate);var r=0;b.isHorizontal()||(r=i,i=0);var a=b.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:a}).transform("translate3d("+i+"px, "+r+"px, 0px)")}},setTransition:function(e){if(b.slides.transition(e),b.params.virtualTranslate&&0!==e){var t=!1;b.slides.transitionEnd(function(){if(!t&&b){t=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<e.length;n++)b.wrapper.trigger(e[n])}})}}},flip:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var n=b.slides.eq(e),i=n[0].progress;b.params.flip.limitRotation&&(i=Math.max(Math.min(n[0].progress,1),-1));var r=n[0].swiperSlideOffset,a=-180*i,s=a,o=0,l=-r,c=0;if(b.isHorizontal()?b.rtl&&(s=-s):(c=l,l=0,o=-s,s=0),n[0].style.zIndex=-Math.abs(Math.round(i))+b.slides.length,b.params.flip.slideShadows){var p=b.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),u=b.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===p.length&&(p=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),n.append(p)),0===u.length&&(u=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),n.append(u)),p.length&&(p[0].style.opacity=Math.max(-i,0)),u.length&&(u[0].style.opacity=Math.max(i,0))}n.transform("translate3d("+l+"px, "+c+"px, 0px) rotateX("+o+"deg) rotateY("+s+"deg)")}},setTransition:function(e){if(b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.virtualTranslate&&0!==e){var n=!1;b.slides.eq(b.activeIndex).transitionEnd(function(){if(!n&&b&&t(this).hasClass(b.params.slideActiveClass)){n=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<e.length;i++)b.wrapper.trigger(e[i])}})}}},cube:{setTranslate:function(){var e,n=0;b.params.cube.shadow&&(b.isHorizontal()?(e=b.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),b.wrapper.append(e)),e.css({height:b.width+"px"})):(e=b.container.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),b.container.append(e))));for(var i=0;i<b.slides.length;i++){var r=b.slides.eq(i),a=90*i,s=Math.floor(a/360);b.rtl&&(a=-a,s=Math.floor(-a/360));var o=Math.max(Math.min(r[0].progress,1),-1),l=0,c=0,p=0;i%4===0?(l=4*-s*b.size,p=0):(i-1)%4===0?(l=0,p=4*-s*b.size):(i-2)%4===0?(l=b.size+4*s*b.size,p=b.size):(i-3)%4===0&&(l=-b.size,p=3*b.size+4*b.size*s),b.rtl&&(l=-l),b.isHorizontal()||(c=l,l=0);var u="rotateX("+(b.isHorizontal()?0:-a)+"deg) rotateY("+(b.isHorizontal()?a:0)+"deg) translate3d("+l+"px, "+c+"px, "+p+"px)";if(o<=1&&o>-1&&(n=90*i+90*o,b.rtl&&(n=90*-i-90*o)),r.transform(u),b.params.cube.slideShadows){var d=b.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),h=b.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===d.length&&(d=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),r.append(d)),0===h.length&&(h=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),r.append(h)),d.length&&(d[0].style.opacity=Math.max(-o,0)),h.length&&(h[0].style.opacity=Math.max(o,0))}}if(b.wrapper.css({"-webkit-transform-origin":"50% 50% -"+b.size/2+"px","-moz-transform-origin":"50% 50% -"+b.size/2+"px","-ms-transform-origin":"50% 50% -"+b.size/2+"px","transform-origin":"50% 50% -"+b.size/2+"px"}),b.params.cube.shadow)if(b.isHorizontal())e.transform("translate3d(0px, "+(b.width/2+b.params.cube.shadowOffset)+"px, "+-b.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+b.params.cube.shadowScale+")");else{var f=Math.abs(n)-90*Math.floor(Math.abs(n)/90),m=1.5-(Math.sin(2*f*Math.PI/360)/2+Math.cos(2*f*Math.PI/360)/2),g=b.params.cube.shadowScale,v=b.params.cube.shadowScale/m,y=b.params.cube.shadowOffset;e.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(b.height/2+y)+"px, "+-b.height/2/v+"px) rotateX(-90deg)")}var w=b.isSafari||b.isUiWebView?-b.size/2:0;b.wrapper.transform("translate3d(0px,0,"+w+"px) rotateX("+(b.isHorizontal()?0:n)+"deg) rotateY("+(b.isHorizontal()?-n:0)+"deg)")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),
b.params.cube.shadow&&!b.isHorizontal()&&b.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=b.translate,n=b.isHorizontal()?-e+b.width/2:-e+b.height/2,i=b.isHorizontal()?b.params.coverflow.rotate:-b.params.coverflow.rotate,r=b.params.coverflow.depth,a=0,s=b.slides.length;a<s;a++){var o=b.slides.eq(a),l=b.slidesSizesGrid[a],c=o[0].swiperSlideOffset,p=(n-c-l/2)/l*b.params.coverflow.modifier,u=b.isHorizontal()?i*p:0,d=b.isHorizontal()?0:i*p,h=-r*Math.abs(p),f=b.isHorizontal()?0:b.params.coverflow.stretch*p,m=b.isHorizontal()?b.params.coverflow.stretch*p:0;Math.abs(m)<.001&&(m=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(u)<.001&&(u=0),Math.abs(d)<.001&&(d=0);var g="translate3d("+m+"px,"+f+"px,"+h+"px)  rotateX("+d+"deg) rotateY("+u+"deg)";if(o.transform(g),o[0].style.zIndex=-Math.abs(Math.round(p))+1,b.params.coverflow.slideShadows){var v=b.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),y=b.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===v.length&&(v=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),o.append(v)),0===y.length&&(y=t('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),o.append(y)),v.length&&(v[0].style.opacity=p>0?p:0),y.length&&(y[0].style.opacity=-p>0?-p:0)}}if(b.browser.ie){var w=b.wrapper[0].style;w.perspectiveOrigin=n+"px 50%"}},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},b.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,n){if("undefined"!=typeof e&&("undefined"==typeof n&&(n=!0),0!==b.slides.length)){var i=b.slides.eq(e),r=i.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!i.hasClass("swiper-lazy")||i.hasClass("swiper-lazy-loaded")||i.hasClass("swiper-lazy-loading")||(r=r.add(i[0])),0!==r.length&&r.each(function(){var e=t(this);e.addClass("swiper-lazy-loading");var r=e.attr("data-background"),a=e.attr("data-src"),s=e.attr("data-srcset");b.loadImage(e[0],a||r,s,!1,function(){if(r?(e.css("background-image",'url("'+r+'")'),e.removeAttr("data-background")):(s&&(e.attr("srcset",s),e.removeAttr("data-srcset")),a&&(e.attr("src",a),e.removeAttr("data-src"))),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),i.find(".swiper-lazy-preloader, .preloader").remove(),b.params.loop&&n){var t=i.attr("data-swiper-slide-index");if(i.hasClass(b.params.slideDuplicateClass)){var o=b.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+b.params.slideDuplicateClass+")");b.lazy.loadImageInSlide(o.index(),!1)}else{var l=b.wrapper.children("."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');b.lazy.loadImageInSlide(l.index(),!1)}}b.emit("onLazyImageReady",b,i[0],e[0])}),b.emit("onLazyImageLoad",b,i[0],e[0])})}},load:function(){var e;if(b.params.watchSlidesVisibility)b.wrapper.children("."+b.params.slideVisibleClass).each(function(){b.lazy.loadImageInSlide(t(this).index())});else if(b.params.slidesPerView>1)for(e=b.activeIndex;e<b.activeIndex+b.params.slidesPerView;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);else b.lazy.loadImageInSlide(b.activeIndex);if(b.params.lazyLoadingInPrevNext)if(b.params.slidesPerView>1||b.params.lazyLoadingInPrevNextAmount&&b.params.lazyLoadingInPrevNextAmount>1){var n=b.params.lazyLoadingInPrevNextAmount,i=b.params.slidesPerView,r=Math.min(b.activeIndex+i+Math.max(n,i),b.slides.length),a=Math.max(b.activeIndex-Math.max(i,n),0);for(e=b.activeIndex+b.params.slidesPerView;e<r;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);for(e=a;e<b.activeIndex;e++)b.slides[e]&&b.lazy.loadImageInSlide(e)}else{var s=b.wrapper.children("."+b.params.slideNextClass);s.length>0&&b.lazy.loadImageInSlide(s.index());var o=b.wrapper.children("."+b.params.slidePrevClass);o.length>0&&b.lazy.loadImageInSlide(o.index())}},onTransitionStart:function(){b.params.lazyLoading&&(b.params.lazyLoadingOnTransitionStart||!b.params.lazyLoadingOnTransitionStart&&!b.lazy.initialImageLoaded)&&b.lazy.load()},onTransitionEnd:function(){b.params.lazyLoading&&!b.params.lazyLoadingOnTransitionStart&&b.lazy.load()}},b.scrollbar={isTouched:!1,setDragPosition:function(e){var t=b.scrollbar,n=b.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,i=n-t.track.offset()[b.isHorizontal()?"left":"top"]-t.dragSize/2,r=-b.minTranslate()*t.moveDivider,a=-b.maxTranslate()*t.moveDivider;i<r?i=r:i>a&&(i=a),i=-i/t.moveDivider,b.updateProgress(i),b.setWrapperTranslate(i,!0)},dragStart:function(e){var t=b.scrollbar;t.isTouched=!0,e.preventDefault(),e.stopPropagation(),t.setDragPosition(e),clearTimeout(t.dragTimeout),t.track.transition(0),b.params.scrollbarHide&&t.track.css("opacity",1),b.wrapper.transition(100),t.drag.transition(100),b.emit("onScrollbarDragStart",b)},dragMove:function(e){var t=b.scrollbar;t.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,t.setDragPosition(e),b.wrapper.transition(0),t.track.transition(0),t.drag.transition(0),b.emit("onScrollbarDragMove",b))},dragEnd:function(e){var t=b.scrollbar;t.isTouched&&(t.isTouched=!1,b.params.scrollbarHide&&(clearTimeout(t.dragTimeout),t.dragTimeout=setTimeout(function(){t.track.css("opacity",0),t.track.transition(400)},1e3)),b.emit("onScrollbarDragEnd",b),b.params.scrollbarSnapOnRelease&&b.slideReset())},enableDraggable:function(){var e=b.scrollbar,n=b.support.touch?e.track:document;t(e.track).on(b.touchEvents.start,e.dragStart),t(n).on(b.touchEvents.move,e.dragMove),t(n).on(b.touchEvents.end,e.dragEnd)},disableDraggable:function(){var e=b.scrollbar,n=b.support.touch?e.track:document;t(e.track).off(b.touchEvents.start,e.dragStart),t(n).off(b.touchEvents.move,e.dragMove),t(n).off(b.touchEvents.end,e.dragEnd)},set:function(){if(b.params.scrollbar){var e=b.scrollbar;e.track=t(b.params.scrollbar),b.params.uniqueNavElements&&"string"==typeof b.params.scrollbar&&e.track.length>1&&1===b.container.find(b.params.scrollbar).length&&(e.track=b.container.find(b.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=t('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=b.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=b.size/b.virtualSize,e.moveDivider=e.divider*(e.trackSize/b.size),e.dragSize=e.trackSize*e.divider,b.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",b.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(b.params.scrollbar){var e,t=b.scrollbar,n=(b.translate||0,t.dragSize);e=(t.trackSize-t.dragSize)*b.progress,b.rtl&&b.isHorizontal()?(e=-e,e>0?(n=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(n=t.trackSize+e)):e<0?(n=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(n=t.trackSize-e),b.isHorizontal()?(b.support.transforms3d?t.drag.transform("translate3d("+e+"px, 0, 0)"):t.drag.transform("translateX("+e+"px)"),t.drag[0].style.width=n+"px"):(b.support.transforms3d?t.drag.transform("translate3d(0px, "+e+"px, 0)"):t.drag.transform("translateY("+e+"px)"),t.drag[0].style.height=n+"px"),b.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){b.params.scrollbar&&b.scrollbar.drag.transition(e)}},b.controller={LinearSpline:function(e,t){this.x=e,this.y=t,this.lastIndex=e.length-1;var n,i;this.x.length;this.interpolate=function(e){return e?(i=r(this.x,e),n=i-1,(e-this.x[n])*(this.y[i]-this.y[n])/(this.x[i]-this.x[n])+this.y[n]):0};var r=function(){var e,t,n;return function(i,r){for(t=-1,e=i.length;e-t>1;)i[n=e+t>>1]<=r?t=n:e=n;return e}}()},getInterpolateFunction:function(e){b.controller.spline||(b.controller.spline=b.params.loop?new b.controller.LinearSpline(b.slidesGrid,e.slidesGrid):new b.controller.LinearSpline(b.snapGrid,e.snapGrid))},setTranslate:function(e,t){function i(t){e=t.rtl&&"horizontal"===t.params.direction?-b.translate:b.translate,"slide"===b.params.controlBy&&(b.controller.getInterpolateFunction(t),a=-b.controller.spline.interpolate(-e)),a&&"container"!==b.params.controlBy||(r=(t.maxTranslate()-t.minTranslate())/(b.maxTranslate()-b.minTranslate()),a=(e-b.minTranslate())*r+t.minTranslate()),b.params.controlInverse&&(a=t.maxTranslate()-a),t.updateProgress(a),t.setWrapperTranslate(a,!1,b),t.updateActiveIndex()}var r,a,s=b.params.control;if(b.isArray(s))for(var o=0;o<s.length;o++)s[o]!==t&&s[o]instanceof n&&i(s[o]);else s instanceof n&&t!==s&&i(s)},setTransition:function(e,t){function i(t){t.setWrapperTransition(e,b),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){a&&(t.params.loop&&"slide"===b.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var r,a=b.params.control;if(b.isArray(a))for(r=0;r<a.length;r++)a[r]!==t&&a[r]instanceof n&&i(a[r]);else a instanceof n&&t!==a&&i(a)}},b.hashnav={init:function(){if(b.params.hashnav){b.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,n=0,i=b.slides.length;n<i;n++){var r=b.slides.eq(n),a=r.attr("data-hash");if(a===e&&!r.hasClass(b.params.slideDuplicateClass)){var s=r.index();b.slideTo(s,t,b.params.runCallbacksOnInit,!0)}}}},setHash:function(){b.hashnav.initialized&&b.params.hashnav&&(document.location.hash=b.slides.eq(b.activeIndex).attr("data-hash")||"")}},b.disableKeyboardControl=function(){b.params.keyboardControl=!1,t(document).off("keydown",c)},b.enableKeyboardControl=function(){b.params.keyboardControl=!0,t(document).on("keydown",c)},b.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},b.params.mousewheelControl){try{new window.WheelEvent("wheel"),b.mousewheel.event="wheel"}catch(B){(window.WheelEvent||b.container[0]&&"wheel"in b.container[0])&&(b.mousewheel.event="wheel")}!b.mousewheel.event&&window.WheelEvent,b.mousewheel.event||void 0===document.onmousewheel||(b.mousewheel.event="mousewheel"),b.mousewheel.event||(b.mousewheel.event="DOMMouseScroll")}b.disableMousewheelControl=function(){return!!b.mousewheel.event&&(b.container.off(b.mousewheel.event,p),!0)},b.enableMousewheelControl=function(){return!!b.mousewheel.event&&(b.container.on(b.mousewheel.event,p),!0)},b.parallax={setTranslate:function(){b.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){u(this,b.progress)}),b.slides.each(function(){var e=t(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=Math.min(Math.max(e[0].progress,-1),1);u(this,t)})})},setTransition:function(e){"undefined"==typeof e&&(e=b.params.speed),b.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=t(this),i=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(i=0),n.transition(i)})}},b._plugins=[];for(var Y in b.plugins){var N=b.plugins[Y](b,b.params[Y]);N&&b._plugins.push(N)}return b.callPlugins=function(e){for(var t=0;t<b._plugins.length;t++)e in b._plugins[t]&&b._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.emitterEventListeners={},b.emit=function(e){b.params[e]&&b.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var t;if(b.emitterEventListeners[e])for(t=0;t<b.emitterEventListeners[e].length;t++)b.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);b.callPlugins&&b.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.on=function(e,t){return e=d(e),b.emitterEventListeners[e]||(b.emitterEventListeners[e]=[]),b.emitterEventListeners[e].push(t),b},b.off=function(e,t){var n;if(e=d(e),"undefined"==typeof t)return b.emitterEventListeners[e]=[],b;if(b.emitterEventListeners[e]&&0!==b.emitterEventListeners[e].length){for(n=0;n<b.emitterEventListeners[e].length;n++)b.emitterEventListeners[e][n]===t&&b.emitterEventListeners[e].splice(n,1);return b}},b.once=function(e,t){e=d(e);var n=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),b.off(e,n)};return b.on(e,n),b},b.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(t(e.target).is(b.params.nextButton)?(b.onClickNext(e),b.isEnd?b.a11y.notify(b.params.lastSlideMessage):b.a11y.notify(b.params.nextSlideMessage)):t(e.target).is(b.params.prevButton)&&(b.onClickPrev(e),b.isBeginning?b.a11y.notify(b.params.firstSlideMessage):b.a11y.notify(b.params.prevSlideMessage)),t(e.target).is("."+b.params.bulletClass)&&t(e.target)[0].click())},liveRegion:t('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=b.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.a11y.makeFocusable(b.nextButton),b.a11y.addRole(b.nextButton,"button"),b.a11y.addLabel(b.nextButton,b.params.nextSlideMessage)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.a11y.makeFocusable(b.prevButton),b.a11y.addRole(b.prevButton,"button"),b.a11y.addLabel(b.prevButton,b.params.prevSlideMessage)),t(b.container).append(b.a11y.liveRegion)},initPagination:function(){b.params.pagination&&b.params.paginationClickable&&b.bullets&&b.bullets.length&&b.bullets.each(function(){var e=t(this);b.a11y.makeFocusable(e),b.a11y.addRole(e,"button"),b.a11y.addLabel(e,b.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){b.a11y.liveRegion&&b.a11y.liveRegion.length>0&&b.a11y.liveRegion.remove()}},b.init=function(){b.params.loop&&b.createLoop(),b.updateContainerSize(),b.updateSlidesSize(),b.updatePagination(),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.set(),b.params.scrollbarDraggable&&b.scrollbar.enableDraggable()),"slide"!==b.params.effect&&b.effects[b.params.effect]&&(b.params.loop||b.updateProgress(),b.effects[b.params.effect].setTranslate()),b.params.loop?b.slideTo(b.params.initialSlide+b.loopedSlides,0,b.params.runCallbacksOnInit):(b.slideTo(b.params.initialSlide,0,b.params.runCallbacksOnInit),0===b.params.initialSlide&&(b.parallax&&b.params.parallax&&b.parallax.setTranslate(),b.lazy&&b.params.lazyLoading&&(b.lazy.load(),b.lazy.initialImageLoaded=!0))),b.attachEvents(),b.params.observer&&b.support.observer&&b.initObservers(),b.params.preloadImages&&!b.params.lazyLoading&&b.preloadImages(),b.params.autoplay&&b.startAutoplay(),b.params.keyboardControl&&b.enableKeyboardControl&&b.enableKeyboardControl(),b.params.mousewheelControl&&b.enableMousewheelControl&&b.enableMousewheelControl(),b.params.hashnav&&b.hashnav&&b.hashnav.init(),b.params.a11y&&b.a11y&&b.a11y.init(),b.emit("onInit",b)},b.cleanupStyles=function(){b.container.removeClass(b.classNames.join(" ")).removeAttr("style"),b.wrapper.removeAttr("style"),b.slides&&b.slides.length&&b.slides.removeClass([b.params.slideVisibleClass,b.params.slideActiveClass,b.params.slideNextClass,b.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),b.paginationContainer&&b.paginationContainer.length&&b.paginationContainer.removeClass(b.params.paginationHiddenClass),b.bullets&&b.bullets.length&&b.bullets.removeClass(b.params.bulletActiveClass),b.params.prevButton&&t(b.params.prevButton).removeClass(b.params.buttonDisabledClass),b.params.nextButton&&t(b.params.nextButton).removeClass(b.params.buttonDisabledClass),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.track&&b.scrollbar.track.length&&b.scrollbar.track.removeAttr("style"),b.scrollbar.drag&&b.scrollbar.drag.length&&b.scrollbar.drag.removeAttr("style"))},b.destroy=function(e,t){b.detachEvents(),b.stopAutoplay(),b.params.scrollbar&&b.scrollbar&&b.params.scrollbarDraggable&&b.scrollbar.disableDraggable(),b.params.loop&&b.destroyLoop(),t&&b.cleanupStyles(),b.disconnectObservers(),b.params.keyboardControl&&b.disableKeyboardControl&&b.disableKeyboardControl(),b.params.mousewheelControl&&b.disableMousewheelControl&&b.disableMousewheelControl(),b.params.a11y&&b.a11y&&b.a11y.destroy(),b.emit("onDestroy"),e!==!1&&(b=null)},b.init(),b}};n.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),i=e.match(/(iPod)(.*OS\s([\d_]+))?/),r=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||r||i,android:t}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<t.length;n++)if(t[n]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var i=(function(){var e=function(e){var t=this,n=0;for(n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,this},t=function(t,n){var i=[],r=0;if(t&&!n&&t instanceof e)return t;if(t)if("string"==typeof t){var a,s,o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),s=document.createElement(l),s.innerHTML=t,r=0;r<s.childNodes.length;r++)i.push(s.childNodes[r])}else for(a=n||"#"!==t[0]||t.match(/[ .<>:~]/)?(n||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],r=0;r<a.length;r++)a[r]&&i.push(a[r])}else if(t.nodeType||t===window||t===document)i.push(t);else if(t.length>0&&t[0].nodeType)for(r=0;r<t.length;r++)i.push(t[r]);return new e(i)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.add(t[n]);return this},removeClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.remove(t[n]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)for(var i=0;i<this.length;i++)this[i].classList.toggle(t[n]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if("undefined"!=typeof t){for(var n=0;n<this.length;n++){var i=this[n];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=t}return this}if(this[0]){var r=this[0].getAttribute("data-"+e);return r?r:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},on:function(e,n,i,r){function a(e){var r=e.target;if(t(r).is(n))i.call(r,e);else for(var a=t(r).parents(),s=0;s<a.length;s++)t(a[s]).is(n)&&i.call(a[s],e)}var s,o,l=e.split(" ");for(s=0;s<this.length;s++)if("function"==typeof n||n===!1)for("function"==typeof n&&(i=arguments[1],r=arguments[2]||!1),o=0;o<l.length;o++)this[s].addEventListener(l[o],i,r);else for(o=0;o<l.length;o++)this[s].dom7LiveListeners||(this[s].dom7LiveListeners=[]),this[s].dom7LiveListeners.push({listener:i,liveListener:a}),this[s].addEventListener(l[o],a,r);return this},off:function(e,t,n,i){for(var r=e.split(" "),a=0;a<r.length;a++)for(var s=0;s<this.length;s++)if("function"==typeof t||t===!1)"function"==typeof t&&(n=arguments[1],i=arguments[2]||!1),this[s].removeEventListener(r[a],n,i);else if(this[s].dom7LiveListeners)for(var o=0;o<this[s].dom7LiveListeners.length;o++)this[s].dom7LiveListeners[o].listener===n&&this[s].removeEventListener(r[a],this[s].dom7LiveListeners[o].liveListener,i);return this},once:function(e,t,n,i){function r(s){n(s),a.off(e,t,r,i)}var a=this;"function"==typeof t&&(t=!1,n=arguments[1],i=arguments[2]),a.on(e,t,r,i)},trigger:function(e,t){for(var n=0;n<this.length;n++){var i;try{i=new window.CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(r){i=document.createEvent("Event"),i.initEvent(e,!0,!0),i.detail=t}this[n].dispatchEvent(i)}return this},transitionEnd:function(e){function t(a){if(a.target===this)for(e.call(this,a),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),n=document.body,i=e.clientTop||n.clientTop||0,r=e.clientLeft||n.clientLeft||0,a=window.pageYOffset||e.scrollTop,s=window.pageXOffset||e.scrollLeft;return{top:t.top+a-i,left:t.left+s-r}}return null},css:function(e,t){var n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n++)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n++)this[n].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(n){if(!this[0])return!1;var i,r;if("string"==typeof n){var a=this[0];if(a===document)return n===document;if(a===window)return n===window;if(a.matches)return a.matches(n);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector)return a.mozMatchesSelector(n);if(a.msMatchesSelector)return a.msMatchesSelector(n);for(i=t(n),r=0;r<i.length;r++)if(i[r]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof e){for(i=n.nodeType?[n]:n,r=0;r<i.length;r++)if(i[r]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if("undefined"==typeof t)return this;var n,i=this.length;return t>i-1?new e([]):t<0?(n=i+t,new e(n<0?[]:[this[n]])):new e([this[t]])},append:function(t){var n,i;for(n=0;n<this.length;n++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t;r.firstChild;)this[n].appendChild(r.firstChild)}else if(t instanceof e)for(i=0;i<t.length;i++)this[n].appendChild(t[i]);else this[n].appendChild(t);return this},prepend:function(t){var n,i;for(n=0;n<this.length;n++)if("string"==typeof t){var r=document.createElement("div");for(r.innerHTML=t,i=r.childNodes.length-1;i>=0;i--)this[n].insertBefore(r.childNodes[i],this[n].childNodes[0])}else if(t instanceof e)for(i=0;i<t.length;i++)this[n].insertBefore(t[i],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},insertBefore:function(e){for(var n=t(e),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0]);else if(n.length>1)for(var r=0;r<n.length;r++)n[r].parentNode.insertBefore(this[i].cloneNode(!0),n[r])},insertAfter:function(e){for(var n=t(e),i=0;i<this.length;i++)if(1===n.length)n[0].parentNode.insertBefore(this[i],n[0].nextSibling);else if(n.length>1)for(var r=0;r<n.length;r++)n[r].parentNode.insertBefore(this[i].cloneNode(!0),n[r].nextSibling)},next:function(n){return new e(this.length>0?n?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var i=[],r=this[0];if(!r)return new e([]);for(;r.nextElementSibling;){var a=r.nextElementSibling;n?t(a).is(n)&&i.push(a):i.push(a),r=a}return new e(i)},prev:function(n){return new e(this.length>0?n?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var i=[],r=this[0];if(!r)return new e([]);for(;r.previousElementSibling;){var a=r.previousElementSibling;n?t(a).is(n)&&i.push(a):i.push(a),r=a}return new e(i)},parent:function(e){for(var n=[],i=0;i<this.length;i++)e?t(this[i].parentNode).is(e)&&n.push(this[i].parentNode):n.push(this[i].parentNode);return t(t.unique(n))},parents:function(e){for(var n=[],i=0;i<this.length;i++)for(var r=this[i].parentNode;r;)e?t(r).is(e)&&n.push(r):n.push(r),r=r.parentNode;return t(t.unique(n))},find:function(t){for(var n=[],i=0;i<this.length;i++)for(var r=this[i].querySelectorAll(t),a=0;a<r.length;a++)n.push(r[a]);return new e(n)},children:function(n){for(var i=[],r=0;r<this.length;r++)for(var a=this[r].childNodes,s=0;s<a.length;s++)n?1===a[s].nodeType&&t(a[s]).is(n)&&i.push(a[s]):1===a[s].nodeType&&i.push(a[s]);return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,n,i=this;for(e=0;e<arguments.length;e++){var r=t(arguments[e]);for(n=0;n<r.length;n++)i[i.length]=r[n],i.length++}return i}},t.fn=e.prototype,t.unique=function(e){for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t},t}()),r=["jQuery","Zepto","Dom7"],a=0;a<r.length;a++)window[r[a]]&&e(window[r[a]]);var s;s="undefined"==typeof i?window.Dom7||window.Zepto||window.jQuery:i,s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(e){function t(a){if(a.target===this)for(e.call(this,a),n=0;n<i.length;n++)r.off(i[n],t)}var n,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(n=0;n<i.length;n++)r.on(i[n],t);return this}),"transform"in s.fn||(s.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this}),"transition"in s.fn||(s.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this})),window.Swiper=n}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),!function(){function e(e){return e.replace(w,"").replace(b,",").replace(x,"").replace(T,"").replace(S,"").split(C)}function t(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,i){function r(e){return d+=e.split(/\n/).length-1,p&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=y[1]+t(e)+y[2]+"\n"),e}function a(t){var n=d;if(c?t=c(t,i):s&&(t=t.replace(/\n/g,function(){return d++,"$line="+d+";"})),0===t.indexOf("=")){var r=u&&!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),r){var a=t.replace(/\s*\([^\)]+\)/,"");h[a]||/^(include|print)$/.test(a)||(t="$escape("+t+")")}else t="$string("+t+")";t=y[1]+t+y[2]}return s&&(t="$line="+n+";"+t),v(e(t),function(e){if(e&&!m[e]){var t;t="print"===e?b:"include"===e?x:h[e]?"$utils."+e:f[e]?"$helpers."+e:"$data."+e,T+=e+"="+t+",",m[e]=!0}}),t+"\n"}var s=i.debug,o=i.openTag,l=i.closeTag,c=i.parser,p=i.compress,u=i.escape,d=1,m={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,y=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],w=g?"$out+=text;return $out;":"$out.push(text);",b="function(){var text=''.concat.apply('',arguments);"+w+"}",x="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+w+"}",T="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(s?"$line=0,":""),S=y[0],C="return new String("+y[3]+");";v(n.split(o),function(e){e=e.split(l);var t=e[0],n=e[1];1===e.length?S+=r(t):(S+=a(t),n&&(S+=r(n)))});var k=T+S+C;s&&(k="try{"+k+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+t(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var E=new Function("$data","$filename",k);return E.prototype=h,E}catch(M){throw M.temp="function anonymous($data,$filename) {"+k+"}",M}}var i=function(e,t){return"string"==typeof t?g(t,{filename:e}):s(e,t)};i.version="3.0.0",i.config=function(e,t){r[e]=t};var r=i.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},a=i.cache={};i.render=function(e,t){return g(e,t)};var s=i.renderFile=function(e,t){var n=i.get(e)||m({filename:e,name:"Render Error",message:"Template not found"});return t?n(t):n};i.get=function(e){var t;if(a[e])t=a[e];else if("object"==typeof document){var n=document.getElementById(e);if(n){var i=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");t=g(i,{filename:e})}}return t};var o=function(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?o(e.call(e)):""),e},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=function(e){return l[e]},p=function(e){return o(e).replace(/&(?![\w#]+;)|[<>"']/g,c)},u=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},d=function(e,t){var n,i;if(u(e))for(n=0,i=e.length;n<i;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)},h=i.utils={$helpers:{},$include:s,$string:o,$escape:p,$each:d};i.helper=function(e,t){f[e]=t};var f=i.helpers=h.$helpers;
i.onerror=function(e){var t="Template Error\n\n";for(var n in e)t+="<"+n+">\n"+e[n]+"\n\n";"object"==typeof console&&console.error(t)};var m=function(e){return i.onerror(e),function(){return"{Template Error}"}},g=i.compile=function(e,t){function i(n){try{return new l(n,o)+""}catch(i){return t.debug?m(i)():(t.debug=!0,g(e,t)(n))}}t=t||{};for(var s in r)void 0===t[s]&&(t[s]=r[s]);var o=t.filename;try{var l=n(e,t)}catch(c){return c.filename=o||"anonymous",c.name="Syntax Error",m(c)}return i.prototype=l.prototype,i.toString=function(){return l.toString()},o&&t.cache&&(a[o]=i),i},v=h.$each,y="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",w=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,b=/[^\w$]+/g,x=new RegExp(["\\b"+y.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),T=/^\d[^,]*|,\d[^,]*/g,S=/^,+|,+$/g,C=/^$|,+/;r.openTag="{{",r.closeTag="}}";var k=function(e,t){var n=t.split(":"),i=n.shift(),r=n.join(":")||"";return r&&(r=", "+r),"$helpers."+i+"("+e+r+")"};r.parser=function(e,t){e=e.replace(/^\s/,"");var n=e.split(" "),r=n.shift(),a=n.join(" ");switch(r){case"if":e="if("+a+"){";break;case"else":n="if"===n.shift()?" if("+n.join(" ")+")":"",e="}else"+n+"{";break;case"/if":e="}";break;case"each":var s=n[0]||"$data",o=n[1]||"as",l=n[2]||"$value",c=n[3]||"$index",p=l+","+c;"as"!==o&&(s="[]"),e="$each("+s+",function("+p+"){";break;case"/each":e="});";break;case"echo":e="print("+a+");";break;case"print":case"include":e=r+"("+n.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(a)){var u=!0;0===e.indexOf("#")&&(e=e.substr(1),u=!1);for(var d=0,h=e.split("|"),f=h.length,m=h[d++];d<f;d++)m=k(m,h[d]);e=(u?"=":"=#")+m}else e=i.helpers[r]?"=#"+r+"("+n.join(",")+");":"="+e}return e},"function"==typeof define?define(function(){return i}):"undefined"!=typeof exports?module.exports=i:this.template=i}(),function(e,t){var n,i={},r=function(e,t){var n,i,r;if("string"==typeof e)return o(e);for(n=[],i=e.length,r=0;r<i;r++)n.push(o(e[r]));return t.apply(null,n)},a=function(e,t,n){2===arguments.length&&(n=t,t=null),r(t||[],function(){s(e,n,arguments)})},s=function(e,t,n){var a,s={exports:t};"function"==typeof t&&(n.length||(n=[r,s.exports,s]),a=t.apply(null,n),void 0!==a&&(s.exports=a)),i[e]=s.exports},o=function(t){var n=i[t]||e[t];if(!n)throw new Error("`"+t+"` is undefined");return n},l=function(e){var t,n,r,a,s,o;o=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)};for(t in i)if(n=e,i.hasOwnProperty(t)){for(r=t.split("/"),s=o(r.pop());a=o(r.shift());)n[a]=n[a]||{},n=n[a];n[s]=i[t]}return e},c=function(n){return e.__dollar=n,l(t(e,a,r))};"object"==typeof module&&"object"==typeof module.exports?module.exports=c():"function"==typeof define&&define.amd?define(["jquery"],c):(n=e.WebUploader,e.WebUploader=c(),e.WebUploader.noConflict=function(){e.WebUploader=n})}(window,function(e,t,n){return t("dollar-third",[],function(){var t=e.__dollar||e.jQuery||e.Zepto;if(!t)throw new Error("jQuery or Zepto not found!");return t}),t("dollar",["dollar-third"],function(e){return e}),t("promise-builtin",["dollar"],function(e){function t(t){var n,i,r,a,s,o,l=[],c=!t&&[],p=function(e){for(o=e,n=!0,s=r||0,r=0,a=l.length,i=!0;l&&s<a;s++)l[s].apply(e[0],e[1]);i=!1,l&&(c?c.length&&p(c.shift()):l=[])},u={add:function(){if(l){var t=l.length;!function n(t){e.each(t,function(t,i){var r=e.type(i);"function"===r?l.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),i?a=l.length:o&&(r=t,p(o))}return this},disable:function(){return l=c=o=void 0,this},lock:function(){return c=void 0,o||u.disable(),this},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):p(t)),this},fire:function(){return u.fireWith(this,arguments),this}};return u}function n(i){var r=[["resolve","done",t(!0),"resolved"],["reject","fail",t(!0),"rejected"],["notify","progress",t()]],a="pending",s={state:function(){return a},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return n(function(n){e.each(r,function(i,r){var a=r[0],l=e.isFunction(t[i])&&t[i];o[r[1]](function(){var t;t=l&&l.apply(this,arguments),t&&e.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===s?n.promise():this,l?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?e.extend(t,s):s}},o={};return s.pipe=s.then,e.each(r,function(e,t){var n=t[2],i=t[3];s[t[1]]=n.add,i&&n.add(function(){a=i},r[1^e][2].disable,r[2][2].lock),o[t[0]]=function(){return o[t[0]+"With"](this===o?s:this,arguments),this},o[t[0]+"With"]=n.fireWith}),s.promise(o),i&&i.call(o,o),o}var i;return i={Deferred:n,isPromise:function(e){return e&&"function"==typeof e.then},when:function(t){var i,r,a,s=0,o=[].slice,l=o.call(arguments),c=l.length,p=1!==c||t&&e.isFunction(t.promise)?c:0,u=1===p?t:n(),d=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?o.call(arguments):r,n===i?u.notifyWith(t,n):--p||u.resolveWith(t,n)}};if(c>1)for(i=new Array(c),r=new Array(c),a=new Array(c);s<c;s++)l[s]&&e.isFunction(l[s].promise)?l[s].promise().done(d(s,a,l)).fail(u.reject).progress(d(s,r,i)):--p;return p||u.resolveWith(a,l),u.promise()}}}),t("promise",["promise-builtin"],function(e){return e}),t("base",["dollar","promise"],function(t,n){function i(e){return function(){return o.apply(e,arguments)}}function r(e,t){return function(){return e.apply(t,arguments)}}function a(e){var t;return Object.create?Object.create(e):(t=function(){},t.prototype=e,new t)}var s=function(){},o=Function.call;return{version:"0.1.5",$:t,Deferred:n.Deferred,isPromise:n.isPromise,when:n.when,browser:function(e){var t={},n=e.match(/WebKit\/([\d.]+)/),i=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),r=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),a=e.match(/Firefox\/([\d.]+)/),s=e.match(/Safari\/([\d.]+)/),o=e.match(/OPR\/([\d.]+)/);return n&&(t.webkit=parseFloat(n[1])),i&&(t.chrome=parseFloat(i[1])),r&&(t.ie=parseFloat(r[1])),a&&(t.firefox=parseFloat(a[1])),s&&(t.safari=parseFloat(s[1])),o&&(t.opera=parseFloat(o[1])),t}(navigator.userAgent),os:function(e){var t={},n=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),i=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(t.android=parseFloat(n[1])),i&&(t.ios=parseFloat(i[1].replace(/_/g,"."))),t}(navigator.userAgent),inherits:function(e,n,i){var r;return"function"==typeof n?(r=n,n=null):r=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return e.apply(this,arguments)},t.extend(!0,r,e,i||{}),r.__super__=e.prototype,r.prototype=a(e.prototype),n&&t.extend(!0,r.prototype,n),r},noop:s,bindFn:r,log:function(){return e.console?r(console.log,console):s}(),nextTick:function(){return function(e){setTimeout(e,1)}}(),slice:i([].slice),guid:function(){var e=0;return function(t){for(var n=(+new Date).toString(32),i=0;i<5;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"wu_")+n+(e++).toString(32)}}(),formatSize:function(e,t,n){var i;for(n=n||["B","K","M","G","TB"];(i=n.shift())&&e>1024;)e/=1024;return("B"===i?e:e.toFixed(t||2))+i}}}),t("mediator",["base"],function(e){function t(e,t,n,i){return a.grep(e,function(e){return e&&(!t||e.e===t)&&(!n||e.cb===n||e.cb._cb===n)&&(!i||e.ctx===i)})}function n(e,t,n){a.each((e||"").split(o),function(e,i){n(i,t)})}function i(e,t){for(var n,i=!1,r=-1,a=e.length;++r<a;)if(n=e[r],n.cb.apply(n.ctx2,t)===!1){i=!0;break}return!i}var r,a=e.$,s=[].slice,o=/\s+/;return r={on:function(e,t,i){var r,a=this;return t?(r=this._events||(this._events=[]),n(e,t,function(e,t){var n={e:e};n.cb=t,n.ctx=i,n.ctx2=i||a,n.id=r.length,r.push(n)}),this):this},once:function(e,t,i){var r=this;return t?(n(e,t,function(e,t){var n=function(){return r.off(e,n),t.apply(i||r,arguments)};n._cb=t,r.on(e,n,i)}),r):r},off:function(e,i,r){var s=this._events;return s?e||i||r?(n(e,i,function(e,n){a.each(t(s,e,n,r),function(){delete s[this.id]})}),this):(this._events=[],this):this},trigger:function(e){var n,r,a;return this._events&&e?(n=s.call(arguments,1),r=t(this._events,e),a=t(this._events,"all"),i(r,n)&&i(a,arguments)):this}},a.extend({installTo:function(e){return a.extend(e,r)}},r)}),t("uploader",["base","mediator"],function(e,t){function n(e){this.options=i.extend(!0,{},n.options,e),this._init(this.options)}var i=e.$;return n.options={},t.installTo(n.prototype),i.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){n.prototype[e]=function(){return this.request(t,arguments)}}),i.extend(n.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var n=this.options;return arguments.length>1?void(i.isPlainObject(t)&&i.isPlainObject(n[e])?i.extend(n[e],t):n[e]=t):e?n[e]:n},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var n=[].slice.call(arguments,1),r=this.options,a="on"+e.substring(0,1).toUpperCase()+e.substring(1);return!(t.trigger.apply(this,arguments)===!1||i.isFunction(r[a])&&r[a].apply(this,n)===!1||i.isFunction(this[a])&&this[a].apply(this,n)===!1||t.trigger.apply(t,[this,e].concat(n))===!1)},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=n.create=function(e){return new n(e)},e.Uploader=n,n}),t("runtime/runtime",["base","mediator"],function(e,t){function n(t){this.options=i.extend({container:document.body},t),this.uid=e.guid("rt_")}var i=e.$,r={},a=function(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null};return i.extend(n.prototype,{getContainer:function(){var e,t,n=this.options;return this._container?this._container:(e=i(n.container||document.body),t=i(document.createElement("div")),t.attr("id","rt_"+this.uid),t.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.append(t),e.addClass("webuploader-container"),this._container=t,this._parent=e,t)},init:e.noop,exec:e.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),n.orders="html5,flash",n.addRuntime=function(e,t){r[e]=t},n.hasRuntime=function(e){return!!(e?r[e]:a(r))},n.create=function(e,t){var s,o;if(t=t||n.orders,i.each(t.split(/\s*,\s*/g),function(){if(r[this])return s=this,!1}),s=s||a(r),!s)throw new Error("Runtime Error");return o=new r[s](e)},t.installTo(n.prototype),n}),t("runtime/client",["base","mediator","runtime/runtime"],function(e,t,n){function i(t,i){var a,s=e.Deferred();this.uid=e.guid("client_"),this.runtimeReady=function(e){return s.done(e)},this.connectRuntime=function(t,o){if(a)throw new Error("already connected!");return s.done(o),"string"==typeof t&&r.get(t)&&(a=r.get(t)),a=a||r.get(null,i),a?(e.$.extend(a.options,t),a.__promise.then(s.resolve),a.__client++):(a=n.create(t,t.runtimeOrder),a.__promise=s.promise(),a.once("ready",s.resolve),a.init(),r.add(a),a.__client=1),i&&(a.__standalone=i),a},this.getRuntime=function(){return a},this.disconnectRuntime=function(){a&&(a.__client--,a.__client<=0&&(r.remove(a),delete a.__promise,a.destroy()),a=null)},this.exec=function(){if(a){var n=e.slice(arguments);return t&&n.unshift(t),a.exec.apply(this,n)}},this.getRuid=function(){return a&&a.uid},this.destroy=function(e){return function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var r;return r=function(){var e={};return{add:function(t){e[t.uid]=t},get:function(t,n){var i;if(t)return e[t];for(i in e)if(!n||!e[i].__standalone)return e[i];return null},remove:function(t){delete e[t.uid]}}}(),t.installTo(i.prototype),i}),t("lib/blob",["base","runtime/client"],function(e,t){function n(e,n){var i=this;i.source=n,i.ruid=e,this.size=n.size||0,!n.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=n.type||"application/octet-stream",t.call(i,"Blob"),this.uid=n.uid||this.uid,e&&i.connectRuntime(e)}return e.inherits(t,{constructor:n,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),n}),t("lib/file",["base","lib/blob"],function(e,t){function n(e,n){var a;this.name=n.name||"untitled"+i++,a=r.exec(n.name)?RegExp.$1.toLowerCase():"",!a&&n.type&&(a=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(n.type)?RegExp.$1.toLowerCase():"",this.name+="."+a),this.ext=a,this.lastModifiedDate=n.lastModifiedDate||(new Date).toLocaleString(),t.apply(this,arguments)}var i=1,r=/\.([^.]+)$/;return e.inherits(t,n)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(t,n,i){function r(e){if(e=this.options=a.extend({},r.options,e),e.container=a(e.id),!e.container.length)throw new Error("按钮指定错误");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=a(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),n.call(this,"FilePicker",!0)}var a=t.$;return r.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},t.inherits(n,{constructor:r,init:function(){var n=this,r=n.options,s=r.button;s.addClass("webuploader-pick"),n.on("all",function(e){var t;switch(e){case"mouseenter":s.addClass("webuploader-pick-hover");break;case"mouseleave":s.removeClass("webuploader-pick-hover");break;case"change":t=n.exec("getFiles"),n.trigger("select",a.map(t,function(e){return e=new i(n.getRuid(),e),e._refer=r.container,e}),r.container)}}),n.connectRuntime(r,function(){n.refresh(),n.exec("init",r),n.trigger("ready")}),this._resizeHandler=t.bindFn(this.refresh,this),a(e).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),i=t.outerHeight?t.outerHeight():t.height(),r=t.offset();n&&i&&e.css({bottom:"auto",right:"auto",width:n+"px",height:i+"px"}).offset(r)},enable:function(){var e=this.options.button;e.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var t=this.options.button;a(e).off("resize",this._resizeHandler),t.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),r}),t("widgets/widget",["base","uploader"],function(e,t){function n(e){if(!e)return!1;var t=e.length,n=r.type(e);return!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&"string"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e){this.owner=e,this.options=e.options}var r=e.$,a=t.prototype._init,s=t.prototype.destroy,o={},l=[];return r.extend(i.prototype,{init:e.noop,invoke:function(e,t){var n=this.responseMap;return n&&e in n&&n[e]in this&&r.isFunction(this[n[e]])?this[n[e]].apply(this,t):o},request:function(){return this.owner.request.apply(this.owner,arguments)}}),r.extend(t.prototype,{_init:function(){var e=this,t=e._widgets=[],n=e.options.disableWidgets||"";return r.each(l,function(i,r){(!n||!~n.indexOf(r._name))&&t.push(new r(e))}),a.apply(e,arguments)},request:function(t,i,r){var a,s,l,c,p=0,u=this._widgets,d=u&&u.length,h=[],f=[];for(i=n(i)?i:[i];p<d;p++)a=u[p],s=a.invoke(t,i),s!==o&&(e.isPromise(s)?f.push(s):h.push(s));return r||f.length?(l=e.when.apply(e,f),c=l.pipe?"pipe":"then",l[c](function(){var t=e.Deferred(),n=arguments;return 1===n.length&&(n=n[0]),setTimeout(function(){t.resolve(n)},1),t.promise()})[r?c:"done"](r||e.noop)):h[0]},destroy:function(){s.apply(this,arguments),this._widgets=null}}),t.register=i.register=function(t,n){var a,s={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(n=t,r.each(n,function(e){return"_"===e[0]||"name"===e?void("name"===e&&(s.name=n.name)):void(s[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e)})):s=r.extend(s,t),n.responseMap=s,a=e.inherits(i,n),a._name=s.name,l.push(a),a},t.unRegister=i.unRegister=function(e){if(e&&"anonymous"!==e)for(var t=l.length;t--;)l[t]._name===e&&l.splice(t,1)},i}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(e,t,n){var i=e.$;return i.extend(t.options,{pick:null,accept:null}),t.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){i.each(this.pickers,function(){this.refresh()})},addBtn:function(t){var r=this,a=r.options,s=a.accept,o=[];if(t)return i.isPlainObject(t)||(t={id:t}),i(t.id).each(function(){var l,c,p;p=e.Deferred(),l=i.extend({},t,{accept:i.isPlainObject(s)?[s]:s,swf:a.swf,runtimeOrder:a.runtimeOrder,id:this}),c=new n(l),c.once("ready",p.resolve),c.on("select",function(e){r.owner.request("add-file",[e])}),c.init(),r.pickers.push(c),o.push(p.promise())}),e.when.apply(e,o)},disable:function(){i.each(this.pickers,function(){this.disable()})},enable:function(){i.each(this.pickers,function(){this.enable()})},destroy:function(){i.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(e,t,n){function i(e){this.options=r.extend({},i.options,e),t.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var r=e.$;return i.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},e.inherits(t,{constructor:i,info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},loadFromBlob:function(e){var t=this,n=e.getRuid();this.connectRuntime(n,function(){t.exec("init",t.options),t.exec("loadFromBlob",e)})},resize:function(){var t=e.slice(arguments);return this.exec.apply(this,["resize"].concat(t))},crop:function(){var t=e.slice(arguments);return this.exec.apply(this,["crop"].concat(t))},getAsDataUrl:function(e){return this.exec("getAsDataUrl",e)},getAsBlob:function(e){var t=this.exec("getAsBlob",e);return new n(this.getRuid(),t)}}),i}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(e,t,n){var i,r=e.$;return i=function(e){var t=0,n=[],i=function(){for(var i;n.length&&t<e;)i=n.shift(),t+=i[0],i[1]()};return function(e,r,a){n.push([r,a]),e.once("destroy",function(){t-=r,setTimeout(i,1)}),setTimeout(i,1)}}(5242880),r.extend(t.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),t.register({name:"image",makeThumb:function(e,t,a,s){var o,l;return e=this.request("get-file",e),e.type.match(/^image/)?(o=r.extend({},this.options.thumb),r.isPlainObject(a)&&(o=r.extend(o,a),a=null),a=a||o.width,s=s||o.height,l=new n(o),l.once("load",function(){e._info=e._info||l.info(),e._meta=e._meta||l.meta(),a<=1&&a>0&&(a=e._info.width*a),s<=1&&s>0&&(s=e._info.height*s),l.resize(a,s)}),l.once("complete",function(){t(!1,l.getAsDataUrl(o.type)),l.destroy()}),l.once("error",function(e){t(e||!0),l.destroy()}),void i(l,e.source.size,function(){e._info&&l.info(e._info),e._meta&&l.meta(e._meta),l.loadFromBlob(e.source)})):void t(!0)},beforeSendFile:function(t){var i,a,s=this.options.compress||this.options.resize,o=s&&s.compressSize||0,l=s&&s.noCompressIfLarger||!1;if(t=this.request("get-file",t),s&&~"image/jpeg,image/jpg".indexOf(t.type)&&!(t.size<o)&&!t._compressed)return s=r.extend({},s),a=e.Deferred(),i=new n(s),a.always(function(){i.destroy(),i=null}),i.once("error",a.reject),i.once("load",function(){var e=s.width,n=s.height;t._info=t._info||i.info(),t._meta=t._meta||i.meta(),e<=1&&e>0&&(e=t._info.width*e),n<=1&&n>0&&(n=t._info.height*n),i.resize(e,n)}),i.once("complete",function(){var e,n;try{e=i.getAsBlob(s.type),n=t.size,(!l||e.size<n)&&(t.source=e,t.size=e.size,t.trigger("resize",e.size,n)),t._compressed=!0,a.resolve()}catch(r){a.resolve()}}),t._info&&i.info(t._info),t._meta&&i.meta(t._meta),i.loadFromBlob(t.source),a.promise()}})}),t("file",["base","mediator"],function(e,t){function n(){return a+s++}function i(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||1*new Date,this.id=n(),this.ext=o.exec(this.name)?RegExp.$1:"",this.statusText="",l[this.id]=i.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(i.Status.ERROR,e)})}var r=e.$,a="WU_FILE_",s=0,o=/\.([^.]+)$/,l={};return r.extend(i.prototype,{setStatus:function(e,t){var n=l[this.id];"undefined"!=typeof t&&(this.statusText=t),e!==n&&(l[this.id]=e,this.trigger("statuschange",e,n))},getStatus:function(){return l[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete l[this.id]}}),t.installTo(i.prototype),i.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},i}),t("queue",["base","mediator","file"],function(e,t,n){function i(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var r=e.$,a=n.Status;return r.extend(i.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,i=this._queue.length;for(e=e||a.QUEUED,t=0;t<i;t++)if(n=this._queue[t],e===n.getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],i=0,a=this._queue.length;i<a;i++)e=this._queue[i],t.length&&!~r.inArray(e.getStatus(),t)||n.push(e);return n},removeFile:function(e){var t=this._map[e.id];t&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var t=this,n=this._map[e.id];n||(this._map[e.id]=e,e.on("statuschange",function(e,n){t._onFileStatusChange(e,n)}))},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case a.PROGRESS:n.numOfProgress--;break;case a.QUEUED:n.numOfQueue--;break;case a.ERROR:n.numOfUploadFailed--;break;case a.INVALID:n.numOfInvalid--;break;case a.INTERRUPT:n.numofInterrupt--}switch(e){case a.QUEUED:n.numOfQueue++;break;case a.PROGRESS:n.numOfProgress++;break;case a.ERROR:n.numOfUploadFailed++;break;case a.COMPLETE:n.numOfSuccess++;break;case a.CANCELLED:n.numOfCancel++;break;case a.INVALID:n.numOfInvalid++;break;case a.INTERRUPT:n.numofInterrupt++}}}),t.installTo(i.prototype),i}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(e,t,n,i,r,a){var s=e.$,o=/\.\w+$/,l=i.Status;return t.register({name:"queue",init:function(t){var i,r,o,l,c,p,u,d=this;if(s.isPlainObject(t.accept)&&(t.accept=[t.accept]),t.accept){for(c=[],o=0,r=t.accept.length;o<r;o++)l=t.accept[o].extensions,l&&c.push(l);c.length&&(p="\\."+c.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),d.accept=new RegExp(p,"i")}if(d.queue=new n,d.stats=d.queue.stats,"html5"===this.request("predict-runtime-type"))return i=e.Deferred(),this.placeholder=u=new a("Placeholder"),u.connectRuntime({runtimeOrder:"html5"},function(){d._ruid=u.getRuid(),i.resolve()}),i.promise()},_wrapFile:function(e){if(!(e instanceof i)){if(!(e instanceof r)){if(!this._ruid)throw new Error("Can't add external files.");e=new r(this._ruid,e)}e=new i(e)}return e},acceptFile:function(e){var t=!e||!e.size||this.accept&&o.exec(e.name)&&!this.accept.test(e.name);return!t},_addFile:function(e){var t=this;if(e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e))return t.acceptFile(e)?(t.queue.append(e),t.owner.trigger("fileQueued",e),e):void t.owner.trigger("error","Q_TYPE_DENIED",e)},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),e=s.map(e,function(e){return t._addFile(e)}),t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(e,t){var n=this;e=e.id?e:n.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,i,r,a=this;if(e)return e=e.id?e:a.queue.getFile(e),e.setStatus(l.QUEUED),void(t||a.request("start-upload"));for(n=a.queue.getFiles(l.ERROR),i=0,r=n.length;i<r;i++)e=n[i],e.setStatus(l.QUEUED);a.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new n,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,t){return e.support=function(){return t.hasRuntime.apply(t,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,n,i=this.options.runtimeOrder||t.orders,r=this.type;if(!r)for(i=i.split(/\s*,\s*/g),e=0,n=i.length;e<n;e++)if(t.hasRuntime(i[e])){this.type=r=i[e];break}return r}})}),t("lib/transport",["base","runtime/client","mediator"],function(e,t,n){function i(e){var n=this;e=n.options=r.extend(!0,{},i.options,e||{}),t.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){n.trigger("progress",1),clearTimeout(n._timer)})}var r=e.$;return i.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},r.extend(i.prototype,{appendBlob:function(e,t,n){var i=this,r=i.options;i.getRuid()&&i.disconnectRuntime(),i.connectRuntime(t.ruid,function(){i.exec("init")}),i._blob=t,r.fileVal=e||r.fileVal,r.filename=n||r.filename},append:function(e,t){"object"==typeof e?r.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"==typeof e?r.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),n.installTo(i.prototype),i}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(e,t,n,i){function r(e,t){var n,i,r=[],a=e.source,s=a.size,o=t?Math.ceil(s/t):1,l=0,c=0;for(i={file:e,has:function(){return!!r.length},shift:function(){return r.shift()},unshift:function(e){r.unshift(e)}};c<o;)n=Math.min(t,s-l),r.push({file:e,start:l,end:t?l+n:s,total:s,chunks:o,chunk:c++,cuted:i}),l+=n;return e.blocks=r.concat(),e.remaning=r.length,i}var a=e.$,s=e.isPromise,o=n.Status;a.extend(t.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),t.register({name:"upload",init:function(){var t=this.owner,n=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){n.progress=!0}).on("uploadFinished",function(){n.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=e.bindFn(this._tick,this),t.on("uploadComplete",function(e){e.blocks&&a.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(t){var n=this;if(a.each(n.request("get-files",o.INVALID),function(){n.request("remove-file",this)}),t)if(t=t.id?t:n.request("get-file",t),t.getStatus()===o.INTERRUPT)a.each(n.pool,function(e,n){n.file===t&&n.transport&&n.transport.send()}),t.setStatus(o.QUEUED);else{if(t.getStatus()===o.PROGRESS)return;t.setStatus(o.QUEUED)}else a.each(n.request("get-files",[o.INITED]),function(){this.setStatus(o.QUEUED)});if(!n.runing){n.runing=!0;var i=[];a.each(n.pool,function(e,t){var r=t.file;r.getStatus()===o.INTERRUPT&&(i.push(r),n._trigged=!1,t.transport&&t.transport.send())});for(var t;t=i.shift();)t.setStatus(o.PROGRESS);t||a.each(n.request("get-files",o.INTERRUPT),function(){this.setStatus(o.PROGRESS)}),n._trigged=!1,e.nextTick(n.__tick),n.owner.trigger("startUpload")}},stopUpload:function(t,n){var i=this;if(t===!0&&(n=t,t=null),i.runing!==!1){if(t){if(t=t.id?t:i.request("get-file",t),t.getStatus()!==o.PROGRESS&&t.getStatus()!==o.QUEUED)return;return t.setStatus(o.INTERRUPT),a.each(i.pool,function(e,n){n.file===t&&(n.transport&&n.transport.abort(),i._putback(n),i._popBlock(n))}),e.nextTick(i.__tick)}i.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(o.INTERRUPT),n&&a.each(i.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(o.INTERRUPT)}),i.owner.trigger("stopUpload")}},cancelFile:function(e){e=e.id?e:this.request("get-file",e),e.blocks&&a.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(o.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){e=e.id?e:this.request("get-file",e),e.setStatus(t||o.COMPLETE),e.skipped=!0,e.blocks&&a.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var t,n,i=this,r=i.options;return i._promise?i._promise.always(i.__tick):void(i.pool.length<r.threads&&(n=i._nextBlock())?(i._trigged=!1,t=function(t){i._promise=null,t&&t.file&&i._startSend(t),e.nextTick(i.__tick)},i._promise=s(n)?n.always(t):t(n)):i.remaning||i._getStats().numOfQueue||i._getStats().numofInterrupt||(i.runing=!1,i._trigged||e.nextTick(function(){i.owner.trigger("uploadFinished")}),i._trigged=!0))},_putback:function(e){var t;e.cuted.unshift(e),t=this.stack.indexOf(e.cuted),~t||this.stack.unshift(e.cuted)},_getStack:function(){for(var e,t=0;e=this.stack[t++];){if(e.has()&&e.file.getStatus()===o.PROGRESS)return e;(!e.has()||e.file.getStatus()!==o.PROGRESS&&e.file.getStatus()!==o.INTERRUPT)&&this.stack.splice(--t,1)}return null},_nextBlock:function(){var e,t,n,i,a=this,o=a.options;return(e=this._getStack())?(o.prepareNextFile&&!a.pending.length&&a._prepareNextFile(),e.shift()):a.runing?(!a.pending.length&&a._getStats().numOfQueue&&a._prepareNextFile(),t=a.pending.shift(),n=function(t){return t?(e=r(t,o.chunked?o.chunkSize:0),a.stack.push(e),e.shift()):null},s(t)?(i=t.file,t=t[t.pipe?"pipe":"then"](n),t.file=i,t):n(t)):void 0},_prepareNextFile:function(){var e,t=this,n=t.request("fetch-file"),i=t.pending;
n&&(e=t.request("before-send-file",n,function(){return n.getStatus()===o.PROGRESS||n.getStatus()===o.INTERRUPT?n:t._finishFile(n)}),t.owner.trigger("uploadStart",n),n.setStatus(o.PROGRESS),e.file=n,e.done(function(){var t=a.inArray(e,i);~t&&i.splice(t,1,n)}),e.fail(function(e){n.setStatus(o.ERROR,e),t.owner.trigger("uploadError",n,e),t.owner.trigger("uploadComplete",n)}),i.push(e))},_popBlock:function(e){var t=a.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(t){var n,i=this,r=t.file;return r.getStatus()!==o.PROGRESS?void(r.getStatus()===o.INTERRUPT&&i._putback(t)):(i.pool.push(t),i.remaning++,t.blob=1===t.chunks?r.source:r.source.slice(t.start,t.end),n=i.request("before-send",t,function(){r.getStatus()===o.PROGRESS?i._doSend(t):(i._popBlock(t),e.nextTick(i.__tick))}),void n.fail(function(){1===r.remaning?i._finishFile(r).always(function(){t.percentage=1,i._popBlock(t),i.owner.trigger("uploadComplete",r),e.nextTick(i.__tick)}):(t.percentage=1,i.updateFileProgress(r),i._popBlock(t),e.nextTick(i.__tick))}))},_doSend:function(t){var n,r,s=this,l=s.owner,c=s.options,p=t.file,u=new i(c),d=a.extend({},c.formData),h=a.extend({},c.headers);t.transport=u,u.on("destroy",function(){delete t.transport,s._popBlock(t),e.nextTick(s.__tick)}),u.on("progress",function(e){t.percentage=e,s.updateFileProgress(p)}),n=function(e){var n;return r=u.getResponseAsJson()||{},r._raw=u.getResponse(),n=function(t){e=t},l.trigger("uploadAccept",t,r,n)||(e=e||"server"),e},u.on("error",function(e,i){t.retried=t.retried||0,t.chunks>1&&~"http,abort".indexOf(e)&&t.retried<c.chunkRetry?(t.retried++,u.send()):(i||"server"!==e||(e=n(e)),p.setStatus(o.ERROR,e),l.trigger("uploadError",p,e),l.trigger("uploadComplete",p))}),u.on("load",function(){var e;return(e=n())?void u.trigger("error",e,!0):void(1===p.remaning?s._finishFile(p,r):u.destroy())}),d=a.extend(d,{id:p.id,name:p.name,type:p.type,lastModifiedDate:p.lastModifiedDate,size:p.size}),t.chunks>1&&a.extend(d,{chunks:t.chunks,chunk:t.chunk}),l.trigger("uploadBeforeSend",t,d,h),u.appendBlob(c.fileVal,t.blob,p.name),u.append(d),u.setRequestHeader(h),u.send()},_finishFile:function(e,t,n){var i=this.owner;return i.request("after-send-file",arguments,function(){e.setStatus(o.COMPLETE),i.trigger("uploadSuccess",e,t,n)}).fail(function(t){e.getStatus()===o.PROGRESS&&e.setStatus(o.ERROR,t),i.trigger("uploadError",e,t)}).always(function(){i.trigger("uploadComplete",e)})},updateFileProgress:function(e){var t=0,n=0;e.blocks&&(a.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0))}})}),t("widgets/log",["base","uploader","widgets/widget"],function(e,t){function n(e){var t=r.extend({},i,e),n=a.replace(/^(.*)\?/,"$1"+r.param(t)),s=new Image;s.src=n}var i,r=e.$,a=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",s=(location.hostname||location.host||"protected").toLowerCase(),o=s&&/baidu/i.exec(s);if(o)return i={dv:3,master:"webuploader",online:/test/.exec(s)?0:1,module:"",product:s,type:0},t.register({name:"log",init:function(){var e=this.owner,t=0,i=0;e.on("error",function(e){n({type:2,c_error_code:e})}).on("uploadError",function(e,t){n({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+t})}).on("uploadComplete",function(e){t++,i+=e.size}).on("uploadFinished",function(){n({c_count:t,c_size:i}),t=i=0}),n({c_usage:1})}})}),t("runtime/compbase",[],function(){function e(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}return e}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,i){function r(){var e={},i=this,r=this.destroy;n.apply(i,arguments),i.type=a,i.exec=function(n,r){var a,o=this,l=o.uid,c=t.slice(arguments,2);if(s[n]&&(a=e[l]=e[l]||new s[n](o,i),a[r]))return a[r].apply(a,c)},i.destroy=function(){return r&&r.apply(this,arguments)}}var a="html5",s={};return t.inherits(n,{constructor:r,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),r.register=function(e,n){var r=s[e]=t.inherits(i,n);return r},e.Blob&&e.FileReader&&e.DataView&&n.addRuntime(a,r),r}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var i=this.owner.source,r=i.slice||i.webkitSlice||i.mozSlice;return i=r.call(i,e,n),new t(this.getRuid(),i)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(){var e,t,i,r,a=this.getRuntime().getContainer(),s=this,o=s.owner,l=s.options,c=this.label=n(document.createElement("label")),p=this.input=n(document.createElement("input"));if(p.attr("type","file"),p.attr("name",l.name),p.addClass("webuploader-element-invisible"),c.on("click",function(){p.trigger("click")}),c.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),l.multiple&&p.attr("multiple","multiple"),l.accept&&l.accept.length>0){for(e=[],t=0,i=l.accept.length;t<i;t++)e.push(l.accept[t].mimeTypes);p.attr("accept",e.join(","))}a.append(p),a.append(c),r=function(e){o.trigger(e.type)},p.on("change",function(e){var t,i=arguments.callee;s.files=e.target.files,t=this.cloneNode(!0),t.value=null,this.parentNode.replaceChild(t,this),p.off(),p=n(t).on("change",i).on("mouseenter mouseleave",r),o.trigger("change")}),c.on("mouseenter mouseleave",r)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(t){var n=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL,i=t.noop,r=i;return n&&(i=function(){return n.createObjectURL.apply(n,arguments)},r=function(){return n.revokeObjectURL.apply(n,arguments)}),{createObjectURL:i,revokeObjectURL:r,dataURL2Blob:function(e){var t,n,i,r,a,s;for(s=e.split(","),t=~s[0].indexOf("base64")?atob(s[1]):decodeURIComponent(s[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return a=s[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(i,a)},dataURL2ArrayBuffer:function(e){var t,n,i,r;for(r=e.split(","),t=~r[0].indexOf("base64")?atob(r[1]):decodeURIComponent(r[1]),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},arrayBufferToBlob:function(t,n){var i,r=e.BlobBuilder||e.WebKitBlobBuilder;return r?(i=new r,i.append(t),i.getBlob(n)):new Blob([t],n?{type:n}:{})},canvasToDataUrl:function(e,t,n){return e.toDataURL(t,n/100)},parseMeta:function(e,t){t(!1,{})},updateImageHead:function(e){return e}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(e){var t;return t={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,i=new FileReader;i.onload=function(){t(!1,n._parse(this.result)),i=i.onload=i.onerror=null},i.onerror=function(e){t(e.message),i=i.onload=i.onerror=null},e=e.slice(0,n.maxMetaDataSize),i.readAsArrayBuffer(e.getSource())},_parse:function(e,n){if(!(e.byteLength<6)){var i,r,a,s,o=new DataView(e),l=2,c=o.byteLength-4,p=l,u={};if(65496===o.getUint16(0)){for(;l<c&&(i=o.getUint16(l),i>=65504&&i<=65519||65534===i)&&(r=o.getUint16(l+2)+2,!(l+r>o.byteLength));){if(a=t.parsers[i],!n&&a)for(s=0;s<a.length;s+=1)a[s].call(t,o,l,r,u);l+=r,p=l}p>6&&(e.slice?u.imageHead=e.slice(2,p):u.imageHead=new Uint8Array(e).subarray(2,p))}return u}},updateImageHead:function(e,t){var n,i,r,a=this._parse(e,!0);return r=2,a.imageHead&&(r=2+a.imageHead.byteLength),i=e.slice?e.slice(r):new Uint8Array(e).subarray(r),n=new Uint8Array(t.byteLength+2+i.byteLength),n[0]=255,n[1]=216,n.set(new Uint8Array(t),2),n.set(new Uint8Array(i),t.byteLength+2),n.buffer}},e.parseMeta=function(){return t.parse.apply(t,arguments)},e.updateImageHead=function(){return t.updateImageHead.apply(t,arguments)},t}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(e,t){var n={};return n.ExifMap=function(){return this},n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},n.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(t,i,r,a,s,o){var l,c,p,u,d,h,f=n.exifTagTypes[a];if(!f)return void e.log("Invalid Exif data: Invalid tag type.");if(l=f.size*s,c=l>4?i+t.getUint32(r+8,o):r+8,c+l>t.byteLength)return void e.log("Invalid Exif data: Invalid data offset.");if(1===s)return f.getValue(t,c,o);for(p=[],u=0;u<s;u+=1)p[u]=f.getValue(t,c+u*f.size,o);if(f.ascii){for(d="",u=0;u<p.length&&(h=p[u],"\0"!==h);u+=1)d+=h;return d}return p},n.parseExifTag=function(e,t,i,r,a){var s=e.getUint16(i,r);a.exif[s]=n.getExifValue(e,t,i,e.getUint16(i+2,r),e.getUint32(i+4,r),r)},n.parseExifTags=function(t,n,i,r,a){var s,o,l;if(i+6>t.byteLength)return void e.log("Invalid Exif data: Invalid directory offset.");if(s=t.getUint16(i,r),o=i+2+12*s,o+4>t.byteLength)return void e.log("Invalid Exif data: Invalid directory size.");for(l=0;l<s;l+=1)this.parseExifTag(t,n,i+2+12*l,r,a);return t.getUint32(o,r)},n.parseExifData=function(t,i,r,a){var s,o,l=i+10;if(1165519206===t.getUint32(i+4)){if(l+8>t.byteLength)return void e.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void e.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(l)){case 18761:s=!0;break;case 19789:s=!1;break;default:return void e.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(l+2,s))return void e.log("Invalid Exif data: Missing TIFF marker.");o=t.getUint32(l+4,s),a.exif=new n.ExifMap,o=n.parseExifTags(t,l,l+o,s,a)}},t.parsers[65505].push(n.parseExifData),n}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(e,t,n){var i="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return t.register("Image",{modified:!1,init:function(){var e=this,t=new Image;t.onload=function(){e._info={type:e.type,width:this.width,height:this.height},e._metas||"image/jpeg"!==e.type?e.owner.trigger("load"):n.parseMeta(e._blob,function(t,n){e._metas=n,e.owner.trigger("load")})},t.onerror=function(){e.owner.trigger("error")},e._img=t},loadFromBlob:function(e){var t=this,i=t._img;t._blob=e,t.type=e.type,i.src=n.createObjectURL(e.getSource()),t.owner.once("load",function(){n.revokeObjectURL(i.src)})},resize:function(e,t){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,e,t),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(e,t,n,i,r){var a=this._canvas||(this._canvas=document.createElement("canvas")),s=this.options,o=this._img,l=o.naturalWidth,c=o.naturalHeight,p=this.getOrientation();r=r||1,a.width=n,a.height=i,s.preserveHeaders||this._rotate2Orientaion(a,p),this._renderImageToCanvas(a,o,-e,-t,l*r,c*r),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(e){var t,i=this._blob,r=this.options;if(e=e||this.type,this.modified||this.type!==e){if(t=this._canvas,"image/jpeg"===e){if(i=n.canvasToDataUrl(t,e,r.quality),r.preserveHeaders&&this._metas&&this._metas.imageHead)return i=n.dataURL2ArrayBuffer(i),i=n.updateImageHead(i,this._metas.imageHead),i=n.arrayBufferToBlob(i,e)}else i=n.canvasToDataUrl(t,e);i=n.dataURL2Blob(i)}return i},getAsDataUrl:function(e){var t=this.options;return e=e||this.type,"image/jpeg"===e?n.canvasToDataUrl(this._canvas,e,t.quality):this._canvas.toDataURL(e)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},destroy:function(){var e=this._canvas;this._img.onload=null,e&&(e.getContext("2d").clearRect(0,0,e.width,e.height),e.width=e.height=0,this._canvas=null),this._img.src=i,this._img=this._blob=null},_resize:function(e,t,n,i){var r,a,s,o,l,c=this.options,p=e.width,u=e.height,d=this.getOrientation();~[5,6,7,8].indexOf(d)&&(n^=i,i^=n,n^=i),r=Math[c.crop?"max":"min"](n/p,i/u),c.allowMagnify||(r=Math.min(1,r)),a=p*r,s=u*r,c.crop?(t.width=n,t.height=i):(t.width=a,t.height=s),o=(t.width-a)/2,l=(t.height-s)/2,c.preserveHeaders||this._rotate2Orientaion(t,d),this._renderImageToCanvas(t,e,o,l,a,s)},_rotate2Orientaion:function(e,t){var n=e.width,i=e.height,r=e.getContext("2d");switch(t){case 5:case 6:case 7:case 8:e.width=i,e.height=n}switch(t){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,i),r.rotate(Math.PI);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI),r.translate(n,-i),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n,0)}},_renderImageToCanvas:function(){function t(e,t,n){var i,r,a,s=document.createElement("canvas"),o=s.getContext("2d"),l=0,c=n,p=n;for(s.width=1,s.height=n,o.drawImage(e,0,0),i=o.getImageData(0,0,1,n).data;p>l;)r=i[4*(p-1)+3],0===r?c=p:l=p,p=c+l>>1;return a=p/n,0===a?1:a}function n(e){var t,n,i=e.naturalWidth,r=e.naturalHeight;return i*r>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,-i+1,0),0===n.getImageData(0,0,1,1).data[3])}return e.os.ios?e.os.ios>=7?function(e,n,i,r,a,s){var o=n.naturalWidth,l=n.naturalHeight,c=t(n,o,l);return e.getContext("2d").drawImage(n,0,0,o*c,l*c,i,r,a,s)}:function(e,i,r,a,s,o){var l,c,p,u,d,h,f,m=i.naturalWidth,g=i.naturalHeight,v=e.getContext("2d"),y=n(i),w="image/jpeg"===this.type,b=1024,x=0,T=0;for(y&&(m/=2,g/=2),v.save(),l=document.createElement("canvas"),l.width=l.height=b,c=l.getContext("2d"),p=w?t(i,m,g):1,u=Math.ceil(b*s/m),d=Math.ceil(b*o/g/p);x<g;){for(h=0,f=0;h<m;)c.clearRect(0,0,b,b),c.drawImage(i,-h,-x),v.drawImage(l,0,0,b,b,r+f,a+T,u,d),h+=b,f+=u;x+=b,T+=d}v.restore(),l=c=null}:function(t){var n=e.slice(arguments,1),i=t.getContext("2d");i.drawImage.apply(i,n)}}()})}),t("runtime/html5/jpegencoder",[],function(e,t,n){function i(e){function t(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=C((t[n]*e+50)/100);i<1?i=1:i>255&&(i=255),k[F[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var s=C((r[a]*e+50)/100);s<1?s=1:s>255&&(s=255),E[F[a]]=s}for(var o=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,c=0;c<8;c++)for(var p=0;p<8;p++)M[l]=1/(k[F[l]]*o[c]*o[p]*8),P[l]=1/(E[F[l]]*o[c]*o[p]*8),l++}function n(e,t){for(var n=0,i=0,r=new Array,a=1;a<=16;a++){for(var s=1;s<=e[a];s++)r[t[i]]=[],r[t[i]][0]=n,r[t[i]][1]=a,i++,n++;n*=2}return r}function i(){w=n(X,W),b=n(V,U),x=n(q,j),T=n(G,$)}function r(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)D[32767+i]=n,_[32767+i]=[],_[32767+i][1]=n,_[32767+i][0]=i;for(var r=-(t-1);r<=-e;r++)D[32767+r]=n,_[32767+r]=[],_[32767+r][1]=n,_[32767+r][0]=t-1+r;e<<=1,t<<=1}}function a(){for(var e=0;e<256;e++)N[e]=19595*e,N[e+256>>0]=38470*e,N[e+512>>0]=7471*e+32768,N[e+768>>0]=-11059*e,N[e+1024>>0]=-21709*e,N[e+1280>>0]=32768*e+8421375,N[e+1536>>0]=-27439*e,N[e+1792>>0]=-5329*e}function s(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(A|=1<<R),n--,R--,R<0&&(255==A?(o(255),o(0)):o(A),R=7,A=0)}function o(e){L.push(Y[e])}function l(e){o(e>>8&255),o(255&e)}function c(e,t){var n,i,r,a,s,o,l,c,p,u=0,d=8,h=64;for(p=0;p<d;++p){n=e[u],i=e[u+1],r=e[u+2],a=e[u+3],s=e[u+4],o=e[u+5],l=e[u+6],c=e[u+7];var f=n+c,m=n-c,g=i+l,v=i-l,y=r+o,w=r-o,b=a+s,x=a-s,T=f+b,S=f-b,C=g+y,k=g-y;e[u]=T+C,e[u+4]=T-C;var E=.707106781*(k+S);e[u+2]=S+E,e[u+6]=S-E,T=x+w,C=w+v,k=v+m;var M=.382683433*(T-k),P=.5411961*T+M,_=1.306562965*k+M,D=.707106781*C,z=m+D,L=m-D;e[u+5]=L+P,e[u+3]=L-P,e[u+1]=z+_,e[u+7]=z-_,u+=8}for(u=0,p=0;p<d;++p){n=e[u],i=e[u+8],r=e[u+16],a=e[u+24],s=e[u+32],o=e[u+40],l=e[u+48],c=e[u+56];var A=n+c,R=n-c,O=i+l,H=i-l,B=r+o,Y=r-o,N=a+s,F=a-s,X=A+N,W=A-N,q=O+B,j=O-B;e[u]=X+q,e[u+32]=X-q;var V=.707106781*(j+W);e[u+16]=W+V,e[u+48]=W-V,X=F+Y,q=Y+H,j=H+R;var U=.382683433*(X-j),G=.5411961*X+U,$=1.306562965*j+U,Z=.707106781*q,K=R+Z,Q=R-Z;e[u+40]=Q+G,e[u+24]=Q-G,e[u+8]=K+$,e[u+56]=K-$,u++}var J;for(p=0;p<h;++p)J=e[p]*t[p],I[p]=J>0?J+.5|0:J-.5|0;return I}function p(){l(65504),l(16),o(74),o(70),o(73),o(70),o(0),o(1),o(1),o(0),l(1),l(1),o(0),o(0)}function u(e,t){l(65472),l(17),o(8),l(t),l(e),o(3),o(1),o(17),o(0),o(2),o(17),o(1),o(3),o(17),o(1)}function d(){l(65499),l(132),o(0);for(var e=0;e<64;e++)o(k[e]);o(1);for(var t=0;t<64;t++)o(E[t])}function h(){l(65476),l(418),o(0);for(var e=0;e<16;e++)o(X[e+1]);for(var t=0;t<=11;t++)o(W[t]);o(16);for(var n=0;n<16;n++)o(q[n+1]);for(var i=0;i<=161;i++)o(j[i]);o(1);for(var r=0;r<16;r++)o(V[r+1]);for(var a=0;a<=11;a++)o(U[a]);o(17);for(var s=0;s<16;s++)o(G[s+1]);for(var c=0;c<=161;c++)o($[c])}function f(){l(65498),l(12),o(3),o(1),o(0),o(2),o(17),o(3),o(17),o(0),o(63),o(0)}function m(e,t,n,i,r){for(var a,o=r[0],l=r[240],p=16,u=63,d=64,h=c(e,t),f=0;f<d;++f)z[F[f]]=h[f];var m=z[0]-n;n=z[0],0==m?s(i[0]):(a=32767+m,s(i[D[a]]),s(_[a]));for(var g=63;g>0&&0==z[g];g--);if(0==g)return s(o),n;for(var v,y=1;y<=g;){for(var w=y;0==z[y]&&y<=g;++y);var b=y-w;if(b>=p){v=b>>4;for(var x=1;x<=v;++x)s(l);b=15&b}a=32767+z[y],s(r[(b<<4)+D[a]]),s(_[a]),y++}return g!=u&&s(o),n}function g(){for(var e=String.fromCharCode,t=0;t<256;t++)Y[t]=e(t)}function v(e){if(e<=0&&(e=1),e>100&&(e=100),S!=e){var n=0;n=e<50?Math.floor(5e3/e):Math.floor(200-2*e),t(n),S=e}}function y(){e||(e=50),g(),i(),r(),a(),v(e)}var w,b,x,T,S,C=(Math.round,Math.floor),k=new Array(64),E=new Array(64),M=new Array(64),P=new Array(64),_=new Array(65535),D=new Array(65535),I=new Array(64),z=new Array(64),L=[],A=0,R=7,O=new Array(64),H=new Array(64),B=new Array(64),Y=new Array(256),N=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,t){t&&v(t),L=new Array,A=0,R=7,l(65496),p(),d(),u(e.width,e.height),h(),f();var n=0,i=0,r=0;A=0,R=7,this.encode.displayName="_encode_";for(var a,o,c,g,y,S,C,k,E,_=e.data,D=e.width,I=e.height,z=4*D,Y=0;Y<I;){for(a=0;a<z;){for(y=z*Y+a,S=y,C=-1,k=0,E=0;E<64;E++)k=E>>3,C=4*(7&E),S=y+k*z+C,Y+k>=I&&(S-=z*(Y+1+k-I)),a+C>=z&&(S-=a+C-z+4),o=_[S++],c=_[S++],g=_[S++],O[E]=(N[o]+N[c+256>>0]+N[g+512>>0]>>16)-128,H[E]=(N[o+768>>0]+N[c+1024>>0]+N[g+1280>>0]>>16)-128,B[E]=(N[o+1280>>0]+N[c+1536>>0]+N[g+1792>>0]>>16)-128;n=m(O,M,n,w,x),i=m(H,P,i,b,T),r=m(B,P,r,b,T),a+=32}Y+=8}if(R>=0){var F=[];F[1]=R+1,F[0]=(1<<R+1)-1,s(F)}l(65497);var X="data:image/jpeg;base64,"+btoa(L.join(""));return L=[],X},y()}return i.encode=function(e,t){var n=new i(t);return n.encode(e)},i}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(e,t,n){var i,r=e.canvasToDataUrl;e.canvasToDataUrl=function(e,a,s){var o,l,c,p,u;return n.os.android?("image/jpeg"===a&&"undefined"==typeof i&&(p=r.apply(null,arguments),u=p.split(","),p=~u[0].indexOf("base64")?atob(u[1]):decodeURIComponent(u[1]),p=p.substring(0,2),i=255===p.charCodeAt(0)&&216===p.charCodeAt(1)),"image/jpeg"!==a||i?r.apply(null,arguments):(l=e.width,c=e.height,o=e.getContext("2d"),t.encode(o.getImageData(0,0,l,c),s))):r.apply(null,arguments)}}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(e,t){var n=e.noop,i=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var t,n,r,a=this.owner,s=this.options,o=this._initAjax(),l=a._blob,c=s.server;s.sendAsBinary?(c+=(/\?/.test(c)?"&":"?")+i.param(a._formData),n=l.getSource()):(t=new FormData,i.each(a._formData,function(e,n){t.append(e,n)}),t.append(s.fileVal,l.getSource(),s.filename||a._formData.name||"")),s.withCredentials&&"withCredentials"in o?(o.open(s.method,c,!0),o.withCredentials=!0):o.open(s.method,c),this._setRequestHeader(o,s.headers),n?(o.overrideMimeType&&o.overrideMimeType("application/octet-stream"),e.os.android?(r=new FileReader,r.onload=function(){o.send(this.result),r=r.onload=null},r.readAsArrayBuffer(n)):o.send(n)):o.send(t)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=n,e.onreadystatechange=n,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new XMLHttpRequest,i=this.options;return!i.withCredentials||"withCredentials"in t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest),t.upload.onprogress=function(t){var n=0;return t.lengthComputable&&(n=t.loaded/t.total),e.trigger("progress",n)},t.onreadystatechange=function(){if(4===t.readyState)return t.upload.onprogress=n,t.onreadystatechange=n,e._xhr=null,e._status=t.status,t.status>=200&&t.status<300?(e._response=t.responseText,e.trigger("load")):t.status>=500&&t.status<600?(e._response=t.responseText,e.trigger("error","server")):e.trigger("error",e._status?"http":"abort")},e._xhr=t,t},_setRequestHeader:function(e,t){i.each(t,function(t,n){e.setRequestHeader(t,n)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(n){t={}}return t}})}),t("webuploader",["base","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/log","runtime/html5/blob","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/image","runtime/html5/androidpatch","runtime/html5/transport"],function(e){return e}),n("webuploader")});