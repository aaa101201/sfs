<html>
<head>
	<title>jQuery Ajax</title>
	<meta charset="utf-8"/>
	<script src="__PUBLIC__/styles/jquery-1.7.1.js" type="text/javascript"></script>
	<script src="__PUBLIC__/styles/messages_zh.js" type="text/javascript"></script>
	<script src="__PUBLIC__/styles/jquery.validate.js" type="text/javascript"></script>
	<script src="__PUBLIC__/styles/card.js" type="text/javascript"></script>
</head>
<body>
<div id="result" style="background:orange;border:1px solid red;width:300px;height:200px;"></div>
<form id="formtest" action="" method="post">
	<p><span>用户名:</span><input type="text" name="username" id="username" /></p>
	<p><span>密码:</span><input type="password" name="password" id="password" /></p>
	<button id="send_ajax" />提交</button>
</form>
</body>
</html>
<script>
    $(document).ready(function (){
        //Ajax方式
        $('#send_ajax').click(function (){
            var params=$('input').serialize();
            $.ajax({
                cache: true,
                url:'__MODULE__/User/doLogin',
                type:'post',
                dataType:'json',
                data:params,
                async: false,
                success:function(json) {
                    var str="姓名:"+json.code+"<br />";
                    str+="密码:"+json.msg+"<br />";
                    str+="条数:"+json.total+"<br />";
                    $("#result").html(str);
                }
            });
        });
    });
</script>